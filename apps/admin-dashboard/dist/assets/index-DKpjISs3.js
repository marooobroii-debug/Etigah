(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var Nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zg={exports:{}},bf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function uS(){if(Jy)return bf;Jy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return bf.Fragment=t,bf.jsx=e,bf.jsxs=e,bf}var Zy;function cS(){return Zy||(Zy=1,zg.exports=uS()),zg.exports}var zt=cS(),Hg={exports:{}},wf={},Gg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function hS(){return tv||(tv=1,(function(n){function t(st,dt){var ht=st.length;st.push(dt);t:for(;0<ht;){var Ct=ht-1>>>1,Ft=st[Ct];if(0<a(Ft,dt))st[Ct]=dt,st[ht]=Ft,ht=Ct;else break t}}function e(st){return st.length===0?null:st[0]}function r(st){if(st.length===0)return null;var dt=st[0],ht=st.pop();if(ht!==dt){st[0]=ht;t:for(var Ct=0,Ft=st.length,W=Ft>>>1;Ct<W;){var D=2*(Ct+1)-1,Y=st[D],$=D+1,ot=st[$];if(0>a(Y,ht))$<Ft&&0>a(ot,Y)?(st[Ct]=ot,st[$]=ht,Ct=$):(st[Ct]=Y,st[D]=ht,Ct=D);else if($<Ft&&0>a(ot,ht))st[Ct]=ot,st[$]=ht,Ct=$;else break t}}return dt}function a(st,dt){var ht=st.sortIndex-dt.sortIndex;return ht!==0?ht:st.id-dt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,A=null,N=3,b=!1,V=!1,B=!1,z=!1,U=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function J(st){for(var dt=e(p);dt!==null;){if(dt.callback===null)r(p);else if(dt.startTime<=st)r(p),dt.sortIndex=dt.expirationTime,t(f,dt);else break;dt=e(p)}}function vt(st){if(B=!1,J(st),!V)if(e(f)!==null)V=!0,pt||(pt=!0,C());else{var dt=e(p);dt!==null&&bt(vt,dt.startTime-st)}}var pt=!1,j=-1,O=5,R=-1;function F(){return z?!0:!(n.unstable_now()-R<O)}function S(){if(z=!1,pt){var st=n.unstable_now();R=st;var dt=!0;try{t:{V=!1,B&&(B=!1,rt(j),j=-1),b=!0;var ht=N;try{e:{for(J(st),A=e(f);A!==null&&!(A.expirationTime>st&&F());){var Ct=A.callback;if(typeof Ct=="function"){A.callback=null,N=A.priorityLevel;var Ft=Ct(A.expirationTime<=st);if(st=n.unstable_now(),typeof Ft=="function"){A.callback=Ft,J(st),dt=!0;break e}A===e(f)&&r(f),J(st)}else r(f);A=e(f)}if(A!==null)dt=!0;else{var W=e(p);W!==null&&bt(vt,W.startTime-st),dt=!1}}break t}finally{A=null,N=ht,b=!1}dt=void 0}}finally{dt?C():pt=!1}}}var C;if(typeof tt=="function")C=function(){tt(S)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Z=L.port2;L.port1.onmessage=S,C=function(){Z.postMessage(null)}}else C=function(){U(S,0)};function bt(st,dt){j=U(function(){st(n.unstable_now())},dt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(st){st.callback=null},n.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<st?Math.floor(1e3/st):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(st){switch(N){case 1:case 2:case 3:var dt=3;break;default:dt=N}var ht=N;N=dt;try{return st()}finally{N=ht}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(st,dt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var ht=N;N=st;try{return dt()}finally{N=ht}},n.unstable_scheduleCallback=function(st,dt,ht){var Ct=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ct+ht:Ct):ht=Ct,st){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ht+Ft,st={id:v++,callback:dt,priorityLevel:st,startTime:ht,expirationTime:Ft,sortIndex:-1},ht>Ct?(st.sortIndex=ht,t(p,st),e(f)===null&&st===e(p)&&(B?(rt(j),j=-1):B=!0,bt(vt,ht-Ct))):(st.sortIndex=Ft,t(f,st),V||b||(V=!0,pt||(pt=!0,C()))),st},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(st){var dt=N;return function(){var ht=N;N=dt;try{return st.apply(this,arguments)}finally{N=ht}}}})(Yg)),Yg}var ev;function fS(){return ev||(ev=1,Gg.exports=hS()),Gg.exports}var Kg={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function dS(){if(nv)return Je;nv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function b(W){return W===null||typeof W!="object"?null:(W=N&&W[N]||W["@@iterator"],typeof W=="function"?W:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,z={};function U(W,D,Y){this.props=W,this.context=D,this.refs=z,this.updater=Y||V}U.prototype.isReactComponent={},U.prototype.setState=function(W,D){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,D,"setState")},U.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function rt(){}rt.prototype=U.prototype;function tt(W,D,Y){this.props=W,this.context=D,this.refs=z,this.updater=Y||V}var J=tt.prototype=new rt;J.constructor=tt,B(J,U.prototype),J.isPureReactComponent=!0;var vt=Array.isArray;function pt(){}var j={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function R(W,D,Y){var $=Y.ref;return{$$typeof:n,type:W,key:D,ref:$!==void 0?$:null,props:Y}}function F(W,D){return R(W.type,D,W.props)}function S(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function C(W){var D={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return D[Y]})}var L=/\/+/g;function Z(W,D){return typeof W=="object"&&W!==null&&W.key!=null?C(""+W.key):D.toString(36)}function bt(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(pt,pt):(W.status="pending",W.then(function(D){W.status==="pending"&&(W.status="fulfilled",W.value=D)},function(D){W.status==="pending"&&(W.status="rejected",W.reason=D)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function st(W,D,Y,$,ot){var ut=typeof W;(ut==="undefined"||ut==="boolean")&&(W=null);var mt=!1;if(W===null)mt=!0;else switch(ut){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(W.$$typeof){case n:case t:mt=!0;break;case v:return mt=W._init,st(mt(W._payload),D,Y,$,ot)}}if(mt)return ot=ot(W),mt=$===""?"."+Z(W,0):$,vt(ot)?(Y="",mt!=null&&(Y=mt.replace(L,"$&/")+"/"),st(ot,D,Y,"",function(Ut){return Ut})):ot!=null&&(S(ot)&&(ot=F(ot,Y+(ot.key==null||W&&W.key===ot.key?"":(""+ot.key).replace(L,"$&/")+"/")+mt)),D.push(ot)),1;mt=0;var Nt=$===""?".":$+":";if(vt(W))for(var St=0;St<W.length;St++)$=W[St],ut=Nt+Z($,St),mt+=st($,D,Y,ut,ot);else if(St=b(W),typeof St=="function")for(W=St.call(W),St=0;!($=W.next()).done;)$=$.value,ut=Nt+Z($,St++),mt+=st($,D,Y,ut,ot);else if(ut==="object"){if(typeof W.then=="function")return st(bt(W),D,Y,$,ot);throw D=String(W),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return mt}function dt(W,D,Y){if(W==null)return W;var $=[],ot=0;return st(W,$,"","",function(ut){return D.call(Y,ut,ot++)}),$}function ht(W){if(W._status===-1){var D=W._result;D=D(),D.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=D)}if(W._status===1)return W._result.default;throw W._result}var Ct=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Ft={map:dt,forEach:function(W,D,Y){dt(W,function(){D.apply(this,arguments)},Y)},count:function(W){var D=0;return dt(W,function(){D++}),D},toArray:function(W){return dt(W,function(D){return D})||[]},only:function(W){if(!S(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return Je.Activity=A,Je.Children=Ft,Je.Component=U,Je.Fragment=e,Je.Profiler=a,Je.PureComponent=tt,Je.StrictMode=r,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Je.__COMPILER_RUNTIME={__proto__:null,c:function(W){return j.H.useMemoCache(W)}},Je.cache=function(W){return function(){return W.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(W,D,Y){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var $=B({},W.props),ot=W.key;if(D!=null)for(ut in D.key!==void 0&&(ot=""+D.key),D)!O.call(D,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&D.ref===void 0||($[ut]=D[ut]);var ut=arguments.length-2;if(ut===1)$.children=Y;else if(1<ut){for(var mt=Array(ut),Nt=0;Nt<ut;Nt++)mt[Nt]=arguments[Nt+2];$.children=mt}return R(W.type,ot,$)},Je.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},Je.createElement=function(W,D,Y){var $,ot={},ut=null;if(D!=null)for($ in D.key!==void 0&&(ut=""+D.key),D)O.call(D,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=D[$]);var mt=arguments.length-2;if(mt===1)ot.children=Y;else if(1<mt){for(var Nt=Array(mt),St=0;St<mt;St++)Nt[St]=arguments[St+2];ot.children=Nt}if(W&&W.defaultProps)for($ in mt=W.defaultProps,mt)ot[$]===void 0&&(ot[$]=mt[$]);return R(W,ut,ot)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(W){return{$$typeof:h,render:W}},Je.isValidElement=S,Je.lazy=function(W){return{$$typeof:v,_payload:{_status:-1,_result:W},_init:ht}},Je.memo=function(W,D){return{$$typeof:p,type:W,compare:D===void 0?null:D}},Je.startTransition=function(W){var D=j.T,Y={};j.T=Y;try{var $=W(),ot=j.S;ot!==null&&ot(Y,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(pt,Ct)}catch(ut){Ct(ut)}finally{D!==null&&Y.types!==null&&(D.types=Y.types),j.T=D}},Je.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Je.use=function(W){return j.H.use(W)},Je.useActionState=function(W,D,Y){return j.H.useActionState(W,D,Y)},Je.useCallback=function(W,D){return j.H.useCallback(W,D)},Je.useContext=function(W){return j.H.useContext(W)},Je.useDebugValue=function(){},Je.useDeferredValue=function(W,D){return j.H.useDeferredValue(W,D)},Je.useEffect=function(W,D){return j.H.useEffect(W,D)},Je.useEffectEvent=function(W){return j.H.useEffectEvent(W)},Je.useId=function(){return j.H.useId()},Je.useImperativeHandle=function(W,D,Y){return j.H.useImperativeHandle(W,D,Y)},Je.useInsertionEffect=function(W,D){return j.H.useInsertionEffect(W,D)},Je.useLayoutEffect=function(W,D){return j.H.useLayoutEffect(W,D)},Je.useMemo=function(W,D){return j.H.useMemo(W,D)},Je.useOptimistic=function(W,D){return j.H.useOptimistic(W,D)},Je.useReducer=function(W,D,Y){return j.H.useReducer(W,D,Y)},Je.useRef=function(W){return j.H.useRef(W)},Je.useState=function(W){return j.H.useState(W)},Je.useSyncExternalStore=function(W,D,Y){return j.H.useSyncExternalStore(W,D,Y)},Je.useTransition=function(){return j.H.useTransition()},Je.version="19.2.0",Je}var iv;function M0(){return iv||(iv=1,Kg.exports=dS()),Kg.exports}var Qg={exports:{}},os={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function pS(){if(rv)return os;rv=1;var n=M0();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:f,containerInfo:p,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return os.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,os.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(f,p,null,v)},os.flushSync=function(f){var p=u.T,v=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=v,r.d.f()}},os.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},os.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},os.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,A=h(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:b}):v==="script"&&r.d.X(f,{crossOrigin:A,integrity:N,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},os.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},os.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,A=h(v,p.crossOrigin);r.d.L(f,v,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},os.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},os.requestFormReset=function(f){r.d.r(f)},os.unstable_batchedUpdates=function(f,p){return f(p)},os.useFormState=function(f,p,v){return u.H.useFormState(f,p,v)},os.useFormStatus=function(){return u.H.useHostTransitionStatus()},os.version="19.2.0",os}var sv;function gS(){if(sv)return Qg.exports;sv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qg.exports=pS(),Qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function mS(){if(av)return wf;av=1;var n=fS(),t=M0(),e=gS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return f(m),i;if(_===c)return f(m),s;_=_.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=_;else{for(var x=!1,G=m.child;G;){if(G===l){x=!0,l=m,c=_;break}if(G===c){x=!0,c=m,l=_;break}G=G.sibling}if(!x){for(G=_.child;G;){if(G===l){x=!0,l=_,c=m;break}if(G===c){x=!0,c=_,l=m;break}G=G.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function C(i){return i===null||typeof i!="object"?null:(i=S&&i[S]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function Z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case U:return"Profiler";case z:return"StrictMode";case vt:return"Suspense";case pt:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case tt:return i.displayName||"Context";case rt:return(i._context.displayName||"Context")+".Consumer";case J:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return s=i.displayName||null,s!==null?s:Z(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return Z(i(s))}catch{}}return null}var bt=Array.isArray,st=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ct=[],Ft=-1;function W(i){return{current:i}}function D(i){0>Ft||(i.current=Ct[Ft],Ct[Ft]=null,Ft--)}function Y(i,s){Ft++,Ct[Ft]=i.current,i.current=s}var $=W(null),ot=W(null),ut=W(null),mt=W(null);function Nt(i,s){switch(Y(ut,s),Y(ot,i),Y($,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?wy(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=wy(s),i=Ay(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}D($),Y($,i)}function St(){D($),D(ot),D(ut)}function Ut(i){i.memoizedState!==null&&Y(mt,i);var s=$.current,l=Ay(s,i.type);s!==l&&(Y(ot,i),Y($,l))}function Wt(i){ot.current===i&&(D($),D(ot)),mt.current===i&&(D(mt),mf._currentValue=ht)}var ee,ne;function Dt(i){if(ee===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ee=s&&s[1]||"",ne=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+i+ne}var at=!1;function We(i,s){if(!i||at)return"";at=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Ot){var kt=Ot}Reflect.construct(i,[],Ht)}else{try{Ht.call()}catch(Ot){kt=Ot}i.call(Ht.prototype)}}else{try{throw Error()}catch(Ot){kt=Ot}(Ht=i())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Ot){if(Ot&&kt&&typeof Ot.stack=="string")return[Ot.stack,kt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),x=_[0],G=_[1];if(x&&G){var lt=x.split(`
`),Lt=G.split(`
`);for(m=c=0;c<lt.length&&!lt[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Lt.length&&!Lt[m].includes("DetermineComponentFrameRoot");)m++;if(c===lt.length||m===Lt.length)for(c=lt.length-1,m=Lt.length-1;1<=c&&0<=m&&lt[c]!==Lt[m];)m--;for(;1<=c&&0<=m;c--,m--)if(lt[c]!==Lt[m]){if(c!==1||m!==1)do if(c--,m--,0>m||lt[c]!==Lt[m]){var Bt=`
`+lt[c].replace(" at new "," at ");return i.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",i.displayName)),Bt}while(1<=c&&0<=m);break}}}finally{at=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Dt(l):""}function qe(i,s){switch(i.tag){case 26:case 27:case 5:return Dt(i.type);case 16:return Dt("Lazy");case 13:return i.child!==s&&s!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return We(i.type,!1);case 11:return We(i.type.render,!1);case 1:return We(i.type,!0);case 31:return Dt("Activity");default:return""}}function be(i){try{var s="",l=null;do s+=qe(i,l),l=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Gt=Object.prototype.hasOwnProperty,ie=n.unstable_scheduleCallback,te=n.unstable_cancelCallback,Qe=n.unstable_shouldYield,ve=n.unstable_requestPaint,Ge=n.unstable_now,De=n.unstable_getCurrentPriorityLevel,Ue=n.unstable_ImmediatePriority,En=n.unstable_UserBlockingPriority,Pe=n.unstable_NormalPriority,_e=n.unstable_LowPriority,ke=n.unstable_IdlePriority,me=n.log,Mn=n.unstable_setDisableYieldValue,en=null,re=null;function Ee(i){if(typeof me=="function"&&Mn(i),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(en,i)}catch{}}var Ve=Math.clz32?Math.clz32:ze,Ne=Math.log,rn=Math.LN2;function ze(i){return i>>>=0,i===0?32:31-(Ne(i)/rn|0)|0}var xn=256,ri=262144,He=4194304;function Se(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function sn(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,_=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var G=c&134217727;return G!==0?(c=G&~_,c!==0?m=Se(c):(x&=G,x!==0?m=Se(x):l||(l=G&~i,l!==0&&(m=Se(l))))):(G=c&~_,G!==0?m=Se(G):x!==0?m=Se(x):l||(l=c&~i,l!==0&&(m=Se(l)))),m===0?0:s!==0&&s!==m&&(s&_)===0&&(_=m&-m,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:m}function sr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Wi(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(){var i=He;return He<<=1,(He&62914560)===0&&(He=4194304),i}function qi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function we(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ea(i,s,l,c,m,_){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var G=i.entanglements,lt=i.expirationTimes,Lt=i.hiddenUpdates;for(l=x&~l;0<l;){var Bt=31-Ve(l),Ht=1<<Bt;G[Bt]=0,lt[Bt]=-1;var kt=Lt[Bt];if(kt!==null)for(Lt[Bt]=null,Bt=0;Bt<kt.length;Bt++){var Ot=kt[Bt];Ot!==null&&(Ot.lane&=-536870913)}l&=~Ht}c!==0&&Vr(i,c,0),_!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=_&~(x&~s))}function Vr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Ve(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function wr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-Ve(l),m=1<<c;m&s|i[c]&s&&(i[c]|=s),l&=~m}}function Ar(i,s){var l=s&-s;return l=(l&42)!==0?1:jn(l),(l&(i.suspendedLanes|s))!==0?0:l}function jn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Wn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ki(){var i=dt.p;return i!==0?i:(i=window.event,i===void 0?32:Gy(i.type))}function ar(i,s){var l=dt.p;try{return dt.p=i,s()}finally{dt.p=l}}var $i=Math.random().toString(36).slice(2),Ln="__reactFiber$"+$i,zn="__reactProps$"+$i,Oi="__reactContainer$"+$i,Er="__reactEvents$"+$i,es="__reactListeners$"+$i,va="__reactHandles$"+$i,ms="__reactResources$"+$i,Sr="__reactMarker$"+$i;function na(i){delete i[Ln],delete i[zn],delete i[Er],delete i[es],delete i[va]}function Br(i){var s=i[Ln];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Oi]||l[Ln]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Ry(i);i!==null;){if(l=i[Ln])return l;i=Ry(i)}return s}i=l,l=i.parentNode}return null}function or(i){if(i=i[Ln]||i[Oi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function jr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ns(i){var s=i[ms];return s||(s=i[ms]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ci(i){i[Sr]=!0}var ho=new Set,Tr={};function is(i,s){ys(i,s),ys(i+"Capture",s)}function ys(i,s){for(Tr[i]=s,i=0;i<s.length;i++)ho.add(s[i])}var Va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},po={};function Zo(i){return Gt.call(po,i)?!0:Gt.call(fo,i)?!1:Va.test(i)?po[i]=!0:(fo[i]=!0,!1)}function ia(i,s,l){if(Zo(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Fr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function an(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function Si(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ra(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vs(i,s,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,_=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,_.call(this,x)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function hn(i){if(!i._valueTracker){var s=ra(i)?"checked":"value";i._valueTracker=vs(i,s,""+i[s])}}function lr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=ra(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Nr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Hn=/[\n"\\]/g;function Ji(i){return i.replace(Hn,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function go(i,s,l,c,m,_,x,G){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Si(s)):i.value!==""+Si(s)&&(i.value=""+Si(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?tl(i,x,Si(s)):l!=null?tl(i,x,Si(l)):c!=null&&i.removeAttribute("value"),m==null&&_!=null&&(i.defaultChecked=!!_),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?i.name=""+Si(G):i.removeAttribute("name")}function Ul(i,s,l,c,m,_,x,G){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){hn(i);return}l=l!=null?""+Si(l):"",s=s!=null?""+Si(s):l,G||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=G?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),hn(i)}function tl(i,s,l){s==="number"&&Nr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ur(i,s,l,c){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Si(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function el(i,s,l){if(s!=null&&(s=""+Si(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Si(l):""}function sa(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(bt(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Si(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),hn(i)}function Ti(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||mo.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function il(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&l[m]!==c&&nl(i,m,c)}else for(var _ in s)s.hasOwnProperty(_)&&nl(i,_,s[_])}function yo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(i){return rs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function bs(){}var aa=null;function Ir(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xe=null,Ls=null;function Ba(i){var s=or(i);if(s&&(i=s.stateNode)){var l=i[zn]||null;t:switch(i=s.stateNode,s.type){case"input":if(go(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ji(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var m=c[zn]||null;if(!m)throw Error(r(90));go(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&lr(c)}break t;case"textarea":el(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&ur(i,!!l.multiple,s,!1)}}}var _o=!1;function _a(i,s,l){if(_o)return i(s,l);_o=!0;try{var c=i(s);return c}finally{if(_o=!1,(xe!==null||Ls!==null)&&(Dd(),xe&&(s=xe,i=Ls,Ls=xe=null,Ba(s),i)))for(s=0;s<i.length;s++)Ba(i[s])}}function zi(i,s){var l=i.stateNode;if(l===null)return null;var c=l[zn]||null;if(c===null)return null;l=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=!1;if(Di)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){ja=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{ja=!1}var qr=null,Fa=null,ws=null;function ba(){if(ws)return ws;var i,s=Fa,l=s.length,c,m="value"in qr?qr.value:qr.textContent,_=m.length;for(i=0;i<l&&s[i]===m[i];i++);var x=l-i;for(c=1;c<=x&&s[l-c]===m[_-c];c++);return ws=m.slice(i,1<c?1-c:void 0)}function ks(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function oa(){return!0}function zr(){return!1}function Ni(i){function s(l,c,m,_,x){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var G in i)i.hasOwnProperty(G)&&(l=i[G],this[G]=l?l(_):_[G]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?oa:zr,this.isPropagationStopped=zr,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),s}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cr=Ni(Hr),Os=A({},Hr,{view:0,detail:0}),wa=Ni(Os),Ds,Ps,As,qa=A({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ie,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==As&&(As&&i.type==="mousemove"?(Ds=i.screenX-As.screenX,Ps=i.screenY-As.screenY):Ps=Ds=0,As=i),Ds)},movementY:function(i){return"movementY"in i?i.movementY:Ps}}),Es=Ni(qa),Gr=A({},qa,{dataTransfer:0}),rl=Ni(Gr),sl=A({},Os,{relatedTarget:0}),Ss=Ni(sl),bo=A({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),w=Ni(bo),P=A({},Hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nt=Ni(P),ct=A({},Hr,{data:0}),_t=Ni(ct),Vt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=oe[i])?!!s[i]:!1}function Ie(){return he}var ye=A({},Os,{key:function(i){if(i.key){var s=Vt[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ks(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ie,charCode:function(i){return i.type==="keypress"?ks(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ks(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gn=Ni(ye),$n=A({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fn=Ni($n),g=A({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ie}),T=Ni(g),k=A({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=Ni(k),At=A({},qa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xt=Ni(At),Jt=A({},Hr,{newState:0,oldState:0}),Be=Ni(Jt),Gn=[9,13,27,32],ln=Di&&"CompositionEvent"in window,On=null;Di&&"documentMode"in document&&(On=document.documentMode);var Zi=Di&&"TextEvent"in window&&!On,Rr=Di&&(!ln||On&&8<On&&11>=On),Jn=" ",cr=!1;function Ts(i,s){switch(i){case"keyup":return Gn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ea=!1;function vi(i,s){switch(i){case"compositionend":return Aa(s);case"keypress":return s.which!==32?null:(cr=!0,Jn);case"textInput":return i=s.data,i===Jn&&cr?null:i;default:return null}}function za(i,s){if(Ea)return i==="compositionend"||!ln&&Ts(i,s)?(i=ba(),ws=Fa=qr=null,Ea=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Rr&&s.locale!=="ko"?null:s.data;default:return null}}var Vl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Vl[i.type]:s==="textarea"}function Ns(i,s,l,c){xe?Ls?Ls.push(c):Ls=[c]:xe=c,s=Fd(s,"onChange"),0<s.length&&(l=new Cr("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var la=null,Ha=null;function ju(i){gy(i,0)}function ua(i){var s=jr(i);if(lr(s))return i}function wo(i,s){if(i==="change")return s}var ss=!1;if(Di){var Yr;if(Di){var Sa="oninput"in document;if(!Sa){var Ta=document.createElement("div");Ta.setAttribute("oninput","return;"),Sa=typeof Ta.oninput=="function"}Yr=Sa}else Yr=!1;ss=Yr&&(!document.documentMode||9<document.documentMode)}function Ga(){la&&(la.detachEvent("onpropertychange",Bl),Ha=la=null)}function Bl(i){if(i.propertyName==="value"&&ua(Ha)){var s=[];Ns(s,Ha,i,Ir(i)),_a(ju,s)}}function jl(i,s,l){i==="focusin"?(Ga(),la=s,Ha=l,la.attachEvent("onpropertychange",Bl)):i==="focusout"&&Ga()}function Ii(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ua(Ha)}function Tc(i,s){if(i==="click")return ua(s)}function Na(i,s){if(i==="input"||i==="change")return ua(s)}function Ia(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var hr=typeof Object.is=="function"?Object.is:Ia;function Ya(i,s){if(hr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Gt.call(s,m)||!hr(i[m],s[m]))return!1}return!0}function Fl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ql(i,s){var l=Fl(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Fl(l)}}function Ka(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ka(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Qa(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Nr(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Nr(i.document)}return s}function Ca(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var al=Di&&"documentMode"in document&&11>=document.documentMode,Is=null,Xa=null,xr=null,Ms=!1;function Cn(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ms||Is==null||Is!==Nr(c)||(c=Is,"selectionStart"in c&&Ca(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xr&&Ya(xr,c)||(xr=c,c=Fd(Xa,"onSelect"),0<c.length&&(s=new Cr("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Is)))}function wn(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Zn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionrun:wn("Transition","TransitionRun"),transitionstart:wn("Transition","TransitionStart"),transitioncancel:wn("Transition","TransitionCancel"),transitionend:wn("Transition","TransitionEnd")},Ci={},Ra={};Di&&(Ra=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function ca(i){if(Ci[i])return Ci[i];if(!Zn[i])return i;var s=Zn[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ra)return Ci[i]=s[l];return i}var ol=ca("animationend"),Fu=ca("animationiteration"),Vh=ca("animationstart"),cd=ca("transitionrun"),hd=ca("transitionstart"),fd=ca("transitioncancel"),Bh=ca("transitionend"),jh=new Map,ll="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ll.push("scrollEnd");function Us(i,s){jh.set(i,s),is(s,[i])}var qu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Cs=[],ul=0,Nc=0;function zu(){for(var i=ul,s=Nc=ul=0;s<i;){var l=Cs[s];Cs[s++]=null;var c=Cs[s];Cs[s++]=null;var m=Cs[s];Cs[s++]=null;var _=Cs[s];if(Cs[s++]=null,c!==null&&m!==null){var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}_!==0&&Gu(l,m,_)}}function Hu(i,s,l,c){Cs[ul++]=i,Cs[ul++]=s,Cs[ul++]=l,Cs[ul++]=c,Nc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Ic(i,s,l,c){return Hu(i,s,l,c),Lr(i)}function Wa(i,s){return Hu(i,null,null,s),Lr(i)}function Gu(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,_=i.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(m=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,m&&s!==null&&(m=31-Ve(l),i=_.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=l|536870912),_):null}function Lr(i){if(50<uf)throw uf=0,dg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var fr={};function Cc(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(i,s,l,c){return new Cc(i,s,l,c)}function Rc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vs(i,s){var l=i.alternate;return l===null?(l=kr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Yu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function zl(i,s,l,c,m,_){var x=0;if(c=i,typeof i=="function")Rc(i)&&(x=1);else if(typeof i=="string")x=$E(i,l,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=kr(31,l,s,m),i.elementType=R,i.lanes=_,i;case B:return Ao(l.children,m,_,s);case z:x=8,m|=24;break;case U:return i=kr(12,l,s,m|2),i.elementType=U,i.lanes=_,i;case vt:return i=kr(13,l,s,m),i.elementType=vt,i.lanes=_,i;case pt:return i=kr(19,l,s,m),i.elementType=pt,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case tt:x=10;break t;case rt:x=9;break t;case J:x=11;break t;case j:x=14;break t;case O:x=16,c=null;break t}x=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=kr(x,l,s,m),s.elementType=i,s.type=c,s.lanes=_,s}function Ao(i,s,l,c){return i=kr(7,i,c,s),i.lanes=l,i}function Ku(i,s,l){return i=kr(6,i,null,s),i.lanes=l,i}function xc(i){var s=kr(18,null,null,0);return s.stateNode=i,s}function Hl(i,s,l){return s=kr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Lc=new WeakMap;function Bs(i,s){if(typeof i=="object"&&i!==null){var l=Lc.get(i);return l!==void 0?l:(s={value:i,source:s,stack:be(s)},Lc.set(i,s),s)}return{value:i,source:s,stack:be(s)}}var Gl=[],cl=0,kc=null,Qu=0,js=[],Fs=0,Eo=null,qs=1,zs="";function Rs(i,s){Gl[cl++]=Qu,Gl[cl++]=kc,kc=i,Qu=s}function dd(i,s,l){js[Fs++]=qs,js[Fs++]=zs,js[Fs++]=Eo,Eo=i;var c=qs;i=zs;var m=32-Ve(c)-1;c&=~(1<<m),l+=1;var _=32-Ve(s)+m;if(30<_){var x=m-m%5;_=(c&(1<<x)-1).toString(32),c>>=x,m-=x,qs=1<<32-Ve(s)+m|l<<m|c,zs=_+i}else qs=1<<_|l<<m|c,zs=i}function Fh(i){i.return!==null&&(Rs(i,1),dd(i,1,0))}function Oc(i){for(;i===kc;)kc=Gl[--cl],Gl[cl]=null,Qu=Gl[--cl],Gl[cl]=null;for(;i===Eo;)Eo=js[--Fs],js[Fs]=null,zs=js[--Fs],js[Fs]=null,qs=js[--Fs],js[Fs]=null}function pd(i,s){js[Fs++]=qs,js[Fs++]=zs,js[Fs++]=Eo,qs=s.id,zs=s.overflow,Eo=i}var dr=null,si=null,fn=!1,Kr=null,_i=!1,ha=Error(r(519));function So(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(Bs(s,i)),ha}function qh(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Ln]=i,s[zn]=c,l){case"dialog":pn("cancel",s),pn("close",s);break;case"iframe":case"object":case"embed":pn("load",s);break;case"video":case"audio":for(l=0;l<hf.length;l++)pn(hf[l],s);break;case"source":pn("error",s);break;case"img":case"image":case"link":pn("error",s),pn("load",s);break;case"details":pn("toggle",s);break;case"input":pn("invalid",s),Ul(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":pn("invalid",s);break;case"textarea":pn("invalid",s),sa(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||_y(s.textContent,l)?(c.popover!=null&&(pn("beforetoggle",s),pn("toggle",s)),c.onScroll!=null&&pn("scroll",s),c.onScrollEnd!=null&&pn("scrollend",s),c.onClick!=null&&(s.onclick=bs),s=!0):s=!1,s||So(i,!0)}function $a(i){for(dr=i.return;dr;)switch(dr.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:dr=dr.return}}function pr(i){if(i!==dr)return!1;if(!fn)return $a(i),fn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Cg(i.type,i.memoizedProps)),l=!l),l&&si&&So(i),$a(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=Cy(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=Cy(i)}else s===27?(s=si,au(i.type)?(i=Og,Og=null,si=i):si=s):si=dr?Oa(i.stateNode.nextSibling):null;return!0}function hl(){si=dr=null,fn=!1}function zh(){var i=Kr;return i!==null&&(Xs===null?Xs=i:Xs.push.apply(Xs,i),Kr=null),i}function Yl(i){Kr===null?Kr=[i]:Kr.push(i)}var Dc=W(null),To=null,xa=null;function No(i,s,l){Y(Dc,s._currentValue),s._currentValue=l}function Hs(i){i._currentValue=Dc.current,D(Dc)}function Kl(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function fl(i,s,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var _=m.dependencies;if(_!==null){var x=m.child;_=_.firstContext;t:for(;_!==null;){var G=_;_=m;for(var lt=0;lt<s.length;lt++)if(G.context===s[lt]){_.lanes|=l,G=_.alternate,G!==null&&(G.lanes|=l),Kl(_.return,l,i),c||(x=null);break t}_=G.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=l,_=x.alternate,_!==null&&(_.lanes|=l),Kl(x,l,i),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===i){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Io(i,s,l,c){i=null;for(var m=s,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var G=m.type;hr(m.pendingProps.value,x.value)||(i!==null?i.push(G):i=[G])}}else if(m===mt.current){if(x=m.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(mf):i=[mf])}m=m.return}i!==null&&fl(s,i,l,c),s.flags|=262144}function Pc(i){for(i=i.firstContext;i!==null;){if(!hr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Co(i){To=i,xa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function gr(i){return gd(To,i)}function Mc(i,s){return To===null&&Co(i),gd(i,s)}function gd(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},xa===null){if(i===null)throw Error(r(308));xa=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else xa=xa.next=s;return l}var k1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},O1=n.unstable_scheduleCallback,D1=n.unstable_NormalPriority,Ri={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ql(){return{controller:new k1,data:new Map,refCount:0}}function Xu(i){i.refCount--,i.refCount===0&&O1(D1,function(){i.controller.abort()})}var Wu=null,Uc=0,d=0,y=null;function E(i,s){if(Wu===null){var l=Wu=[];Uc=0,d=_g(),y={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Uc++,s.then(I,I),s}function I(){if(--Uc===0&&Wu!==null){y!==null&&(y.status="fulfilled");var i=Wu;Wu=null,d=0,y=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function M(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var q=st.S;st.S=function(i,s){z5=Ge(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&E(i,s),q!==null&&q(i,s)};var H=W(null);function K(){var i=H.current;return i!==null?i:oi.pooledCache}function X(i,s){s===null?Y(H,H.current):Y(H,s.pool)}function it(){var i=K();return i===null?null:{parent:Ri._currentValue,pool:i}}var ft=Error(r(460)),It=Error(r(474)),et=Error(r(542)),yt={then:function(){}};function Et(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Mt(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(bs,bs),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,$t(i),i;default:if(typeof s.status=="string")s.then(bs,bs);else{if(i=oi,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,$t(i),i}throw Pt=s,ft}}function Tt(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pt=l,ft):l}}var Pt=null;function jt(){if(Pt===null)throw Error(r(459));var i=Pt;return Pt=null,i}function $t(i){if(i===ft||i===et)throw Error(r(483))}var Yt=null,fe=0;function se(i){var s=fe;return fe+=1,Yt===null&&(Yt=[]),Mt(Yt,i,s)}function Ye(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ue(i,s){throw s.$$typeof===N?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function cn(i){function s(wt,gt){if(i){var Rt=wt.deletions;Rt===null?(wt.deletions=[gt],wt.flags|=16):Rt.push(gt)}}function l(wt,gt){if(!i)return null;for(;gt!==null;)s(wt,gt),gt=gt.sibling;return null}function c(wt){for(var gt=new Map;wt!==null;)wt.key!==null?gt.set(wt.key,wt):gt.set(wt.index,wt),wt=wt.sibling;return gt}function m(wt,gt){return wt=Vs(wt,gt),wt.index=0,wt.sibling=null,wt}function _(wt,gt,Rt){return wt.index=Rt,i?(Rt=wt.alternate,Rt!==null?(Rt=Rt.index,Rt<gt?(wt.flags|=67108866,gt):Rt):(wt.flags|=67108866,gt)):(wt.flags|=1048576,gt)}function x(wt){return i&&wt.alternate===null&&(wt.flags|=67108866),wt}function G(wt,gt,Rt,qt){return gt===null||gt.tag!==6?(gt=Ku(Rt,wt.mode,qt),gt.return=wt,gt):(gt=m(gt,Rt),gt.return=wt,gt)}function lt(wt,gt,Rt,qt){var Re=Rt.type;return Re===B?Bt(wt,gt,Rt.props.children,qt,Rt.key):gt!==null&&(gt.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===O&&Tt(Re)===gt.type)?(gt=m(gt,Rt.props),Ye(gt,Rt),gt.return=wt,gt):(gt=zl(Rt.type,Rt.key,Rt.props,null,wt.mode,qt),Ye(gt,Rt),gt.return=wt,gt)}function Lt(wt,gt,Rt,qt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Rt.containerInfo||gt.stateNode.implementation!==Rt.implementation?(gt=Hl(Rt,wt.mode,qt),gt.return=wt,gt):(gt=m(gt,Rt.children||[]),gt.return=wt,gt)}function Bt(wt,gt,Rt,qt,Re){return gt===null||gt.tag!==7?(gt=Ao(Rt,wt.mode,qt,Re),gt.return=wt,gt):(gt=m(gt,Rt),gt.return=wt,gt)}function Ht(wt,gt,Rt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=Ku(""+gt,wt.mode,Rt),gt.return=wt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case b:return Rt=zl(gt.type,gt.key,gt.props,null,wt.mode,Rt),Ye(Rt,gt),Rt.return=wt,Rt;case V:return gt=Hl(gt,wt.mode,Rt),gt.return=wt,gt;case O:return gt=Tt(gt),Ht(wt,gt,Rt)}if(bt(gt)||C(gt))return gt=Ao(gt,wt.mode,Rt,null),gt.return=wt,gt;if(typeof gt.then=="function")return Ht(wt,se(gt),Rt);if(gt.$$typeof===tt)return Ht(wt,Mc(wt,gt),Rt);ue(wt,gt)}return null}function kt(wt,gt,Rt,qt){var Re=gt!==null?gt.key:null;if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return Re!==null?null:G(wt,gt,""+Rt,qt);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case b:return Rt.key===Re?lt(wt,gt,Rt,qt):null;case V:return Rt.key===Re?Lt(wt,gt,Rt,qt):null;case O:return Rt=Tt(Rt),kt(wt,gt,Rt,qt)}if(bt(Rt)||C(Rt))return Re!==null?null:Bt(wt,gt,Rt,qt,null);if(typeof Rt.then=="function")return kt(wt,gt,se(Rt),qt);if(Rt.$$typeof===tt)return kt(wt,gt,Mc(wt,Rt),qt);ue(wt,Rt)}return null}function Ot(wt,gt,Rt,qt,Re){if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return wt=wt.get(Rt)||null,G(gt,wt,""+qt,Re);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case b:return wt=wt.get(qt.key===null?Rt:qt.key)||null,lt(gt,wt,qt,Re);case V:return wt=wt.get(qt.key===null?Rt:qt.key)||null,Lt(gt,wt,qt,Re);case O:return qt=Tt(qt),Ot(wt,gt,Rt,qt,Re)}if(bt(qt)||C(qt))return wt=wt.get(Rt)||null,Bt(gt,wt,qt,Re,null);if(typeof qt.then=="function")return Ot(wt,gt,Rt,se(qt),Re);if(qt.$$typeof===tt)return Ot(wt,gt,Rt,Mc(gt,qt),Re);ue(gt,qt)}return null}function ce(wt,gt,Rt,qt){for(var Re=null,Dn=null,ge=gt,on=gt=0,yn=null;ge!==null&&on<Rt.length;on++){ge.index>on?(yn=ge,ge=null):yn=ge.sibling;var Pn=kt(wt,ge,Rt[on],qt);if(Pn===null){ge===null&&(ge=yn);break}i&&ge&&Pn.alternate===null&&s(wt,ge),gt=_(Pn,gt,on),Dn===null?Re=Pn:Dn.sibling=Pn,Dn=Pn,ge=yn}if(on===Rt.length)return l(wt,ge),fn&&Rs(wt,on),Re;if(ge===null){for(;on<Rt.length;on++)ge=Ht(wt,Rt[on],qt),ge!==null&&(gt=_(ge,gt,on),Dn===null?Re=ge:Dn.sibling=ge,Dn=ge);return fn&&Rs(wt,on),Re}for(ge=c(ge);on<Rt.length;on++)yn=Ot(ge,wt,on,Rt[on],qt),yn!==null&&(i&&yn.alternate!==null&&ge.delete(yn.key===null?on:yn.key),gt=_(yn,gt,on),Dn===null?Re=yn:Dn.sibling=yn,Dn=yn);return i&&ge.forEach(function(hu){return s(wt,hu)}),fn&&Rs(wt,on),Re}function Me(wt,gt,Rt,qt){if(Rt==null)throw Error(r(151));for(var Re=null,Dn=null,ge=gt,on=gt=0,yn=null,Pn=Rt.next();ge!==null&&!Pn.done;on++,Pn=Rt.next()){ge.index>on?(yn=ge,ge=null):yn=ge.sibling;var hu=kt(wt,ge,Pn.value,qt);if(hu===null){ge===null&&(ge=yn);break}i&&ge&&hu.alternate===null&&s(wt,ge),gt=_(hu,gt,on),Dn===null?Re=hu:Dn.sibling=hu,Dn=hu,ge=yn}if(Pn.done)return l(wt,ge),fn&&Rs(wt,on),Re;if(ge===null){for(;!Pn.done;on++,Pn=Rt.next())Pn=Ht(wt,Pn.value,qt),Pn!==null&&(gt=_(Pn,gt,on),Dn===null?Re=Pn:Dn.sibling=Pn,Dn=Pn);return fn&&Rs(wt,on),Re}for(ge=c(ge);!Pn.done;on++,Pn=Rt.next())Pn=Ot(ge,wt,on,Pn.value,qt),Pn!==null&&(i&&Pn.alternate!==null&&ge.delete(Pn.key===null?on:Pn.key),gt=_(Pn,gt,on),Dn===null?Re=Pn:Dn.sibling=Pn,Dn=Pn);return i&&ge.forEach(function(lS){return s(wt,lS)}),fn&&Rs(wt,on),Re}function ii(wt,gt,Rt,qt){if(typeof Rt=="object"&&Rt!==null&&Rt.type===B&&Rt.key===null&&(Rt=Rt.props.children),typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case b:t:{for(var Re=Rt.key;gt!==null;){if(gt.key===Re){if(Re=Rt.type,Re===B){if(gt.tag===7){l(wt,gt.sibling),qt=m(gt,Rt.props.children),qt.return=wt,wt=qt;break t}}else if(gt.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===O&&Tt(Re)===gt.type){l(wt,gt.sibling),qt=m(gt,Rt.props),Ye(qt,Rt),qt.return=wt,wt=qt;break t}l(wt,gt);break}else s(wt,gt);gt=gt.sibling}Rt.type===B?(qt=Ao(Rt.props.children,wt.mode,qt,Rt.key),qt.return=wt,wt=qt):(qt=zl(Rt.type,Rt.key,Rt.props,null,wt.mode,qt),Ye(qt,Rt),qt.return=wt,wt=qt)}return x(wt);case V:t:{for(Re=Rt.key;gt!==null;){if(gt.key===Re)if(gt.tag===4&&gt.stateNode.containerInfo===Rt.containerInfo&&gt.stateNode.implementation===Rt.implementation){l(wt,gt.sibling),qt=m(gt,Rt.children||[]),qt.return=wt,wt=qt;break t}else{l(wt,gt);break}else s(wt,gt);gt=gt.sibling}qt=Hl(Rt,wt.mode,qt),qt.return=wt,wt=qt}return x(wt);case O:return Rt=Tt(Rt),ii(wt,gt,Rt,qt)}if(bt(Rt))return ce(wt,gt,Rt,qt);if(C(Rt)){if(Re=C(Rt),typeof Re!="function")throw Error(r(150));return Rt=Re.call(Rt),Me(wt,gt,Rt,qt)}if(typeof Rt.then=="function")return ii(wt,gt,se(Rt),qt);if(Rt.$$typeof===tt)return ii(wt,gt,Mc(wt,Rt),qt);ue(wt,Rt)}return typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint"?(Rt=""+Rt,gt!==null&&gt.tag===6?(l(wt,gt.sibling),qt=m(gt,Rt),qt.return=wt,wt=qt):(l(wt,gt),qt=Ku(Rt,wt.mode,qt),qt.return=wt,wt=qt),x(wt)):l(wt,gt)}return function(wt,gt,Rt,qt){try{fe=0;var Re=ii(wt,gt,Rt,qt);return Yt=null,Re}catch(ge){if(ge===ft||ge===et)throw ge;var Dn=kr(29,ge,null,wt.mode);return Dn.lanes=qt,Dn.return=wt,Dn}finally{}}}var ai=cn(!0),$e=cn(!1),ae=!1;function Zt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hi(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Oe(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function nn(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Bn&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Lr(i),Gu(i,null,l),s}return Hu(i,c,s,l),Lr(i)}function Un(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,wr(i,l)}}function Hi(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?m=_=x:_=_.next=x,l=l.next}while(l!==null);_===null?m=_=s:_=_.next=s}else m=_=s;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var mr=!1;function ti(){if(mr){var i=y;if(i!==null)throw i}}function Pi(i,s,l,c){mr=!1;var m=i.updateQueue;ae=!1;var _=m.firstBaseUpdate,x=m.lastBaseUpdate,G=m.shared.pending;if(G!==null){m.shared.pending=null;var lt=G,Lt=lt.next;lt.next=null,x===null?_=Lt:x.next=Lt,x=lt;var Bt=i.alternate;Bt!==null&&(Bt=Bt.updateQueue,G=Bt.lastBaseUpdate,G!==x&&(G===null?Bt.firstBaseUpdate=Lt:G.next=Lt,Bt.lastBaseUpdate=lt))}if(_!==null){var Ht=m.baseState;x=0,Bt=Lt=lt=null,G=_;do{var kt=G.lane&-536870913,Ot=kt!==G.lane;if(Ot?(mn&kt)===kt:(c&kt)===kt){kt!==0&&kt===d&&(mr=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});t:{var ce=i,Me=G;kt=s;var ii=l;switch(Me.tag){case 1:if(ce=Me.payload,typeof ce=="function"){Ht=ce.call(ii,Ht,kt);break t}Ht=ce;break t;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Me.payload,kt=typeof ce=="function"?ce.call(ii,Ht,kt):ce,kt==null)break t;Ht=A({},Ht,kt);break t;case 2:ae=!0}}kt=G.callback,kt!==null&&(i.flags|=64,Ot&&(i.flags|=8192),Ot=m.callbacks,Ot===null?m.callbacks=[kt]:Ot.push(kt))}else Ot={lane:kt,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Bt===null?(Lt=Bt=Ot,lt=Ht):Bt=Bt.next=Ot,x|=kt;if(G=G.next,G===null){if(G=m.shared.pending,G===null)break;Ot=G,G=Ot.next,Ot.next=null,m.lastBaseUpdate=Ot,m.shared.pending=null}}while(!0);Bt===null&&(lt=Ht),m.baseState=lt,m.firstBaseUpdate=Lt,m.lastBaseUpdate=Bt,_===null&&(m.shared.lanes=0),eu|=x,i.lanes=x,i.memoizedState=Ht}}function Or(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Mi(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Or(l[i],s)}var un=W(null),Sn=W(0);function fi(i,s){i=Al,Y(Sn,i),Y(un,s),Al=i|s.baseLanes}function Rn(){Y(Sn,Al),Y(un,un.current)}function Gi(){Al=Sn.current,D(un),D(Sn)}var di=W(null),Tn=null;function xi(i){var s=i.alternate;Y(An,An.current&1),Y(di,i),Tn===null&&(s===null||un.current!==null||s.memoizedState!==null)&&(Tn=i)}function Vn(i){Y(An,An.current),Y(di,i),Tn===null&&(Tn=i)}function Ui(i){i.tag===22?(Y(An,An.current),Y(di,i),Tn===null&&(Tn=i)):Vi()}function Vi(){Y(An,An.current),Y(di,di.current)}function Yn(i){D(di),Tn===i&&(Tn=null),D(An)}var An=W(0);function Dr(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Lg(l)||kg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var bi=0,Te=null,Ce=null,Nn=null,as=!1,Gs=!1,Qr=!1,Bi=0,Ro=0,xo=null,Vc=0;function ei(){throw Error(r(321))}function Hh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!hr(i[l],s[l]))return!1;return!0}function Gh(i,s,l,c,m,_){return bi=_,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,st.H=i===null||i.memoizedState===null?t5:q1,Qr=!1,_=l(c,m),Qr=!1,Gs&&(_=Ja(s,l,c,m)),Bc(i),_}function Bc(i){st.H=Zh;var s=Ce!==null&&Ce.next!==null;if(bi=0,Nn=Ce=Te=null,as=!1,Ro=0,xo=null,s)throw Error(r(300));i===null||er||(i=i.dependencies,i!==null&&Pc(i)&&(er=!0))}function Ja(i,s,l,c){Te=i;var m=0;do{if(Gs&&(xo=null),Ro=0,Gs=!1,25<=m)throw Error(r(301));if(m+=1,Nn=Ce=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}st.H=e5,_=s(l,c)}while(Gs);return _}function P1(){var i=st.H,s=i.useState()[0];return s=typeof s.then=="function"?Lo(s):s,i=i.useState()[0],(Ce!==null?Ce.memoizedState:null)!==i&&(Te.flags|=1024),s}function Yh(){var i=Bi!==0;return Bi=0,i}function Kh(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function jc(i){if(as){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}as=!1}bi=0,Nn=Ce=Te=null,Gs=!1,Ro=Bi=0,xo=null}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Te.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function wi(){if(Ce===null){var i=Te.alternate;i=i!==null?i.memoizedState:null}else i=Ce.next;var s=Nn===null?Te.memoizedState:Nn.next;if(s!==null)Nn=s,Ce=i;else{if(i===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Ce=i,i={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Nn===null?Te.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(i){var s=Ro;return Ro+=1,xo===null&&(xo=[]),i=Mt(xo,i,s),s=Te,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,st.H=s===null||s.memoizedState===null?t5:q1),i}function Xl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Lo(i);if(i.$$typeof===tt)return gr(i)}throw Error(r(438,String(i)))}function dl(i){var s=null,l=Te.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Te.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=$u(),Te.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=F;return s.index++,l}function La(i,s){return typeof s=="function"?s(i):s}function Fc(i){var s=wi();return Wl(s,Ce,i)}function Wl(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,_=c.pending;if(_!==null){if(m!==null){var x=m.next;m.next=_.next,_.next=x}s.baseQueue=m=_,c.pending=null}if(_=i.baseState,m===null)i.memoizedState=_;else{s=m.next;var G=x=null,lt=null,Lt=s,Bt=!1;do{var Ht=Lt.lane&-536870913;if(Ht!==Lt.lane?(mn&Ht)===Ht:(bi&Ht)===Ht){var kt=Lt.revertLane;if(kt===0)lt!==null&&(lt=lt.next={lane:0,revertLane:0,gesture:null,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null}),Ht===d&&(Bt=!0);else if((bi&kt)===kt){Lt=Lt.next,kt===d&&(Bt=!0);continue}else Ht={lane:0,revertLane:Lt.revertLane,gesture:null,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},lt===null?(G=lt=Ht,x=_):lt=lt.next=Ht,Te.lanes|=kt,eu|=kt;Ht=Lt.action,Qr&&l(_,Ht),_=Lt.hasEagerState?Lt.eagerState:l(_,Ht)}else kt={lane:Ht,revertLane:Lt.revertLane,gesture:Lt.gesture,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},lt===null?(G=lt=kt,x=_):lt=lt.next=kt,Te.lanes|=Ht,eu|=Ht;Lt=Lt.next}while(Lt!==null&&Lt!==s);if(lt===null?x=_:lt.next=G,!hr(_,i.memoizedState)&&(er=!0,Bt&&(l=y,l!==null)))throw l;i.memoizedState=_,i.baseState=x,i.baseQueue=lt,c.lastRenderedState=_}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function qc(i){var s=wi(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,_=s.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do _=i(_,x.action),x=x.next;while(x!==m);hr(_,s.memoizedState)||(er=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,c]}function zc(i,s,l){var c=Te,m=wi(),_=fn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var x=!hr((Ce||m).memoizedState,l);if(x&&(m.memoizedState=l,er=!0),m=m.queue,M1(Xh.bind(null,c,m,i),[i]),m.getSnapshot!==s||x||Nn!==null&&Nn.memoizedState.tag&1){if(c.flags|=2048,gl(9,{destroy:void 0},Qh.bind(null,c,m,l,s),null),oi===null)throw Error(r(349));_||(bi&127)!==0||Za(c,s,l)}return l}function Za(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Te.updateQueue,s===null?(s=$u(),Te.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Qh(i,s,l,c){s.value=l,s.getSnapshot=c,md(s)&&Wh(i)}function Xh(i,s,l){return l(function(){md(s)&&Wh(i)})}function md(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!hr(i,l)}catch{return!0}}function Wh(i){var s=Wa(i,2);s!==null&&Ws(s,i,2)}function ko(i){var s=tr();if(typeof i=="function"){var l=i;if(i=l(),Qr){Ee(!0);try{l()}finally{Ee(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:i},s}function yd(i,s,l,c){return i.baseState=l,Wl(i,Ce,typeof c=="function"?c:La)}function vd(i,s,l,c,m){if(Ad(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};st.T!==null?l(!0):_.isTransition=!1,c(_),l=s.pending,l===null?(_.next=s.pending=_,_d(s,_)):(_.next=l.next,s.pending=l.next=_)}}function _d(i,s){var l=s.action,c=s.payload,m=i.state;if(s.isTransition){var _=st.T,x={};st.T=x;try{var G=l(m,c),lt=st.S;lt!==null&&lt(x,G),$h(i,s,G)}catch(Lt){pl(i,s,Lt)}finally{_!==null&&x.types!==null&&(_.types=x.types),st.T=_}}else try{_=l(m,c),$h(i,s,_)}catch(Lt){pl(i,s,Lt)}}function $h(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){bd(i,s,c)},function(c){return pl(i,s,c)}):bd(i,s,l)}function bd(i,s,l){s.status="fulfilled",s.value=l,Hc(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,_d(i,l)))}function pl(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Hc(s),s=s.next;while(s!==c)}i.action=null}function Hc(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Ju(i,s){return s}function ka(i,s){if(fn){var l=oi.formState;if(l!==null){t:{var c=Te;if(fn){if(si){e:{for(var m=si,_=_i;m.nodeType!==8;){if(!_){m=null;break e}if(m=Oa(m.nextSibling),m===null){m=null;break e}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){si=Oa(m.nextSibling),c=m.data==="F!";break t}}So(c)}c=!1}c&&(s=l[0])}}return l=tr(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:s},l.queue=c,l=$2.bind(null,Te,c),c.dispatch=l,c=ko(!1),_=F1.bind(null,Te,!1,c.queue),c=tr(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,l=vd.bind(null,Te,m,_,l),m.dispatch=l,c.memoizedState=i,[s,l,!1]}function to(i){var s=wi();return eo(s,Ce,i)}function eo(i,s,l){if(s=Wl(i,s,Ju)[0],i=Fc(La)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Lo(s)}catch(x){throw x===ft?et:x}else c=s;s=wi();var m=s.queue,_=m.dispatch;return l!==s.memoizedState&&(Te.flags|=2048,gl(9,{destroy:void 0},Gc.bind(null,m,l),null)),[c,_,i]}function Gc(i,s){i.action=s}function Yc(i){var s=wi(),l=Ce;if(l!==null)return eo(s,l,i);wi(),s=s.memoizedState,l=wi();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function gl(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Te.updateQueue,s===null&&(s=$u(),Te.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function wd(){return wi().memoizedState}function $l(i,s,l,c){var m=tr();Te.flags|=i,m.memoizedState=gl(1|s,{destroy:void 0},l,c===void 0?null:c)}function Jl(i,s,l,c){var m=wi();c=c===void 0?null:c;var _=m.memoizedState.inst;Ce!==null&&c!==null&&Hh(c,Ce.memoizedState.deps)?m.memoizedState=gl(s,_,l,c):(Te.flags|=i,m.memoizedState=gl(1|s,_,l,c))}function U2(i,s){$l(8390656,8,i,s)}function M1(i,s){Jl(2048,8,i,s)}function nE(i){Te.flags|=4;var s=Te.updateQueue;if(s===null)s=$u(),Te.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function V2(i){var s=wi().memoizedState;return nE({ref:s,nextImpl:i}),function(){if((Bn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function B2(i,s){return Jl(4,2,i,s)}function j2(i,s){return Jl(4,4,i,s)}function F2(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function q2(i,s,l){l=l!=null?l.concat([i]):null,Jl(4,4,F2.bind(null,s,i),l)}function U1(){}function z2(i,s){var l=wi();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Hh(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function H2(i,s){var l=wi();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Hh(s,c[1]))return c[0];if(c=i(),Qr){Ee(!0);try{i()}finally{Ee(!1)}}return l.memoizedState=[c,s],c}function V1(i,s,l){return l===void 0||(bi&1073741824)!==0&&(mn&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=G5(),Te.lanes|=i,eu|=i,l)}function G2(i,s,l,c){return hr(l,s)?l:un.current!==null?(i=V1(i,l,c),hr(i,s)||(er=!0),i):(bi&42)===0||(bi&1073741824)!==0&&(mn&261930)===0?(er=!0,i.memoizedState=l):(i=G5(),Te.lanes|=i,eu|=i,s)}function Y2(i,s,l,c,m){var _=dt.p;dt.p=_!==0&&8>_?_:8;var x=st.T,G={};st.T=G,F1(i,!1,s,l);try{var lt=m(),Lt=st.S;if(Lt!==null&&Lt(G,lt),lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var Bt=M(lt,c);Jh(i,s,Bt,pa(i))}else Jh(i,s,c,pa(i))}catch(Ht){Jh(i,s,{then:function(){},status:"rejected",reason:Ht},pa())}finally{dt.p=_,x!==null&&G.types!==null&&(x.types=G.types),st.T=x}}function iE(){}function B1(i,s,l,c){if(i.tag!==5)throw Error(r(476));var m=K2(i).queue;Y2(i,m,s,ht,l===null?iE:function(){return Q2(i),l(c)})}function K2(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:ht},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Q2(i){var s=K2(i);s.next===null&&(s=i.alternate.memoizedState),Jh(i,s.next.queue,{},pa())}function j1(){return gr(mf)}function X2(){return wi().memoizedState}function W2(){return wi().memoizedState}function rE(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=pa();i=Oe(l);var c=nn(s,i,l);c!==null&&(Ws(c,s,l),Un(c,s,l)),s={cache:Ql()},i.payload=s;return}s=s.return}}function sE(i,s,l){var c=pa();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ad(i)?J2(s,l):(l=Ic(i,s,l,c),l!==null&&(Ws(l,i,c),Z2(l,s,c)))}function $2(i,s,l){var c=pa();Jh(i,s,l,c)}function Jh(i,s,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ad(i))J2(s,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,G=_(x,l);if(m.hasEagerState=!0,m.eagerState=G,hr(G,x))return Hu(i,s,m,0),oi===null&&zu(),!1}catch{}finally{}if(l=Ic(i,s,m,c),l!==null)return Ws(l,i,c),Z2(l,s,c),!0}return!1}function F1(i,s,l,c){if(c={lane:2,revertLane:_g(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ad(i)){if(s)throw Error(r(479))}else s=Ic(i,l,c,2),s!==null&&Ws(s,i,2)}function Ad(i){var s=i.alternate;return i===Te||s!==null&&s===Te}function J2(i,s){Gs=as=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Z2(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,wr(i,l)}}var Zh={readContext:gr,use:Xl,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei};Zh.useEffectEvent=ei;var t5={readContext:gr,use:Xl,useCallback:function(i,s){return tr().memoizedState=[i,s===void 0?null:s],i},useContext:gr,useEffect:U2,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,$l(4194308,4,F2.bind(null,s,i),l)},useLayoutEffect:function(i,s){return $l(4194308,4,i,s)},useInsertionEffect:function(i,s){$l(4,2,i,s)},useMemo:function(i,s){var l=tr();s=s===void 0?null:s;var c=i();if(Qr){Ee(!0);try{i()}finally{Ee(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=tr();if(l!==void 0){var m=l(s);if(Qr){Ee(!0);try{l(s)}finally{Ee(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=sE.bind(null,Te,i),[c.memoizedState,i]},useRef:function(i){var s=tr();return i={current:i},s.memoizedState=i},useState:function(i){i=ko(i);var s=i.queue,l=$2.bind(null,Te,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:U1,useDeferredValue:function(i,s){var l=tr();return V1(l,i,s)},useTransition:function(){var i=ko(!1);return i=Y2.bind(null,Te,i.queue,!0,!1),tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Te,m=tr();if(fn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),oi===null)throw Error(r(349));(mn&127)!==0||Za(c,s,l)}m.memoizedState=l;var _={value:l,getSnapshot:s};return m.queue=_,U2(Xh.bind(null,c,_,i),[i]),c.flags|=2048,gl(9,{destroy:void 0},Qh.bind(null,c,_,l,s),null),l},useId:function(){var i=tr(),s=oi.identifierPrefix;if(fn){var l=zs,c=qs;l=(c&~(1<<32-Ve(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Bi++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Vc++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:j1,useFormState:ka,useActionState:ka,useOptimistic:function(i){var s=tr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=F1.bind(null,Te,!0,l),l.dispatch=s,[i,s]},useMemoCache:dl,useCacheRefresh:function(){return tr().memoizedState=rE.bind(null,Te)},useEffectEvent:function(i){var s=tr(),l={impl:i};return s.memoizedState=l,function(){if((Bn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},q1={readContext:gr,use:Xl,useCallback:z2,useContext:gr,useEffect:M1,useImperativeHandle:q2,useInsertionEffect:B2,useLayoutEffect:j2,useMemo:H2,useReducer:Fc,useRef:wd,useState:function(){return Fc(La)},useDebugValue:U1,useDeferredValue:function(i,s){var l=wi();return G2(l,Ce.memoizedState,i,s)},useTransition:function(){var i=Fc(La)[0],s=wi().memoizedState;return[typeof i=="boolean"?i:Lo(i),s]},useSyncExternalStore:zc,useId:X2,useHostTransitionStatus:j1,useFormState:to,useActionState:to,useOptimistic:function(i,s){var l=wi();return yd(l,Ce,i,s)},useMemoCache:dl,useCacheRefresh:W2};q1.useEffectEvent=V2;var e5={readContext:gr,use:Xl,useCallback:z2,useContext:gr,useEffect:M1,useImperativeHandle:q2,useInsertionEffect:B2,useLayoutEffect:j2,useMemo:H2,useReducer:qc,useRef:wd,useState:function(){return qc(La)},useDebugValue:U1,useDeferredValue:function(i,s){var l=wi();return Ce===null?V1(l,i,s):G2(l,Ce.memoizedState,i,s)},useTransition:function(){var i=qc(La)[0],s=wi().memoizedState;return[typeof i=="boolean"?i:Lo(i),s]},useSyncExternalStore:zc,useId:X2,useHostTransitionStatus:j1,useFormState:Yc,useActionState:Yc,useOptimistic:function(i,s){var l=wi();return Ce!==null?yd(l,Ce,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:dl,useCacheRefresh:W2};e5.useEffectEvent=V2;function z1(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:A({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var H1={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=pa(),m=Oe(c);m.payload=s,l!=null&&(m.callback=l),s=nn(i,m,c),s!==null&&(Ws(s,i,c),Un(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=pa(),m=Oe(c);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=nn(i,m,c),s!==null&&(Ws(s,i,c),Un(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=pa(),c=Oe(l);c.tag=2,s!=null&&(c.callback=s),s=nn(i,c,l),s!==null&&(Ws(s,i,l),Un(s,i,l))}};function n5(i,s,l,c,m,_,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,_,x):s.prototype&&s.prototype.isPureReactComponent?!Ya(l,c)||!Ya(m,_):!0}function i5(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&H1.enqueueReplaceState(s,s.state,null)}function Zu(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=A({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function r5(i){qu(i)}function s5(i){console.error(i)}function a5(i){qu(i)}function Ed(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function o5(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function G1(i,s,l){return l=Oe(l),l.tag=3,l.payload={element:null},l.callback=function(){Ed(i,s)},l}function l5(i){return i=Oe(i),i.tag=3,i}function u5(i,s,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var _=c.value;i.payload=function(){return m(_)},i.callback=function(){o5(s,l,c)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){o5(s,l,c),typeof m!="function"&&(nu===null?nu=new Set([this]):nu.add(this));var G=c.stack;this.componentDidCatch(c.value,{componentStack:G!==null?G:""})})}function aE(i,s,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Io(s,l,m,!0),l=di.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Pd():l.alternate===null&&ji===0&&(ji=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===yt?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),mg(i,c,m)),!1;case 22:return l.flags|=65536,c===yt?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),mg(i,c,m)),!1}throw Error(r(435,l.tag))}return mg(i,c,m),Pd(),!1}if(fn)return s=di.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==ha&&(i=Error(r(422),{cause:c}),Yl(Bs(i,l)))):(c!==ha&&(s=Error(r(423),{cause:c}),Yl(Bs(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Bs(c,l),m=G1(i.stateNode,c,m),Hi(i,m),ji!==4&&(ji=2)),!1;var _=Error(r(520),{cause:c});if(_=Bs(_,l),lf===null?lf=[_]:lf.push(_),ji!==4&&(ji=2),s===null)return!0;c=Bs(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=G1(l.stateNode,c,i),Hi(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(nu===null||!nu.has(_))))return l.flags|=65536,m&=-m,l.lanes|=m,m=l5(m),u5(m,i,l,c),Hi(l,m),!1}l=l.return}while(l!==null);return!1}var Y1=Error(r(461)),er=!1;function Xr(i,s,l,c){s.child=i===null?$e(s,null,l,c):ai(s,i.child,l,c)}function c5(i,s,l,c,m){l=l.render;var _=s.ref;if("ref"in c){var x={};for(var G in c)G!=="ref"&&(x[G]=c[G])}else x=c;return Co(s),c=Gh(i,s,l,x,_,m),G=Yh(),i!==null&&!er?(Kh(i,s,m),ml(i,s,m)):(fn&&G&&Fh(s),s.flags|=1,Xr(i,s,c,m),s.child)}function h5(i,s,l,c,m){if(i===null){var _=l.type;return typeof _=="function"&&!Rc(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,f5(i,s,_,c,m)):(i=zl(l.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!tg(i,m)){var x=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(x,c)&&i.ref===s.ref)return ml(i,s,m)}return s.flags|=1,i=Vs(_,c),i.ref=s.ref,i.return=s,s.child=i}function f5(i,s,l,c,m){if(i!==null){var _=i.memoizedProps;if(Ya(_,c)&&i.ref===s.ref)if(er=!1,s.pendingProps=c=_,tg(i,m))(i.flags&131072)!==0&&(er=!0);else return s.lanes=i.lanes,ml(i,s,m)}return K1(i,s,l,c,m)}function d5(i,s,l,c){var m=c.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~_}else c=0,s.child=null;return p5(i,s,_,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&X(s,_!==null?_.cachePool:null),_!==null?fi(s,_):Rn(),Ui(s);else return c=s.lanes=536870912,p5(i,s,_!==null?_.baseLanes|l:l,l,c)}else _!==null?(X(s,_.cachePool),fi(s,_),Vi(),s.memoizedState=null):(i!==null&&X(s,null),Rn(),Vi());return Xr(i,s,m,l),s.child}function tf(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function p5(i,s,l,c,m){var _=K();return _=_===null?null:{parent:Ri._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&X(s,null),Rn(),Ui(s),i!==null&&Io(i,s,c,!0),s.childLanes=m,null}function Sd(i,s){return s=Nd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function g5(i,s,l){return ai(s,i.child,null,l),i=Sd(s,s.pendingProps),i.flags|=2,Yn(s),s.memoizedState=null,i}function oE(i,s,l){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(fn){if(c.mode==="hidden")return i=Sd(s,c),s.lanes=536870912,tf(null,i);if(Vn(s),(i=si)?(i=Iy(i,_i),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Eo!==null?{id:qs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},l=xc(i),l.return=s,s.child=l,dr=s,si=null)):i=null,i===null)throw So(s);return s.lanes=536870912,null}return Sd(s,c)}var _=i.memoizedState;if(_!==null){var x=_.dehydrated;if(Vn(s),m)if(s.flags&256)s.flags&=-257,s=g5(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(er||Io(i,s,l,!1),m=(l&i.childLanes)!==0,er||m){if(c=oi,c!==null&&(x=Ar(c,l),x!==0&&x!==_.retryLane))throw _.retryLane=x,Wa(i,x),Ws(c,i,x),Y1;Pd(),s=g5(i,s,l)}else i=_.treeContext,si=Oa(x.nextSibling),dr=s,fn=!0,Kr=null,_i=!1,i!==null&&pd(s,i),s=Sd(s,c),s.flags|=4096;return s}return i=Vs(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Td(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function K1(i,s,l,c,m){return Co(s),l=Gh(i,s,l,c,void 0,m),c=Yh(),i!==null&&!er?(Kh(i,s,m),ml(i,s,m)):(fn&&c&&Fh(s),s.flags|=1,Xr(i,s,l,m),s.child)}function m5(i,s,l,c,m,_){return Co(s),s.updateQueue=null,l=Ja(s,c,l,m),Bc(i),c=Yh(),i!==null&&!er?(Kh(i,s,_),ml(i,s,_)):(fn&&c&&Fh(s),s.flags|=1,Xr(i,s,l,_),s.child)}function y5(i,s,l,c,m){if(Co(s),s.stateNode===null){var _=fr,x=l.contextType;typeof x=="object"&&x!==null&&(_=gr(x)),_=new l(c,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=H1,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=c,_.state=s.memoizedState,_.refs={},Zt(s),x=l.contextType,_.context=typeof x=="object"&&x!==null?gr(x):fr,_.state=s.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(z1(s,l,x,c),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&H1.enqueueReplaceState(_,_.state,null),Pi(s,c,_,m),ti(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){_=s.stateNode;var G=s.memoizedProps,lt=Zu(l,G);_.props=lt;var Lt=_.context,Bt=l.contextType;x=fr,typeof Bt=="object"&&Bt!==null&&(x=gr(Bt));var Ht=l.getDerivedStateFromProps;Bt=typeof Ht=="function"||typeof _.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,Bt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(G||Lt!==x)&&i5(s,_,c,x),ae=!1;var kt=s.memoizedState;_.state=kt,Pi(s,c,_,m),ti(),Lt=s.memoizedState,G||kt!==Lt||ae?(typeof Ht=="function"&&(z1(s,l,Ht,c),Lt=s.memoizedState),(lt=ae||n5(s,l,lt,c,kt,Lt,x))?(Bt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Lt),_.props=c,_.state=Lt,_.context=x,c=lt):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,hi(i,s),x=s.memoizedProps,Bt=Zu(l,x),_.props=Bt,Ht=s.pendingProps,kt=_.context,Lt=l.contextType,lt=fr,typeof Lt=="object"&&Lt!==null&&(lt=gr(Lt)),G=l.getDerivedStateFromProps,(Lt=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==Ht||kt!==lt)&&i5(s,_,c,lt),ae=!1,kt=s.memoizedState,_.state=kt,Pi(s,c,_,m),ti();var Ot=s.memoizedState;x!==Ht||kt!==Ot||ae||i!==null&&i.dependencies!==null&&Pc(i.dependencies)?(typeof G=="function"&&(z1(s,l,G,c),Ot=s.memoizedState),(Bt=ae||n5(s,l,Bt,c,kt,Ot,lt)||i!==null&&i.dependencies!==null&&Pc(i.dependencies))?(Lt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,Ot,lt),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,Ot,lt)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===i.memoizedProps&&kt===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&kt===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Ot),_.props=c,_.state=Ot,_.context=lt,c=Bt):(typeof _.componentDidUpdate!="function"||x===i.memoizedProps&&kt===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&kt===i.memoizedState||(s.flags|=1024),c=!1)}return _=c,Td(i,s),c=(s.flags&128)!==0,_||c?(_=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&c?(s.child=ai(s,i.child,null,m),s.child=ai(s,null,l,m)):Xr(i,s,l,m),s.memoizedState=_.state,i=s.child):i=ml(i,s,m),i}function v5(i,s,l,c){return hl(),s.flags|=256,Xr(i,s,l,c),s.child}var Q1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function X1(i){return{baseLanes:i,cachePool:it()}}function W1(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=da),i}function _5(i,s,l){var c=s.pendingProps,m=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=i!==null&&i.memoizedState===null?!1:(An.current&2)!==0),x&&(m=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(fn){if(m?xi(s):Vi(),(i=si)?(i=Iy(i,_i),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Eo!==null?{id:qs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},l=xc(i),l.return=s,s.child=l,dr=s,si=null)):i=null,i===null)throw So(s);return kg(i)?s.lanes=32:s.lanes=536870912,null}var G=c.children;return c=c.fallback,m?(Vi(),m=s.mode,G=Nd({mode:"hidden",children:G},m),c=Ao(c,m,l,null),G.return=s,c.return=s,G.sibling=c,s.child=G,c=s.child,c.memoizedState=X1(l),c.childLanes=W1(i,x,l),s.memoizedState=Q1,tf(null,c)):(xi(s),$1(s,G))}var lt=i.memoizedState;if(lt!==null&&(G=lt.dehydrated,G!==null)){if(_)s.flags&256?(xi(s),s.flags&=-257,s=J1(i,s,l)):s.memoizedState!==null?(Vi(),s.child=i.child,s.flags|=128,s=null):(Vi(),G=c.fallback,m=s.mode,c=Nd({mode:"visible",children:c.children},m),G=Ao(G,m,l,null),G.flags|=2,c.return=s,G.return=s,c.sibling=G,s.child=c,ai(s,i.child,null,l),c=s.child,c.memoizedState=X1(l),c.childLanes=W1(i,x,l),s.memoizedState=Q1,s=tf(null,c));else if(xi(s),kg(G)){if(x=G.nextSibling&&G.nextSibling.dataset,x)var Lt=x.dgst;x=Lt,c=Error(r(419)),c.stack="",c.digest=x,Yl({value:c,source:null,stack:null}),s=J1(i,s,l)}else if(er||Io(i,s,l,!1),x=(l&i.childLanes)!==0,er||x){if(x=oi,x!==null&&(c=Ar(x,l),c!==0&&c!==lt.retryLane))throw lt.retryLane=c,Wa(i,c),Ws(x,i,c),Y1;Lg(G)||Pd(),s=J1(i,s,l)}else Lg(G)?(s.flags|=192,s.child=i.child,s=null):(i=lt.treeContext,si=Oa(G.nextSibling),dr=s,fn=!0,Kr=null,_i=!1,i!==null&&pd(s,i),s=$1(s,c.children),s.flags|=4096);return s}return m?(Vi(),G=c.fallback,m=s.mode,lt=i.child,Lt=lt.sibling,c=Vs(lt,{mode:"hidden",children:c.children}),c.subtreeFlags=lt.subtreeFlags&65011712,Lt!==null?G=Vs(Lt,G):(G=Ao(G,m,l,null),G.flags|=2),G.return=s,c.return=s,c.sibling=G,s.child=c,tf(null,c),c=s.child,G=i.child.memoizedState,G===null?G=X1(l):(m=G.cachePool,m!==null?(lt=Ri._currentValue,m=m.parent!==lt?{parent:lt,pool:lt}:m):m=it(),G={baseLanes:G.baseLanes|l,cachePool:m}),c.memoizedState=G,c.childLanes=W1(i,x,l),s.memoizedState=Q1,tf(i.child,c)):(xi(s),l=i.child,i=l.sibling,l=Vs(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=l,s.memoizedState=null,l)}function $1(i,s){return s=Nd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Nd(i,s){return i=kr(22,i,null,s),i.lanes=0,i}function J1(i,s,l){return ai(s,i.child,null,l),i=$1(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function b5(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Kl(i.return,s,l)}function Z1(i,s,l,c,m,_){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:_}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=l,x.tailMode=m,x.treeForkCount=_)}function w5(i,s,l){var c=s.pendingProps,m=c.revealOrder,_=c.tail;c=c.children;var x=An.current,G=(x&2)!==0;if(G?(x=x&1|2,s.flags|=128):x&=1,Y(An,x),Xr(i,s,c,l),c=fn?Qu:0,!G&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&b5(i,l,s);else if(i.tag===19)b5(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&Dr(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Z1(s,!1,m,l,_,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Dr(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Z1(s,!0,l,null,_,c);break;case"together":Z1(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function ml(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),eu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Io(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Vs(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Vs(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function tg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Pc(i)))}function lE(i,s,l){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),No(s,Ri,i.memoizedState.cache),hl();break;case 27:case 5:Ut(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:No(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vn(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(xi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?_5(i,s,l):(xi(s),i=ml(i,s,l),i!==null?i.sibling:null);xi(s);break;case 19:var m=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Io(i,s,l,!1),c=(l&s.childLanes)!==0),m){if(c)return w5(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Y(An,An.current),c)break;return null;case 22:return s.lanes=0,d5(i,s,l,s.pendingProps);case 24:No(s,Ri,i.memoizedState.cache)}return ml(i,s,l)}function A5(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)er=!0;else{if(!tg(i,l)&&(s.flags&128)===0)return er=!1,lE(i,s,l);er=(i.flags&131072)!==0}else er=!1,fn&&(s.flags&1048576)!==0&&dd(s,Qu,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(i=Tt(s.elementType),s.type=i,typeof i=="function")Rc(i)?(c=Zu(i,c),s.tag=1,s=y5(null,s,i,c,l)):(s.tag=0,s=K1(null,s,i,c,l));else{if(i!=null){var m=i.$$typeof;if(m===J){s.tag=11,s=c5(null,s,i,c,l);break t}else if(m===j){s.tag=14,s=h5(null,s,i,c,l);break t}}throw s=Z(i)||i,Error(r(306,s,""))}}return s;case 0:return K1(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,m=Zu(c,s.pendingProps),y5(i,s,c,m,l);case 3:t:{if(Nt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var _=s.memoizedState;m=_.element,hi(i,s),Pi(s,c,null,l);var x=s.memoizedState;if(c=x.cache,No(s,Ri,c),c!==_.cache&&fl(s,[Ri],l,!0),ti(),c=x.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=v5(i,s,c,l);break t}else if(c!==m){m=Bs(Error(r(424)),s),Yl(m),s=v5(i,s,c,l);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(si=Oa(i.firstChild),dr=s,fn=!0,Kr=null,_i=!0,l=$e(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(hl(),c===m){s=ml(i,s,l);break t}Xr(i,s,c,l)}s=s.child}return s;case 26:return Td(i,s),i===null?(l=Oy(s.type,null,s.pendingProps,null))?s.memoizedState=l:fn||(l=s.type,i=s.pendingProps,c=qd(ut.current).createElement(l),c[Ln]=s,c[zn]=i,Wr(c,l,i),ci(c),s.stateNode=c):s.memoizedState=Oy(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ut(s),i===null&&fn&&(c=s.stateNode=xy(s.type,s.pendingProps,ut.current),dr=s,_i=!0,m=si,au(s.type)?(Og=m,si=Oa(c.firstChild)):si=m),Xr(i,s,s.pendingProps.children,l),Td(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&fn&&((m=c=si)&&(c=VE(c,s.type,s.pendingProps,_i),c!==null?(s.stateNode=c,dr=s,si=Oa(c.firstChild),_i=!1,m=!0):m=!1),m||So(s)),Ut(s),m=s.type,_=s.pendingProps,x=i!==null?i.memoizedProps:null,c=_.children,Cg(m,_)?c=null:x!==null&&Cg(m,x)&&(s.flags|=32),s.memoizedState!==null&&(m=Gh(i,s,P1,null,null,l),mf._currentValue=m),Td(i,s),Xr(i,s,c,l),s.child;case 6:return i===null&&fn&&((i=l=si)&&(l=BE(l,s.pendingProps,_i),l!==null?(s.stateNode=l,dr=s,si=null,i=!0):i=!1),i||So(s)),null;case 13:return _5(i,s,l);case 4:return Nt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=ai(s,null,c,l):Xr(i,s,c,l),s.child;case 11:return c5(i,s,s.type,s.pendingProps,l);case 7:return Xr(i,s,s.pendingProps,l),s.child;case 8:return Xr(i,s,s.pendingProps.children,l),s.child;case 12:return Xr(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,No(s,s.type,c.value),Xr(i,s,c.children,l),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Co(s),m=gr(m),c=c(m),s.flags|=1,Xr(i,s,c,l),s.child;case 14:return h5(i,s,s.type,s.pendingProps,l);case 15:return f5(i,s,s.type,s.pendingProps,l);case 19:return w5(i,s,l);case 31:return oE(i,s,l);case 22:return d5(i,s,l,s.pendingProps);case 24:return Co(s),c=gr(Ri),i===null?(m=K(),m===null&&(m=oi,_=Ql(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=l),m=_),s.memoizedState={parent:c,cache:m},Zt(s),No(s,Ri,m)):((i.lanes&l)!==0&&(hi(i,s),Pi(s,null,null,l),ti()),m=i.memoizedState,_=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),No(s,Ri,c)):(c=_.cache,No(s,Ri,c),c!==m.cache&&fl(s,[Ri],l,!0))),Xr(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function yl(i){i.flags|=4}function eg(i,s,l,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(X5())i.flags|=8192;else throw Pt=yt,It}else i.flags&=-16777217}function E5(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Vy(s))if(X5())i.flags|=8192;else throw Pt=yt,It}function Id(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?xs():536870912,i.lanes|=s,Wc|=s)}function ef(i,s){if(!fn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function pi(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function uE(i,s,l){var c=s.pendingProps;switch(Oc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(s),null;case 1:return pi(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Hs(Ri),St(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(pr(s)?yl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zh())),pi(s),null;case 26:var m=s.type,_=s.memoizedState;return i===null?(yl(s),_!==null?(pi(s),E5(s,_)):(pi(s),eg(s,m,null,c,l))):_?_!==i.memoizedState?(yl(s),pi(s),E5(s,_)):(pi(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&yl(s),pi(s),eg(s,m,i,c,l)),null;case 27:if(Wt(s),l=ut.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&yl(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return pi(s),null}i=$.current,pr(s)?qh(s):(i=xy(m,c,l),s.stateNode=i,yl(s))}return pi(s),null;case 5:if(Wt(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&yl(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return pi(s),null}if(_=$.current,pr(s))qh(s);else{var x=qd(ut.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?x.createElement(m,{is:c.is}):x.createElement(m)}}_[Ln]=s,_[zn]=c;t:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break t;for(;x.sibling===null;){if(x.return===null||x.return===s)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=_;t:switch(Wr(_,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&yl(s)}}return pi(s),eg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&yl(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ut.current,pr(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,m=dr,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Ln]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||_y(i.nodeValue,l)),i||So(s,!0)}else i=qd(i).createTextNode(c),i[Ln]=s,s.stateNode=i}return pi(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(c=pr(s),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ln]=s}else hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pi(s),i=!1}else l=zh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Yn(s),s):(Yn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return pi(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=pr(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ln]=s}else hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pi(s),m=!1}else m=zh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Yn(s),s):(Yn(s),null)}return Yn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==m&&(c.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Id(s,s.updateQueue),pi(s),null);case 4:return St(),i===null&&Eg(s.stateNode.containerInfo),pi(s),null;case 10:return Hs(s.type),pi(s),null;case 19:if(D(An),c=s.memoizedState,c===null)return pi(s),null;if(m=(s.flags&128)!==0,_=c.rendering,_===null)if(m)ef(c,!1);else{if(ji!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Dr(i),_!==null){for(s.flags|=128,ef(c,!1),i=_.updateQueue,s.updateQueue=i,Id(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Yu(l,i),l=l.sibling;return Y(An,An.current&1|2),fn&&Rs(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&Ge()>kd&&(s.flags|=128,m=!0,ef(c,!1),s.lanes=4194304)}else{if(!m)if(i=Dr(_),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Id(s,i),ef(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!fn)return pi(s),null}else 2*Ge()-c.renderingStartTime>kd&&l!==536870912&&(s.flags|=128,m=!0,ef(c,!1),s.lanes=4194304);c.isBackwards?(_.sibling=s.child,s.child=_):(i=c.last,i!==null?i.sibling=_:s.child=_,c.last=_)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Ge(),i.sibling=null,l=An.current,Y(An,m?l&1|2:l&1),fn&&Rs(s,c.treeForkCount),i):(pi(s),null);case 22:case 23:return Yn(s),Gi(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(pi(s),s.subtreeFlags&6&&(s.flags|=8192)):pi(s),l=s.updateQueue,l!==null&&Id(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&D(H),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Hs(Ri),pi(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function cE(i,s){switch(Oc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Hs(Ri),St(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Wt(s),null;case 31:if(s.memoizedState!==null){if(Yn(s),s.alternate===null)throw Error(r(340));hl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Yn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));hl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return D(An),null;case 4:return St(),null;case 10:return Hs(s.type),null;case 22:case 23:return Yn(s),Gi(),i!==null&&D(H),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Hs(Ri),null;case 25:return null;default:return null}}function S5(i,s){switch(Oc(s),s.tag){case 3:Hs(Ri),St();break;case 26:case 27:case 5:Wt(s);break;case 4:St();break;case 31:s.memoizedState!==null&&Yn(s);break;case 13:Yn(s);break;case 19:D(An);break;case 10:Hs(s.type);break;case 22:case 23:Yn(s),Gi(),i!==null&&D(H);break;case 24:Hs(Ri)}}function nf(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var _=l.create,x=l.inst;c=_(),x.destroy=c}l=l.next}while(l!==m)}}catch(G){Qn(s,s.return,G)}}function Zl(i,s,l){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var _=m.next;c=_;do{if((c.tag&i)===i){var x=c.inst,G=x.destroy;if(G!==void 0){x.destroy=void 0,m=s;var lt=l,Lt=G;try{Lt()}catch(Bt){Qn(m,lt,Bt)}}}c=c.next}while(c!==_)}}catch(Bt){Qn(s,s.return,Bt)}}function T5(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Mi(s,l)}catch(c){Qn(i,i.return,c)}}}function N5(i,s,l){l.props=Zu(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Qn(i,s,c)}}function rf(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Qn(i,s,m)}}function Oo(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Qn(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Qn(i,s,m)}else l.current=null}function I5(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Qn(i,i.return,m)}}function ng(i,s,l){try{var c=i.stateNode;kE(c,i.type,l,s),c[zn]=s}catch(m){Qn(i,i.return,m)}}function C5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&au(i.type)||i.tag===4}function ig(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||C5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&au(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rg(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=bs));else if(c!==4&&(c===27&&au(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(rg(i,s,l),i=i.sibling;i!==null;)rg(i,s,l),i=i.sibling}function Cd(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&au(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Cd(i,s,l),i=i.sibling;i!==null;)Cd(i,s,l),i=i.sibling}function R5(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Wr(s,c,l),s[Ln]=i,s[zn]=l}catch(_){Qn(i,i.return,_)}}var vl=!1,nr=!1,sg=!1,x5=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function hE(i,s){if(i=i.containerInfo,Ng=Xd,i=Qa(i),Ca(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var x=0,G=-1,lt=-1,Lt=0,Bt=0,Ht=i,kt=null;e:for(;;){for(var Ot;Ht!==l||m!==0&&Ht.nodeType!==3||(G=x+m),Ht!==_||c!==0&&Ht.nodeType!==3||(lt=x+c),Ht.nodeType===3&&(x+=Ht.nodeValue.length),(Ot=Ht.firstChild)!==null;)kt=Ht,Ht=Ot;for(;;){if(Ht===i)break e;if(kt===l&&++Lt===m&&(G=x),kt===_&&++Bt===c&&(lt=x),(Ot=Ht.nextSibling)!==null)break;Ht=kt,kt=Ht.parentNode}Ht=Ot}l=G===-1||lt===-1?null:{start:G,end:lt}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ig={focusedElem:i,selectionRange:l},Xd=!1,Pr=s;Pr!==null;)if(s=Pr,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Pr=i;else for(;Pr!==null;){switch(s=Pr,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,m=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var ce=Zu(l.type,m);i=c.getSnapshotBeforeUpdate(ce,_),c.__reactInternalSnapshotBeforeUpdate=i}catch(Me){Qn(l,l.return,Me)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)xg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":xg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Pr=i;break}Pr=s.return}}function L5(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:bl(i,l),c&4&&nf(5,l);break;case 1:if(bl(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(x){Qn(l,l.return,x)}else{var m=Zu(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Qn(l,l.return,x)}}c&64&&T5(l),c&512&&rf(l,l.return);break;case 3:if(bl(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Mi(i,s)}catch(x){Qn(l,l.return,x)}}break;case 27:s===null&&c&4&&R5(l);case 26:case 5:bl(i,l),s===null&&c&4&&I5(l),c&512&&rf(l,l.return);break;case 12:bl(i,l);break;case 31:bl(i,l),c&4&&D5(i,l);break;case 13:bl(i,l),c&4&&P5(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=bE.bind(null,l),jE(i,l))));break;case 22:if(c=l.memoizedState!==null||vl,!c){s=s!==null&&s.memoizedState!==null||nr,m=vl;var _=nr;vl=c,(nr=s)&&!_?wl(i,l,(l.subtreeFlags&8772)!==0):bl(i,l),vl=m,nr=_}break;case 30:break;default:bl(i,l)}}function k5(i){var s=i.alternate;s!==null&&(i.alternate=null,k5(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&na(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ai=null,Ys=!1;function _l(i,s,l){for(l=l.child;l!==null;)O5(i,s,l),l=l.sibling}function O5(i,s,l){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(en,l)}catch{}switch(l.tag){case 26:nr||Oo(l,s),_l(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nr||Oo(l,s);var c=Ai,m=Ys;au(l.type)&&(Ai=l.stateNode,Ys=!1),_l(i,s,l),df(l.stateNode),Ai=c,Ys=m;break;case 5:nr||Oo(l,s);case 6:if(c=Ai,m=Ys,Ai=null,_l(i,s,l),Ai=c,Ys=m,Ai!==null)if(Ys)try{(Ai.nodeType===9?Ai.body:Ai.nodeName==="HTML"?Ai.ownerDocument.body:Ai).removeChild(l.stateNode)}catch(_){Qn(l,s,_)}else try{Ai.removeChild(l.stateNode)}catch(_){Qn(l,s,_)}break;case 18:Ai!==null&&(Ys?(i=Ai,Ty(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),rh(i)):Ty(Ai,l.stateNode));break;case 4:c=Ai,m=Ys,Ai=l.stateNode.containerInfo,Ys=!0,_l(i,s,l),Ai=c,Ys=m;break;case 0:case 11:case 14:case 15:Zl(2,l,s),nr||Zl(4,l,s),_l(i,s,l);break;case 1:nr||(Oo(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&N5(l,s,c)),_l(i,s,l);break;case 21:_l(i,s,l);break;case 22:nr=(c=nr)||l.memoizedState!==null,_l(i,s,l),nr=c;break;default:_l(i,s,l)}}function D5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{rh(i)}catch(l){Qn(s,s.return,l)}}}function P5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rh(i)}catch(l){Qn(s,s.return,l)}}function fE(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new x5),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new x5),s;default:throw Error(r(435,i.tag))}}function Rd(i,s){var l=fE(i);s.forEach(function(c){if(!l.has(c)){l.add(c);var m=wE.bind(null,i,c);c.then(m,m)}})}function Ks(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],_=i,x=s,G=x;t:for(;G!==null;){switch(G.tag){case 27:if(au(G.type)){Ai=G.stateNode,Ys=!1;break t}break;case 5:Ai=G.stateNode,Ys=!1;break t;case 3:case 4:Ai=G.stateNode.containerInfo,Ys=!0;break t}G=G.return}if(Ai===null)throw Error(r(160));O5(_,x,m),Ai=null,Ys=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)M5(s,i),s=s.sibling}var no=null;function M5(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ks(s,i),Qs(i),c&4&&(Zl(3,i,i.return),nf(3,i),Zl(5,i,i.return));break;case 1:Ks(s,i),Qs(i),c&512&&(nr||l===null||Oo(l,l.return)),c&64&&vl&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=no;if(Ks(s,i),Qs(i),c&512&&(nr||l===null||Oo(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){t:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":_=m.getElementsByTagName("title")[0],(!_||_[Sr]||_[Ln]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(c),m.head.insertBefore(_,m.querySelector("head > title"))),Wr(_,c,l),_[Ln]=i,ci(_),c=_;break t;case"link":var x=My("link","href",m).get(c+(l.href||""));if(x){for(var G=0;G<x.length;G++)if(_=x[G],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(G,1);break e}}_=m.createElement(c),Wr(_,c,l),m.head.appendChild(_);break;case"meta":if(x=My("meta","content",m).get(c+(l.content||""))){for(G=0;G<x.length;G++)if(_=x[G],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(G,1);break e}}_=m.createElement(c),Wr(_,c,l),m.head.appendChild(_);break;default:throw Error(r(468,c))}_[Ln]=i,ci(_),c=_}i.stateNode=c}else Uy(m,i.type,i.stateNode);else i.stateNode=Py(m,c,i.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?Uy(m,i.type,i.stateNode):Py(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ng(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ks(s,i),Qs(i),c&512&&(nr||l===null||Oo(l,l.return)),l!==null&&c&4&&ng(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ks(s,i),Qs(i),c&512&&(nr||l===null||Oo(l,l.return)),i.flags&32){m=i.stateNode;try{Ti(m,"")}catch(ce){Qn(i,i.return,ce)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,ng(i,m,l!==null?l.memoizedProps:m)),c&1024&&(sg=!0);break;case 6:if(Ks(s,i),Qs(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ce){Qn(i,i.return,ce)}}break;case 3:if(Gd=null,m=no,no=zd(s.containerInfo),Ks(s,i),no=m,Qs(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{rh(s.containerInfo)}catch(ce){Qn(i,i.return,ce)}sg&&(sg=!1,U5(i));break;case 4:c=no,no=zd(i.stateNode.containerInfo),Ks(s,i),Qs(i),no=c;break;case 12:Ks(s,i),Qs(i);break;case 31:Ks(s,i),Qs(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rd(i,c)));break;case 13:Ks(s,i),Qs(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ld=Ge()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rd(i,c)));break;case 22:m=i.memoizedState!==null;var lt=l!==null&&l.memoizedState!==null,Lt=vl,Bt=nr;if(vl=Lt||m,nr=Bt||lt,Ks(s,i),nr=Bt,vl=Lt,Qs(i),c&8192)t:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||lt||vl||nr||tc(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){lt=l=s;try{if(_=lt.stateNode,m)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{G=lt.stateNode;var Ht=lt.memoizedProps.style,kt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;G.style.display=kt==null||typeof kt=="boolean"?"":(""+kt).trim()}}catch(ce){Qn(lt,lt.return,ce)}}}else if(s.tag===6){if(l===null){lt=s;try{lt.stateNode.nodeValue=m?"":lt.memoizedProps}catch(ce){Qn(lt,lt.return,ce)}}}else if(s.tag===18){if(l===null){lt=s;try{var Ot=lt.stateNode;m?Ny(Ot,!0):Ny(lt.stateNode,!1)}catch(ce){Qn(lt,lt.return,ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Rd(i,l))));break;case 19:Ks(s,i),Qs(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rd(i,c)));break;case 30:break;case 21:break;default:Ks(s,i),Qs(i)}}function Qs(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(C5(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,_=ig(i);Cd(i,_,m);break;case 5:var x=l.stateNode;l.flags&32&&(Ti(x,""),l.flags&=-33);var G=ig(i);Cd(i,G,x);break;case 3:case 4:var lt=l.stateNode.containerInfo,Lt=ig(i);rg(i,Lt,lt);break;default:throw Error(r(161))}}catch(Bt){Qn(i,i.return,Bt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function U5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;U5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function bl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)L5(i,s.alternate,s),s=s.sibling}function tc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Zl(4,s,s.return),tc(s);break;case 1:Oo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&N5(s,s.return,l),tc(s);break;case 27:df(s.stateNode);case 26:case 5:Oo(s,s.return),tc(s);break;case 22:s.memoizedState===null&&tc(s);break;case 30:tc(s);break;default:tc(s)}i=i.sibling}}function wl(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:wl(m,_,l),nf(4,_);break;case 1:if(wl(m,_,l),c=_,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Lt){Qn(c,c.return,Lt)}if(c=_,m=c.updateQueue,m!==null){var G=c.stateNode;try{var lt=m.shared.hiddenCallbacks;if(lt!==null)for(m.shared.hiddenCallbacks=null,m=0;m<lt.length;m++)Or(lt[m],G)}catch(Lt){Qn(c,c.return,Lt)}}l&&x&64&&T5(_),rf(_,_.return);break;case 27:R5(_);case 26:case 5:wl(m,_,l),l&&c===null&&x&4&&I5(_),rf(_,_.return);break;case 12:wl(m,_,l);break;case 31:wl(m,_,l),l&&x&4&&D5(m,_);break;case 13:wl(m,_,l),l&&x&4&&P5(m,_);break;case 22:_.memoizedState===null&&wl(m,_,l),rf(_,_.return);break;case 30:break;default:wl(m,_,l)}s=s.sibling}}function ag(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Xu(l))}function og(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Xu(i))}function io(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)V5(i,s,l,c),s=s.sibling}function V5(i,s,l,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:io(i,s,l,c),m&2048&&nf(9,s);break;case 1:io(i,s,l,c);break;case 3:io(i,s,l,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Xu(i)));break;case 12:if(m&2048){io(i,s,l,c),i=s.stateNode;try{var _=s.memoizedProps,x=_.id,G=_.onPostCommit;typeof G=="function"&&G(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(lt){Qn(s,s.return,lt)}}else io(i,s,l,c);break;case 31:io(i,s,l,c);break;case 13:io(i,s,l,c);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?io(i,s,l,c):sf(i,s):_._visibility&2?io(i,s,l,c):(_._visibility|=2,Kc(i,s,l,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&ag(x,s);break;case 24:io(i,s,l,c),m&2048&&og(s.alternate,s);break;default:io(i,s,l,c)}}function Kc(i,s,l,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,x=s,G=l,lt=c,Lt=x.flags;switch(x.tag){case 0:case 11:case 15:Kc(_,x,G,lt,m),nf(8,x);break;case 23:break;case 22:var Bt=x.stateNode;x.memoizedState!==null?Bt._visibility&2?Kc(_,x,G,lt,m):sf(_,x):(Bt._visibility|=2,Kc(_,x,G,lt,m)),m&&Lt&2048&&ag(x.alternate,x);break;case 24:Kc(_,x,G,lt,m),m&&Lt&2048&&og(x.alternate,x);break;default:Kc(_,x,G,lt,m)}s=s.sibling}}function sf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,m=c.flags;switch(c.tag){case 22:sf(l,c),m&2048&&ag(c.alternate,c);break;case 24:sf(l,c),m&2048&&og(c.alternate,c);break;default:sf(l,c)}s=s.sibling}}var af=8192;function Qc(i,s,l){if(i.subtreeFlags&af)for(i=i.child;i!==null;)B5(i,s,l),i=i.sibling}function B5(i,s,l){switch(i.tag){case 26:Qc(i,s,l),i.flags&af&&i.memoizedState!==null&&JE(l,no,i.memoizedState,i.memoizedProps);break;case 5:Qc(i,s,l);break;case 3:case 4:var c=no;no=zd(i.stateNode.containerInfo),Qc(i,s,l),no=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=af,af=16777216,Qc(i,s,l),af=c):Qc(i,s,l));break;default:Qc(i,s,l)}}function j5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function of(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Pr=c,q5(c,i)}j5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)F5(i),i=i.sibling}function F5(i){switch(i.tag){case 0:case 11:case 15:of(i),i.flags&2048&&Zl(9,i,i.return);break;case 3:of(i);break;case 12:of(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,xd(i)):of(i);break;default:of(i)}}function xd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Pr=c,q5(c,i)}j5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Zl(8,s,s.return),xd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,xd(s));break;default:xd(s)}i=i.sibling}}function q5(i,s){for(;Pr!==null;){var l=Pr;switch(l.tag){case 0:case 11:case 15:Zl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Xu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Pr=c;else t:for(l=i;Pr!==null;){c=Pr;var m=c.sibling,_=c.return;if(k5(c),c===l){Pr=null;break t}if(m!==null){m.return=_,Pr=m;break t}Pr=_}}}var dE={getCacheForType:function(i){var s=gr(Ri),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return gr(Ri).controller.signal}},pE=typeof WeakMap=="function"?WeakMap:Map,Bn=0,oi=null,dn=null,mn=0,Kn=0,fa=null,tu=!1,Xc=!1,lg=!1,Al=0,ji=0,eu=0,ec=0,ug=0,da=0,Wc=0,lf=null,Xs=null,cg=!1,Ld=0,z5=0,kd=1/0,Od=null,nu=null,yr=0,iu=null,$c=null,El=0,hg=0,fg=null,H5=null,uf=0,dg=null;function pa(){return(Bn&2)!==0&&mn!==0?mn&-mn:st.T!==null?_g():ki()}function G5(){if(da===0)if((mn&536870912)===0||fn){var i=ri;ri<<=1,(ri&3932160)===0&&(ri=262144),da=i}else da=536870912;return i=di.current,i!==null&&(i.flags|=32),da}function Ws(i,s,l){(i===oi&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(Jc(i,0),ru(i,mn,da,!1)),we(i,l),((Bn&2)===0||i!==oi)&&(i===oi&&((Bn&2)===0&&(ec|=l),ji===4&&ru(i,mn,da,!1)),Do(i))}function Y5(i,s,l){if((Bn&6)!==0)throw Error(r(327));var c=!l&&(s&127)===0&&(s&i.expiredLanes)===0||sr(i,s),m=c?yE(i,s):gg(i,s,!0),_=c;do{if(m===0){Xc&&!c&&ru(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!gE(l)){m=gg(i,s,!1),_=!1;continue}if(m===2){if(_=s,i.errorRecoveryDisabledLanes&_)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;t:{var G=i;m=lf;var lt=G.current.memoizedState.isDehydrated;if(lt&&(Jc(G,x).flags|=256),x=gg(G,x,!1),x!==2){if(lg&&!lt){G.errorRecoveryDisabledLanes|=_,ec|=_,m=4;break t}_=Xs,Xs=m,_!==null&&(Xs===null?Xs=_:Xs.push.apply(Xs,_))}m=x}if(_=!1,m!==2)continue}}if(m===1){Jc(i,0),ru(i,s,0,!0);break}t:{switch(c=i,_=m,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ru(c,s,da,!tu);break t;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Ld+300-Ge(),10<m)){if(ru(c,s,da,!tu),sn(c,0,!0)!==0)break t;El=s,c.timeoutHandle=Ey(K5.bind(null,c,l,Xs,Od,cg,s,da,ec,Wc,tu,_,"Throttled",-0,0),m);break t}K5(c,l,Xs,Od,cg,s,da,ec,Wc,tu,_,null,-0,0)}}break}while(!0);Do(i)}function K5(i,s,l,c,m,_,x,G,lt,Lt,Bt,Ht,kt,Ot){if(i.timeoutHandle=-1,Ht=s.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},B5(s,_,Ht);var ce=(_&62914560)===_?Ld-Ge():(_&4194048)===_?z5-Ge():0;if(ce=ZE(Ht,ce),ce!==null){El=_,i.cancelPendingCommit=ce(ey.bind(null,i,s,_,l,c,m,x,G,lt,Bt,Ht,null,kt,Ot)),ru(i,_,x,!Lt);return}}ey(i,s,_,l,c,m,x,G,lt)}function gE(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],_=m.getSnapshot;m=m.value;try{if(!hr(_(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ru(i,s,l,c){s&=~ug,s&=~ec,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var _=31-Ve(m),x=1<<_;c[_]=-1,m&=~x}l!==0&&Vr(i,l,s)}function Dd(){return(Bn&6)===0?(cf(0),!1):!0}function pg(){if(dn!==null){if(Kn===0)var i=dn.return;else i=dn,xa=To=null,jc(i),Yt=null,fe=0,i=dn;for(;i!==null;)S5(i.alternate,i),i=i.return;dn=null}}function Jc(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,PE(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),El=0,pg(),oi=i,dn=l=Vs(i.current,null),mn=s,Kn=0,fa=null,tu=!1,Xc=sr(i,s),lg=!1,Wc=da=ug=ec=eu=ji=0,Xs=lf=null,cg=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-Ve(c),_=1<<m;s|=i[m],c&=~_}return Al=s,zu(),l}function Q5(i,s){Te=null,st.H=Zh,s===ft||s===et?(s=jt(),Kn=3):s===It?(s=jt(),Kn=4):Kn=s===Y1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fa=s,dn===null&&(ji=1,Ed(i,Bs(s,i.current)))}function X5(){var i=di.current;return i===null?!0:(mn&4194048)===mn?Tn===null:(mn&62914560)===mn||(mn&536870912)!==0?i===Tn:!1}function W5(){var i=st.H;return st.H=Zh,i===null?Zh:i}function $5(){var i=st.A;return st.A=dE,i}function Pd(){ji=4,tu||(mn&4194048)!==mn&&di.current!==null||(Xc=!0),(eu&134217727)===0&&(ec&134217727)===0||oi===null||ru(oi,mn,da,!1)}function gg(i,s,l){var c=Bn;Bn|=2;var m=W5(),_=$5();(oi!==i||mn!==s)&&(Od=null,Jc(i,s)),s=!1;var x=ji;t:do try{if(Kn!==0&&dn!==null){var G=dn,lt=fa;switch(Kn){case 8:pg(),x=6;break t;case 3:case 2:case 9:case 6:di.current===null&&(s=!0);var Lt=Kn;if(Kn=0,fa=null,Zc(i,G,lt,Lt),l&&Xc){x=0;break t}break;default:Lt=Kn,Kn=0,fa=null,Zc(i,G,lt,Lt)}}mE(),x=ji;break}catch(Bt){Q5(i,Bt)}while(!0);return s&&i.shellSuspendCounter++,xa=To=null,Bn=c,st.H=m,st.A=_,dn===null&&(oi=null,mn=0,zu()),x}function mE(){for(;dn!==null;)J5(dn)}function yE(i,s){var l=Bn;Bn|=2;var c=W5(),m=$5();oi!==i||mn!==s?(Od=null,kd=Ge()+500,Jc(i,s)):Xc=sr(i,s);t:do try{if(Kn!==0&&dn!==null){s=dn;var _=fa;e:switch(Kn){case 1:Kn=0,fa=null,Zc(i,s,_,1);break;case 2:case 9:if(Et(_)){Kn=0,fa=null,Z5(s);break}s=function(){Kn!==2&&Kn!==9||oi!==i||(Kn=7),Do(i)},_.then(s,s);break t;case 3:Kn=7;break t;case 4:Kn=5;break t;case 7:Et(_)?(Kn=0,fa=null,Z5(s)):(Kn=0,fa=null,Zc(i,s,_,7));break;case 5:var x=null;switch(dn.tag){case 26:x=dn.memoizedState;case 5:case 27:var G=dn;if(x?Vy(x):G.stateNode.complete){Kn=0,fa=null;var lt=G.sibling;if(lt!==null)dn=lt;else{var Lt=G.return;Lt!==null?(dn=Lt,Md(Lt)):dn=null}break e}}Kn=0,fa=null,Zc(i,s,_,5);break;case 6:Kn=0,fa=null,Zc(i,s,_,6);break;case 8:pg(),ji=6;break t;default:throw Error(r(462))}}vE();break}catch(Bt){Q5(i,Bt)}while(!0);return xa=To=null,st.H=c,st.A=m,Bn=l,dn!==null?0:(oi=null,mn=0,zu(),ji)}function vE(){for(;dn!==null&&!Qe();)J5(dn)}function J5(i){var s=A5(i.alternate,i,Al);i.memoizedProps=i.pendingProps,s===null?Md(i):dn=s}function Z5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=m5(l,s,s.pendingProps,s.type,void 0,mn);break;case 11:s=m5(l,s,s.pendingProps,s.type.render,s.ref,mn);break;case 5:jc(s);default:S5(l,s),s=dn=Yu(s,Al),s=A5(l,s,Al)}i.memoizedProps=i.pendingProps,s===null?Md(i):dn=s}function Zc(i,s,l,c){xa=To=null,jc(s),Yt=null,fe=0;var m=s.return;try{if(aE(i,m,s,l,mn)){ji=1,Ed(i,Bs(l,i.current)),dn=null;return}}catch(_){if(m!==null)throw dn=m,_;ji=1,Ed(i,Bs(l,i.current)),dn=null;return}s.flags&32768?(fn||c===1?i=!0:Xc||(mn&536870912)!==0?i=!1:(tu=i=!0,(c===2||c===9||c===3||c===6)&&(c=di.current,c!==null&&c.tag===13&&(c.flags|=16384))),ty(s,i)):Md(s)}function Md(i){var s=i;do{if((s.flags&32768)!==0){ty(s,tu);return}i=s.return;var l=uE(s.alternate,s,Al);if(l!==null){dn=l;return}if(s=s.sibling,s!==null){dn=s;return}dn=s=i}while(s!==null);ji===0&&(ji=5)}function ty(i,s){do{var l=cE(i.alternate,i);if(l!==null){l.flags&=32767,dn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){dn=i;return}dn=i=l}while(i!==null);ji=6,dn=null}function ey(i,s,l,c,m,_,x,G,lt){i.cancelPendingCommit=null;do Ud();while(yr!==0);if((Bn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Nc,ea(i,l,_,x,G,lt),i===oi&&(dn=oi=null,mn=0),$c=s,iu=i,El=l,hg=_,fg=m,H5=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,AE(Pe,function(){return ay(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=st.T,st.T=null,m=dt.p,dt.p=2,x=Bn,Bn|=4;try{hE(i,s,l)}finally{Bn=x,dt.p=m,st.T=c}}yr=1,ny(),iy(),ry()}}function ny(){if(yr===1){yr=0;var i=iu,s=$c,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=st.T,st.T=null;var c=dt.p;dt.p=2;var m=Bn;Bn|=4;try{M5(s,i);var _=Ig,x=Qa(i.containerInfo),G=_.focusedElem,lt=_.selectionRange;if(x!==G&&G&&G.ownerDocument&&Ka(G.ownerDocument.documentElement,G)){if(lt!==null&&Ca(G)){var Lt=lt.start,Bt=lt.end;if(Bt===void 0&&(Bt=Lt),"selectionStart"in G)G.selectionStart=Lt,G.selectionEnd=Math.min(Bt,G.value.length);else{var Ht=G.ownerDocument||document,kt=Ht&&Ht.defaultView||window;if(kt.getSelection){var Ot=kt.getSelection(),ce=G.textContent.length,Me=Math.min(lt.start,ce),ii=lt.end===void 0?Me:Math.min(lt.end,ce);!Ot.extend&&Me>ii&&(x=ii,ii=Me,Me=x);var wt=ql(G,Me),gt=ql(G,ii);if(wt&&gt&&(Ot.rangeCount!==1||Ot.anchorNode!==wt.node||Ot.anchorOffset!==wt.offset||Ot.focusNode!==gt.node||Ot.focusOffset!==gt.offset)){var Rt=Ht.createRange();Rt.setStart(wt.node,wt.offset),Ot.removeAllRanges(),Me>ii?(Ot.addRange(Rt),Ot.extend(gt.node,gt.offset)):(Rt.setEnd(gt.node,gt.offset),Ot.addRange(Rt))}}}}for(Ht=[],Ot=G;Ot=Ot.parentNode;)Ot.nodeType===1&&Ht.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ht.length;G++){var qt=Ht[G];qt.element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}}Xd=!!Ng,Ig=Ng=null}finally{Bn=m,dt.p=c,st.T=l}}i.current=s,yr=2}}function iy(){if(yr===2){yr=0;var i=iu,s=$c,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=st.T,st.T=null;var c=dt.p;dt.p=2;var m=Bn;Bn|=4;try{L5(i,s.alternate,s)}finally{Bn=m,dt.p=c,st.T=l}}yr=3}}function ry(){if(yr===4||yr===3){yr=0,ve();var i=iu,s=$c,l=El,c=H5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yr=5:(yr=0,$c=iu=null,sy(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(nu=null),Wn(l),s=s.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(en,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=st.T,m=dt.p,dt.p=2,st.T=null;try{for(var _=i.onRecoverableError,x=0;x<c.length;x++){var G=c[x];_(G.value,{componentStack:G.stack})}}finally{st.T=s,dt.p=m}}(El&3)!==0&&Ud(),Do(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===dg?uf++:(uf=0,dg=i):uf=0,cf(0)}}function sy(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Xu(s)))}function Ud(){return ny(),iy(),ry(),ay()}function ay(){if(yr!==5)return!1;var i=iu,s=hg;hg=0;var l=Wn(El),c=st.T,m=dt.p;try{dt.p=32>l?32:l,st.T=null,l=fg,fg=null;var _=iu,x=El;if(yr=0,$c=iu=null,El=0,(Bn&6)!==0)throw Error(r(331));var G=Bn;if(Bn|=4,F5(_.current),V5(_,_.current,x,l),Bn=G,cf(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(en,_)}catch{}return!0}finally{dt.p=m,st.T=c,sy(i,s)}}function oy(i,s,l){s=Bs(l,s),s=G1(i.stateNode,s,2),i=nn(i,s,2),i!==null&&(we(i,2),Do(i))}function Qn(i,s,l){if(i.tag===3)oy(i,i,l);else for(;s!==null;){if(s.tag===3){oy(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(nu===null||!nu.has(c))){i=Bs(l,i),l=l5(2),c=nn(s,l,2),c!==null&&(u5(l,c,s,i),we(c,2),Do(c));break}}s=s.return}}function mg(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new pE;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(l)||(lg=!0,m.add(l),i=_E.bind(null,i,s,l),s.then(i,i))}function _E(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,oi===i&&(mn&l)===l&&(ji===4||ji===3&&(mn&62914560)===mn&&300>Ge()-Ld?(Bn&2)===0&&Jc(i,0):ug|=l,Wc===mn&&(Wc=0)),Do(i)}function ly(i,s){s===0&&(s=xs()),i=Wa(i,s),i!==null&&(we(i,s),Do(i))}function bE(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),ly(i,l)}function wE(i,s){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),ly(i,l)}function AE(i,s){return ie(i,s)}var Vd=null,th=null,yg=!1,Bd=!1,vg=!1,su=0;function Do(i){i!==th&&i.next===null&&(th===null?Vd=th=i:th=th.next=i),Bd=!0,yg||(yg=!0,SE())}function cf(i,s){if(!vg&&Bd){vg=!0;do for(var l=!1,c=Vd;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var _=0;else{var x=c.suspendedLanes,G=c.pingedLanes;_=(1<<31-Ve(42|i)+1)-1,_&=m&~(x&~G),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,fy(c,_))}else _=mn,_=sn(c,c===oi?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||sr(c,_)||(l=!0,fy(c,_));c=c.next}while(l);vg=!1}}function EE(){uy()}function uy(){Bd=yg=!1;var i=0;su!==0&&DE()&&(i=su);for(var s=Ge(),l=null,c=Vd;c!==null;){var m=c.next,_=cy(c,s);_===0?(c.next=null,l===null?Vd=m:l.next=m,m===null&&(th=l)):(l=c,(i!==0||(_&3)!==0)&&(Bd=!0)),c=m}yr!==0&&yr!==5||cf(i),su!==0&&(su=0)}function cy(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var x=31-Ve(_),G=1<<x,lt=m[x];lt===-1?((G&l)===0||(G&c)!==0)&&(m[x]=Wi(G,s)):lt<=s&&(i.expiredLanes|=G),_&=~G}if(s=oi,l=mn,l=sn(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&te(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||sr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&te(c),Wn(l)){case 2:case 8:l=En;break;case 32:l=Pe;break;case 268435456:l=ke;break;default:l=Pe}return c=hy.bind(null,i),l=ie(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&te(c),i.callbackPriority=2,i.callbackNode=null,2}function hy(i,s){if(yr!==0&&yr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ud()&&i.callbackNode!==l)return null;var c=mn;return c=sn(i,i===oi?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Y5(i,c,s),cy(i,Ge()),i.callbackNode!=null&&i.callbackNode===l?hy.bind(null,i):null)}function fy(i,s){if(Ud())return null;Y5(i,s,!0)}function SE(){ME(function(){(Bn&6)!==0?ie(Ue,EE):uy()})}function _g(){if(su===0){var i=d;i===0&&(i=xn,xn<<=1,(xn&261888)===0&&(xn=256)),su=i}return su}function dy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_s(""+i)}function py(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function TE(i,s,l,c,m){if(s==="submit"&&l&&l.stateNode===m){var _=dy((m[zn]||null).action),x=c.submitter;x&&(s=(s=x[zn]||null)?dy(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var G=new Cr("action","action",null,c,m);i.push({event:G,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(su!==0){var lt=x?py(m,x):new FormData(m);B1(l,{pending:!0,data:lt,method:m.method,action:_},null,lt)}}else typeof _=="function"&&(G.preventDefault(),lt=x?py(m,x):new FormData(m),B1(l,{pending:!0,data:lt,method:m.method,action:_},_,lt))},currentTarget:m}]})}}for(var bg=0;bg<ll.length;bg++){var wg=ll[bg],NE=wg.toLowerCase(),IE=wg[0].toUpperCase()+wg.slice(1);Us(NE,"on"+IE)}Us(ol,"onAnimationEnd"),Us(Fu,"onAnimationIteration"),Us(Vh,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(cd,"onTransitionRun"),Us(hd,"onTransitionStart"),Us(fd,"onTransitionCancel"),Us(Bh,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function gy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;t:{var _=void 0;if(s)for(var x=c.length-1;0<=x;x--){var G=c[x],lt=G.instance,Lt=G.currentTarget;if(G=G.listener,lt!==_&&m.isPropagationStopped())break t;_=G,m.currentTarget=Lt;try{_(m)}catch(Bt){qu(Bt)}m.currentTarget=null,_=lt}else for(x=0;x<c.length;x++){if(G=c[x],lt=G.instance,Lt=G.currentTarget,G=G.listener,lt!==_&&m.isPropagationStopped())break t;_=G,m.currentTarget=Lt;try{_(m)}catch(Bt){qu(Bt)}m.currentTarget=null,_=lt}}}}function pn(i,s){var l=s[Er];l===void 0&&(l=s[Er]=new Set);var c=i+"__bubble";l.has(c)||(my(s,i,2,!1),l.add(c))}function Ag(i,s,l){var c=0;s&&(c|=4),my(l,i,c,s)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Eg(i){if(!i[jd]){i[jd]=!0,ho.forEach(function(l){l!=="selectionchange"&&(CE.has(l)||Ag(l,!1,i),Ag(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[jd]||(s[jd]=!0,Ag("selectionchange",!1,s))}}function my(i,s,l,c){switch(Gy(s)){case 2:var m=nS;break;case 8:m=iS;break;default:m=Vg}l=m.bind(null,s,l,i),m=void 0,!ja||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Sg(i,s,l,c,m){var _=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var G=c.stateNode.containerInfo;if(G===m)break;if(x===4)for(x=c.return;x!==null;){var lt=x.tag;if((lt===3||lt===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;G!==null;){if(x=Br(G),x===null)return;if(lt=x.tag,lt===5||lt===6||lt===26||lt===27){c=_=x;continue t}G=G.parentNode}}c=c.return}_a(function(){var Lt=_,Bt=Ir(l),Ht=[];t:{var kt=jh.get(i);if(kt!==void 0){var Ot=Cr,ce=i;switch(i){case"keypress":if(ks(l)===0)break t;case"keydown":case"keyup":Ot=gn;break;case"focusin":ce="focus",Ot=Ss;break;case"focusout":ce="blur",Ot=Ss;break;case"beforeblur":case"afterblur":Ot=Ss;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=T;break;case ol:case Fu:case Vh:Ot=w;break;case Bh:Ot=Q;break;case"scroll":case"scrollend":Ot=wa;break;case"wheel":Ot=xt;break;case"copy":case"cut":case"paste":Ot=nt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=Fn;break;case"toggle":case"beforetoggle":Ot=Be}var Me=(s&4)!==0,ii=!Me&&(i==="scroll"||i==="scrollend"),wt=Me?kt!==null?kt+"Capture":null:kt;Me=[];for(var gt=Lt,Rt;gt!==null;){var qt=gt;if(Rt=qt.stateNode,qt=qt.tag,qt!==5&&qt!==26&&qt!==27||Rt===null||wt===null||(qt=zi(gt,wt),qt!=null&&Me.push(ff(gt,qt,Rt))),ii)break;gt=gt.return}0<Me.length&&(kt=new Ot(kt,ce,null,l,Bt),Ht.push({event:kt,listeners:Me}))}}if((s&7)===0){t:{if(kt=i==="mouseover"||i==="pointerover",Ot=i==="mouseout"||i==="pointerout",kt&&l!==aa&&(ce=l.relatedTarget||l.fromElement)&&(Br(ce)||ce[Oi]))break t;if((Ot||kt)&&(kt=Bt.window===Bt?Bt:(kt=Bt.ownerDocument)?kt.defaultView||kt.parentWindow:window,Ot?(ce=l.relatedTarget||l.toElement,Ot=Lt,ce=ce?Br(ce):null,ce!==null&&(ii=o(ce),Me=ce.tag,ce!==ii||Me!==5&&Me!==27&&Me!==6)&&(ce=null)):(Ot=null,ce=Lt),Ot!==ce)){if(Me=Es,qt="onMouseLeave",wt="onMouseEnter",gt="mouse",(i==="pointerout"||i==="pointerover")&&(Me=Fn,qt="onPointerLeave",wt="onPointerEnter",gt="pointer"),ii=Ot==null?kt:jr(Ot),Rt=ce==null?kt:jr(ce),kt=new Me(qt,gt+"leave",Ot,l,Bt),kt.target=ii,kt.relatedTarget=Rt,qt=null,Br(Bt)===Lt&&(Me=new Me(wt,gt+"enter",ce,l,Bt),Me.target=Rt,Me.relatedTarget=ii,qt=Me),ii=qt,Ot&&ce)e:{for(Me=RE,wt=Ot,gt=ce,Rt=0,qt=wt;qt;qt=Me(qt))Rt++;qt=0;for(var Re=gt;Re;Re=Me(Re))qt++;for(;0<Rt-qt;)wt=Me(wt),Rt--;for(;0<qt-Rt;)gt=Me(gt),qt--;for(;Rt--;){if(wt===gt||gt!==null&&wt===gt.alternate){Me=wt;break e}wt=Me(wt),gt=Me(gt)}Me=null}else Me=null;Ot!==null&&yy(Ht,kt,Ot,Me,!1),ce!==null&&ii!==null&&yy(Ht,ii,ce,Me,!0)}}t:{if(kt=Lt?jr(Lt):window,Ot=kt.nodeName&&kt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&kt.type==="file")var Dn=wo;else if(Bu(kt))if(ss)Dn=Na;else{Dn=Ii;var ge=jl}else Ot=kt.nodeName,!Ot||Ot.toLowerCase()!=="input"||kt.type!=="checkbox"&&kt.type!=="radio"?Lt&&yo(Lt.elementType)&&(Dn=wo):Dn=Tc;if(Dn&&(Dn=Dn(i,Lt))){Ns(Ht,Dn,l,Bt);break t}ge&&ge(i,kt,Lt),i==="focusout"&&Lt&&kt.type==="number"&&Lt.memoizedProps.value!=null&&tl(kt,"number",kt.value)}switch(ge=Lt?jr(Lt):window,i){case"focusin":(Bu(ge)||ge.contentEditable==="true")&&(Is=ge,Xa=Lt,xr=null);break;case"focusout":xr=Xa=Is=null;break;case"mousedown":Ms=!0;break;case"contextmenu":case"mouseup":case"dragend":Ms=!1,Cn(Ht,l,Bt);break;case"selectionchange":if(al)break;case"keydown":case"keyup":Cn(Ht,l,Bt)}var on;if(ln)t:{switch(i){case"compositionstart":var yn="onCompositionStart";break t;case"compositionend":yn="onCompositionEnd";break t;case"compositionupdate":yn="onCompositionUpdate";break t}yn=void 0}else Ea?Ts(i,l)&&(yn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(yn="onCompositionStart");yn&&(Rr&&l.locale!=="ko"&&(Ea||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&Ea&&(on=ba()):(qr=Bt,Fa="value"in qr?qr.value:qr.textContent,Ea=!0)),ge=Fd(Lt,yn),0<ge.length&&(yn=new _t(yn,i,null,l,Bt),Ht.push({event:yn,listeners:ge}),on?yn.data=on:(on=Aa(l),on!==null&&(yn.data=on)))),(on=Zi?vi(i,l):za(i,l))&&(yn=Fd(Lt,"onBeforeInput"),0<yn.length&&(ge=new _t("onBeforeInput","beforeinput",null,l,Bt),Ht.push({event:ge,listeners:yn}),ge.data=on)),TE(Ht,i,Lt,l,Bt)}gy(Ht,s)})}function ff(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Fd(i,s){for(var l=s+"Capture",c=[];i!==null;){var m=i,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=zi(i,l),m!=null&&c.unshift(ff(i,m,_)),m=zi(i,s),m!=null&&c.push(ff(i,m,_))),i.tag===3)return c;i=i.return}return[]}function RE(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yy(i,s,l,c,m){for(var _=s._reactName,x=[];l!==null&&l!==c;){var G=l,lt=G.alternate,Lt=G.stateNode;if(G=G.tag,lt!==null&&lt===c)break;G!==5&&G!==26&&G!==27||Lt===null||(lt=Lt,m?(Lt=zi(l,_),Lt!=null&&x.unshift(ff(l,Lt,lt))):m||(Lt=zi(l,_),Lt!=null&&x.push(ff(l,Lt,lt)))),l=l.return}x.length!==0&&i.push({event:s,listeners:x})}var xE=/\r\n?/g,LE=/\u0000|\uFFFD/g;function vy(i){return(typeof i=="string"?i:""+i).replace(xE,`
`).replace(LE,"")}function _y(i,s){return s=vy(s),vy(i)===s}function ni(i,s,l,c,m,_){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ti(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ti(i,""+c);break;case"className":Fr(i,"class",c);break;case"tabIndex":Fr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(i,l,c);break;case"style":il(i,c,_);break;case"data":if(s!=="object"){Fr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=_s(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&ni(i,s,"name",m.name,m,null),ni(i,s,"formEncType",m.formEncType,m,null),ni(i,s,"formMethod",m.formMethod,m,null),ni(i,s,"formTarget",m.formTarget,m,null)):(ni(i,s,"encType",m.encType,m,null),ni(i,s,"method",m.method,m,null),ni(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=_s(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=bs);break;case"onScroll":c!=null&&pn("scroll",i);break;case"onScrollEnd":c!=null&&pn("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=_s(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":pn("beforetoggle",i),pn("toggle",i),ia(i,"popover",c);break;case"xlinkActuate":an(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":an(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":an(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":an(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":an(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":an(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":an(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":an(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":an(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ia(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vo.get(l)||l,ia(i,l,c))}}function Tg(i,s,l,c,m,_){switch(l){case"style":il(i,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Ti(i,c):(typeof c=="number"||typeof c=="bigint")&&Ti(i,""+c);break;case"onScroll":c!=null&&pn("scroll",i);break;case"onScrollEnd":c!=null&&pn("scrollend",i);break;case"onClick":c!=null&&(i.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),_=i[zn]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,m),typeof c=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,m);break t}l in i?i[l]=c:c===!0?i.setAttribute(l,""):ia(i,l,c)}}}function Wr(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",i),pn("load",i);var c=!1,m=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var x=l[_];if(x!=null)switch(_){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,_,x,l,null)}}m&&ni(i,s,"srcSet",l.srcSet,l,null),c&&ni(i,s,"src",l.src,l,null);return;case"input":pn("invalid",i);var G=_=x=m=null,lt=null,Lt=null;for(c in l)if(l.hasOwnProperty(c)){var Bt=l[c];if(Bt!=null)switch(c){case"name":m=Bt;break;case"type":x=Bt;break;case"checked":lt=Bt;break;case"defaultChecked":Lt=Bt;break;case"value":_=Bt;break;case"defaultValue":G=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(r(137,s));break;default:ni(i,s,c,Bt,l,null)}}Ul(i,_,G,lt,Lt,x,m,!1);return;case"select":pn("invalid",i),c=x=_=null;for(m in l)if(l.hasOwnProperty(m)&&(G=l[m],G!=null))switch(m){case"value":_=G;break;case"defaultValue":x=G;break;case"multiple":c=G;default:ni(i,s,m,G,l,null)}s=_,l=x,i.multiple=!!c,s!=null?ur(i,!!c,s,!1):l!=null&&ur(i,!!c,l,!0);return;case"textarea":pn("invalid",i),_=m=c=null;for(x in l)if(l.hasOwnProperty(x)&&(G=l[x],G!=null))switch(x){case"value":c=G;break;case"defaultValue":m=G;break;case"children":_=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:ni(i,s,x,G,l,null)}sa(i,c,m,_);return;case"option":for(lt in l)if(l.hasOwnProperty(lt)&&(c=l[lt],c!=null))switch(lt){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ni(i,s,lt,c,l,null)}return;case"dialog":pn("beforetoggle",i),pn("toggle",i),pn("cancel",i),pn("close",i);break;case"iframe":case"object":pn("load",i);break;case"video":case"audio":for(c=0;c<hf.length;c++)pn(hf[c],i);break;case"image":pn("error",i),pn("load",i);break;case"details":pn("toggle",i);break;case"embed":case"source":case"link":pn("error",i),pn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Lt in l)if(l.hasOwnProperty(Lt)&&(c=l[Lt],c!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,Lt,c,l,null)}return;default:if(yo(s)){for(Bt in l)l.hasOwnProperty(Bt)&&(c=l[Bt],c!==void 0&&Tg(i,s,Bt,c,l,void 0));return}}for(G in l)l.hasOwnProperty(G)&&(c=l[G],c!=null&&ni(i,s,G,c,l,null))}function kE(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,x=null,G=null,lt=null,Lt=null,Bt=null;for(Ot in l){var Ht=l[Ot];if(l.hasOwnProperty(Ot)&&Ht!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":lt=Ht;default:c.hasOwnProperty(Ot)||ni(i,s,Ot,null,c,Ht)}}for(var kt in c){var Ot=c[kt];if(Ht=l[kt],c.hasOwnProperty(kt)&&(Ot!=null||Ht!=null))switch(kt){case"type":_=Ot;break;case"name":m=Ot;break;case"checked":Lt=Ot;break;case"defaultChecked":Bt=Ot;break;case"value":x=Ot;break;case"defaultValue":G=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(r(137,s));break;default:Ot!==Ht&&ni(i,s,kt,Ot,c,Ht)}}go(i,x,G,lt,Lt,Bt,_,m);return;case"select":Ot=x=G=kt=null;for(_ in l)if(lt=l[_],l.hasOwnProperty(_)&&lt!=null)switch(_){case"value":break;case"multiple":Ot=lt;default:c.hasOwnProperty(_)||ni(i,s,_,null,c,lt)}for(m in c)if(_=c[m],lt=l[m],c.hasOwnProperty(m)&&(_!=null||lt!=null))switch(m){case"value":kt=_;break;case"defaultValue":G=_;break;case"multiple":x=_;default:_!==lt&&ni(i,s,m,_,c,lt)}s=G,l=x,c=Ot,kt!=null?ur(i,!!l,kt,!1):!!c!=!!l&&(s!=null?ur(i,!!l,s,!0):ur(i,!!l,l?[]:"",!1));return;case"textarea":Ot=kt=null;for(G in l)if(m=l[G],l.hasOwnProperty(G)&&m!=null&&!c.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:ni(i,s,G,null,c,m)}for(x in c)if(m=c[x],_=l[x],c.hasOwnProperty(x)&&(m!=null||_!=null))switch(x){case"value":kt=m;break;case"defaultValue":Ot=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==_&&ni(i,s,x,m,c,_)}el(i,kt,Ot);return;case"option":for(var ce in l)if(kt=l[ce],l.hasOwnProperty(ce)&&kt!=null&&!c.hasOwnProperty(ce))switch(ce){case"selected":i.selected=!1;break;default:ni(i,s,ce,null,c,kt)}for(lt in c)if(kt=c[lt],Ot=l[lt],c.hasOwnProperty(lt)&&kt!==Ot&&(kt!=null||Ot!=null))switch(lt){case"selected":i.selected=kt&&typeof kt!="function"&&typeof kt!="symbol";break;default:ni(i,s,lt,kt,c,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)kt=l[Me],l.hasOwnProperty(Me)&&kt!=null&&!c.hasOwnProperty(Me)&&ni(i,s,Me,null,c,kt);for(Lt in c)if(kt=c[Lt],Ot=l[Lt],c.hasOwnProperty(Lt)&&kt!==Ot&&(kt!=null||Ot!=null))switch(Lt){case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(r(137,s));break;default:ni(i,s,Lt,kt,c,Ot)}return;default:if(yo(s)){for(var ii in l)kt=l[ii],l.hasOwnProperty(ii)&&kt!==void 0&&!c.hasOwnProperty(ii)&&Tg(i,s,ii,void 0,c,kt);for(Bt in c)kt=c[Bt],Ot=l[Bt],!c.hasOwnProperty(Bt)||kt===Ot||kt===void 0&&Ot===void 0||Tg(i,s,Bt,kt,c,Ot);return}}for(var wt in l)kt=l[wt],l.hasOwnProperty(wt)&&kt!=null&&!c.hasOwnProperty(wt)&&ni(i,s,wt,null,c,kt);for(Ht in c)kt=c[Ht],Ot=l[Ht],!c.hasOwnProperty(Ht)||kt===Ot||kt==null&&Ot==null||ni(i,s,Ht,kt,c,Ot)}function by(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OE(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],_=m.transferSize,x=m.initiatorType,G=m.duration;if(_&&G&&by(x)){for(x=0,G=m.responseEnd,c+=1;c<l.length;c++){var lt=l[c],Lt=lt.startTime;if(Lt>G)break;var Bt=lt.transferSize,Ht=lt.initiatorType;Bt&&by(Ht)&&(lt=lt.responseEnd,x+=Bt*(lt<G?1:(G-Lt)/(lt-Lt)))}if(--c,s+=8*(_+x)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ng=null,Ig=null;function qd(i){return i.nodeType===9?i:i.ownerDocument}function wy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Cg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rg=null;function DE(){var i=window.event;return i&&i.type==="popstate"?i===Rg?!1:(Rg=i,!0):(Rg=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(i){return Sy.resolve(null).then(i).catch(UE)}:Ey;function UE(i){setTimeout(function(){throw i})}function au(i){return i==="head"}function Ty(i,s){var l=s,c=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(m),rh(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")df(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,df(l);for(var _=l.firstChild;_;){var x=_.nextSibling,G=_.nodeName;_[Sr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=x}}else l==="body"&&df(i.ownerDocument.body);l=m}while(l);rh(s)}function Ny(i,s){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function xg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":xg(l),na(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function VE(i,s,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Sr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Oa(i.nextSibling),i===null)break}return null}function BE(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Oa(i.nextSibling),i===null))return null;return i}function Iy(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Oa(i.nextSibling),i===null))return null;return i}function Lg(i){return i.data==="$?"||i.data==="$~"}function kg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function jE(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Oa(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Og=null;function Cy(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Oa(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function Ry(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function xy(i,s,l){switch(s=qd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function df(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);na(i)}var Da=new Map,Ly=new Set;function zd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Sl=dt.d;dt.d={f:FE,r:qE,D:zE,C:HE,L:GE,m:YE,X:QE,S:KE,M:XE};function FE(){var i=Sl.f(),s=Dd();return i||s}function qE(i){var s=or(i);s!==null&&s.tag===5&&s.type==="form"?Q2(s):Sl.r(i)}var eh=typeof document>"u"?null:document;function ky(i,s,l){var c=eh;if(c&&typeof s=="string"&&s){var m=Ji(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Ly.has(m)||(Ly.add(m),i={rel:i,crossOrigin:l,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Wr(s,"link",i),ci(s),c.head.appendChild(s)))}}function zE(i){Sl.D(i),ky("dns-prefetch",i,null)}function HE(i,s){Sl.C(i,s),ky("preconnect",i,s)}function GE(i,s,l){Sl.L(i,s,l);var c=eh;if(c&&i&&s){var m='link[rel="preload"][as="'+Ji(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Ji(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Ji(l.imageSizes)+'"]')):m+='[href="'+Ji(i)+'"]';var _=m;switch(s){case"style":_=nh(i);break;case"script":_=ih(i)}Da.has(_)||(i=A({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Da.set(_,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(pf(_))||s==="script"&&c.querySelector(gf(_))||(s=c.createElement("link"),Wr(s,"link",i),ci(s),c.head.appendChild(s)))}}function YE(i,s){Sl.m(i,s);var l=eh;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Ji(c)+'"][href="'+Ji(i)+'"]',_=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ih(i)}if(!Da.has(_)&&(i=A({rel:"modulepreload",href:i},s),Da.set(_,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gf(_)))return}c=l.createElement("link"),Wr(c,"link",i),ci(c),l.head.appendChild(c)}}}function KE(i,s,l){Sl.S(i,s,l);var c=eh;if(c&&i){var m=ns(c).hoistableStyles,_=nh(i);s=s||"default";var x=m.get(_);if(!x){var G={loading:0,preload:null};if(x=c.querySelector(pf(_)))G.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Da.get(_))&&Dg(i,l);var lt=x=c.createElement("link");ci(lt),Wr(lt,"link",i),lt._p=new Promise(function(Lt,Bt){lt.onload=Lt,lt.onerror=Bt}),lt.addEventListener("load",function(){G.loading|=1}),lt.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Hd(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:G},m.set(_,x)}}}function QE(i,s){Sl.X(i,s);var l=eh;if(l&&i){var c=ns(l).hoistableScripts,m=ih(i),_=c.get(m);_||(_=l.querySelector(gf(m)),_||(i=A({src:i,async:!0},s),(s=Da.get(m))&&Pg(i,s),_=l.createElement("script"),ci(_),Wr(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function XE(i,s){Sl.M(i,s);var l=eh;if(l&&i){var c=ns(l).hoistableScripts,m=ih(i),_=c.get(m);_||(_=l.querySelector(gf(m)),_||(i=A({src:i,async:!0,type:"module"},s),(s=Da.get(m))&&Pg(i,s),_=l.createElement("script"),ci(_),Wr(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function Oy(i,s,l,c){var m=(m=ut.current)?zd(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=nh(l.href),l=ns(m).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=nh(l.href);var _=ns(m).hoistableStyles,x=_.get(i);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,x),(_=m.querySelector(pf(i)))&&!_._p&&(x.instance=_,x.state.loading=5),Da.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Da.set(i,l),_||WE(m,i,l,x.state))),s&&c===null)throw Error(r(528,""));return x}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ih(l),l=ns(m).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function nh(i){return'href="'+Ji(i)+'"'}function pf(i){return'link[rel="stylesheet"]['+i+"]"}function Dy(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function WE(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Wr(s,"link",l),ci(s),i.head.appendChild(s))}function ih(i){return'[src="'+Ji(i)+'"]'}function gf(i){return"script[async]"+i}function Py(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Ji(l.href)+'"]');if(c)return s.instance=c,ci(c),c;var m=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ci(c),Wr(c,"style",m),Hd(c,l.precedence,i),s.instance=c;case"stylesheet":m=nh(l.href);var _=i.querySelector(pf(m));if(_)return s.state.loading|=4,s.instance=_,ci(_),_;c=Dy(l),(m=Da.get(m))&&Dg(c,m),_=(i.ownerDocument||i).createElement("link"),ci(_);var x=_;return x._p=new Promise(function(G,lt){x.onload=G,x.onerror=lt}),Wr(_,"link",c),s.state.loading|=4,Hd(_,l.precedence,i),s.instance=_;case"script":return _=ih(l.src),(m=i.querySelector(gf(_)))?(s.instance=m,ci(m),m):(c=l,(m=Da.get(_))&&(c=A({},l),Pg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),ci(m),Wr(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Hd(c,l.precedence,i));return s.instance}function Hd(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,_=m,x=0;x<c.length;x++){var G=c[x];if(G.dataset.precedence===s)_=G;else if(_!==m)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Dg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Pg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Gd=null;function My(i,s,l){if(Gd===null){var c=new Map,m=Gd=new Map;m.set(l,c)}else m=Gd,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var _=l[m];if(!(_[Sr]||_[Ln]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=i+x;var G=c.get(x);G?G.push(_):c.set(x,[_])}}return c}function Uy(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function $E(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function JE(i,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=nh(c.href),_=s.querySelector(pf(m));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Yd.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,ci(_);return}_=s.ownerDocument||s,c=Dy(c),(m=Da.get(m))&&Dg(c,m),_=_.createElement("link"),ci(_);var x=_;x._p=new Promise(function(G,lt){x.onload=G,x.onerror=lt}),Wr(_,"link",c),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Yd.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Mg=0;function ZE(i,s){return i.stylesheets&&i.count===0&&Qd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&Qd(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Mg===0&&(Mg=62500*OE());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Qd(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Mg?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kd=null;function Qd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kd=new Map,s.forEach(tS,i),Kd=null,Yd.call(i))}function tS(i,s){if(!(s.state.loading&4)){var l=Kd.get(i);if(l)var c=l.get(null);else{l=new Map,Kd.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var x=m[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),c=x)}c&&l.set(null,c)}m=s.instance,x=m.getAttribute("data-precedence"),_=l.get(x)||c,_===c&&l.set(null,m),l.set(x,m),this.count++,c=Yd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),_?_.parentNode.insertBefore(m,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var mf={$$typeof:tt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function eS(i,s,l,c,m,_,x,G,lt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lt,this.incompleteTransitions=new Map}function By(i,s,l,c,m,_,x,G,lt,Lt,Bt,Ht){return i=new eS(i,s,l,x,lt,Lt,Bt,Ht,G),s=1,_===!0&&(s|=24),_=kr(3,null,null,s),i.current=_,_.stateNode=i,s=Ql(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:s},Zt(_),i}function jy(i){return i?(i=fr,i):fr}function Fy(i,s,l,c,m,_){m=jy(m),c.context===null?c.context=m:c.pendingContext=m,c=Oe(s),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=nn(i,c,s),l!==null&&(Ws(l,i,s),Un(l,i,s))}function qy(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Ug(i,s){qy(i,s),(i=i.alternate)&&qy(i,s)}function zy(i){if(i.tag===13||i.tag===31){var s=Wa(i,67108864);s!==null&&Ws(s,i,67108864),Ug(i,67108864)}}function Hy(i){if(i.tag===13||i.tag===31){var s=pa();s=jn(s);var l=Wa(i,s);l!==null&&Ws(l,i,s),Ug(i,s)}}var Xd=!0;function nS(i,s,l,c){var m=st.T;st.T=null;var _=dt.p;try{dt.p=2,Vg(i,s,l,c)}finally{dt.p=_,st.T=m}}function iS(i,s,l,c){var m=st.T;st.T=null;var _=dt.p;try{dt.p=8,Vg(i,s,l,c)}finally{dt.p=_,st.T=m}}function Vg(i,s,l,c){if(Xd){var m=Bg(c);if(m===null)Sg(i,s,c,Wd,l),Yy(i,c);else if(sS(m,i,s,l,c))c.stopPropagation();else if(Yy(i,c),s&4&&-1<rS.indexOf(i)){for(;m!==null;){var _=or(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=Se(_.pendingLanes);if(x!==0){var G=_;for(G.pendingLanes|=2,G.entangledLanes|=2;x;){var lt=1<<31-Ve(x);G.entanglements[1]|=lt,x&=~lt}Do(_),(Bn&6)===0&&(kd=Ge()+500,cf(0))}}break;case 31:case 13:G=Wa(_,2),G!==null&&Ws(G,_,2),Dd(),Ug(_,2)}if(_=Bg(c),_===null&&Sg(i,s,c,Wd,l),_===m)break;m=_}m!==null&&c.stopPropagation()}else Sg(i,s,c,null,l)}}function Bg(i){return i=Ir(i),jg(i)}var Wd=null;function jg(i){if(Wd=null,i=Br(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wd=i,null}function Gy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Ue:return 2;case En:return 8;case Pe:case _e:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Fg=!1,ou=null,lu=null,uu=null,yf=new Map,vf=new Map,cu=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(i,s){switch(i){case"focusin":case"focusout":ou=null;break;case"dragenter":case"dragleave":lu=null;break;case"mouseover":case"mouseout":uu=null;break;case"pointerover":case"pointerout":yf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(s.pointerId)}}function _f(i,s,l,c,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[m]},s!==null&&(s=or(s),s!==null&&zy(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function sS(i,s,l,c,m){switch(s){case"focusin":return ou=_f(ou,i,s,l,c,m),!0;case"dragenter":return lu=_f(lu,i,s,l,c,m),!0;case"mouseover":return uu=_f(uu,i,s,l,c,m),!0;case"pointerover":var _=m.pointerId;return yf.set(_,_f(yf.get(_)||null,i,s,l,c,m)),!0;case"gotpointercapture":return _=m.pointerId,vf.set(_,_f(vf.get(_)||null,i,s,l,c,m)),!0}return!1}function Ky(i){var s=Br(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,ar(i.priority,function(){Hy(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,ar(i.priority,function(){Hy(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $d(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Bg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);aa=c,l.target.dispatchEvent(c),aa=null}else return s=or(l),s!==null&&zy(s),i.blockedOn=l,!1;s.shift()}return!0}function Qy(i,s,l){$d(i)&&l.delete(s)}function aS(){Fg=!1,ou!==null&&$d(ou)&&(ou=null),lu!==null&&$d(lu)&&(lu=null),uu!==null&&$d(uu)&&(uu=null),yf.forEach(Qy),vf.forEach(Qy)}function Jd(i,s){i.blockedOn===s&&(i.blockedOn=null,Fg||(Fg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aS)))}var Zd=null;function Xy(i){Zd!==i&&(Zd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zd===i&&(Zd=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(jg(c||l)===null)continue;break}var _=or(l);_!==null&&(i.splice(s,3),s-=3,B1(_,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function rh(i){function s(lt){return Jd(lt,i)}ou!==null&&Jd(ou,i),lu!==null&&Jd(lu,i),uu!==null&&Jd(uu,i),yf.forEach(s),vf.forEach(s);for(var l=0;l<cu.length;l++){var c=cu[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<cu.length&&(l=cu[0],l.blockedOn===null);)Ky(l),l.blockedOn===null&&cu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],_=l[c+1],x=m[zn]||null;if(typeof _=="function")x||Xy(l);else if(x){var G=null;if(_&&_.hasAttribute("formAction")){if(m=_,x=_[zn]||null)G=x.formAction;else if(jg(m)!==null)continue}else G=x.action;typeof G=="function"?l[c+1]=G:(l.splice(c,3),c-=3),Xy(l)}}}function Wy(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function qg(i){this._internalRoot=i}tp.prototype.render=qg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=pa();Fy(l,c,i,s,null,null)},tp.prototype.unmount=qg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Fy(i.current,2,null,i,null,null),Dd(),s[Oi]=null}};function tp(i){this._internalRoot=i}tp.prototype.unstable_scheduleHydration=function(i){if(i){var s=ki();i={blockedOn:null,target:i,priority:s};for(var l=0;l<cu.length&&s!==0&&s<cu[l].priority;l++);cu.splice(l,0,i),l===0&&Ky(i)}};var $y=t.version;if($y!=="19.2.0")throw Error(r(527,$y,"19.2.0"));dt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var oS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{en=ep.inject(oS),re=ep}catch{}}return wf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",m=r5,_=s5,x=a5;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=By(i,1,!1,null,null,l,c,null,m,_,x,Wy),i[Oi]=s.current,Eg(i),new qg(s)},wf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,m="",_=r5,x=s5,G=a5,lt=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.formState!==void 0&&(lt=l.formState)),s=By(i,1,!0,s,l??null,c,m,lt,_,x,G,Wy),s.context=jy(null),l=s.current,c=pa(),c=jn(c),m=Oe(c),m.callback=null,nn(l,m,c),l=c,s.current.lanes=l,we(s,l),Do(s),i[Oi]=s.current,Eg(i),new tp(s)},wf.version="19.2.0",wf}var ov;function yS(){if(ov)return Hg.exports;ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Hg.exports=mS(),Hg.exports}var vS=yS();const _S=xw(vS);var ui=M0(),sh={},Xg,lv;function bS(){return lv||(lv=1,Xg=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Xg}var Wg={},fu={},uv;function yc(){if(uv)return fu;uv=1;let n;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return fu.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},fu.getSymbolTotalCodewords=function(r){return t[r]},fu.getBCHDigit=function(e){let r=0;for(;e!==0;)r++,e>>>=1;return r},fu.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},fu.isKanjiModeEnabled=function(){return typeof n<"u"},fu.toSJIS=function(r){return n(r)},fu}var $g={},cv;function U0(){return cv||(cv=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,a){if(n.isValid(r))return r;try{return t(r)}catch{return a}}})($g)),$g}var Jg,hv;function wS(){if(hv)return Jg;hv=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},Jg=n,Jg}var Zg,fv;function AS(){if(fv)return Zg;fv=1;function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return n.prototype.set=function(t,e,r,a){const o=t*this.size+e;this.data[o]=r,a&&(this.reservedBit[o]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},Zg=n,Zg}var tm={},dv;function ES(){return dv||(dv=1,(function(n){const t=yc().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const a=Math.floor(r/7)+2,o=t(r),u=o===145?26:Math.ceil((o-13)/(2*a-2))*2,h=[o-7];for(let f=1;f<a-1;f++)h[f]=h[f-1]-u;return h.push(6),h.reverse()},n.getPositions=function(r){const a=[],o=n.getRowColCoords(r),u=o.length;for(let h=0;h<u;h++)for(let f=0;f<u;f++)h===0&&f===0||h===0&&f===u-1||h===u-1&&f===0||a.push([o[h],o[f]]);return a}})(tm)),tm}var em={},pv;function SS(){if(pv)return em;pv=1;const n=yc().getSymbolSize,t=7;return em.getPositions=function(r){const a=n(r);return[[0,0],[a-t,0],[0,a-t]]},em}var nm={},gv;function TS(){return gv||(gv=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};n.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},n.from=function(a){return n.isValid(a)?parseInt(a,10):void 0},n.getPenaltyN1=function(a){const o=a.size;let u=0,h=0,f=0,p=null,v=null;for(let A=0;A<o;A++){h=f=0,p=v=null;for(let N=0;N<o;N++){let b=a.get(A,N);b===p?h++:(h>=5&&(u+=t.N1+(h-5)),p=b,h=1),b=a.get(N,A),b===v?f++:(f>=5&&(u+=t.N1+(f-5)),v=b,f=1)}h>=5&&(u+=t.N1+(h-5)),f>=5&&(u+=t.N1+(f-5))}return u},n.getPenaltyN2=function(a){const o=a.size;let u=0;for(let h=0;h<o-1;h++)for(let f=0;f<o-1;f++){const p=a.get(h,f)+a.get(h,f+1)+a.get(h+1,f)+a.get(h+1,f+1);(p===4||p===0)&&u++}return u*t.N2},n.getPenaltyN3=function(a){const o=a.size;let u=0,h=0,f=0;for(let p=0;p<o;p++){h=f=0;for(let v=0;v<o;v++)h=h<<1&2047|a.get(p,v),v>=10&&(h===1488||h===93)&&u++,f=f<<1&2047|a.get(v,p),v>=10&&(f===1488||f===93)&&u++}return u*t.N3},n.getPenaltyN4=function(a){let o=0;const u=a.data.length;for(let f=0;f<u;f++)o+=a.data[f];return Math.abs(Math.ceil(o*100/u/5)-10)*t.N4};function e(r,a,o){switch(r){case n.Patterns.PATTERN000:return(a+o)%2===0;case n.Patterns.PATTERN001:return a%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(a+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return a*o%2+a*o%3===0;case n.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case n.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(a,o){const u=o.size;for(let h=0;h<u;h++)for(let f=0;f<u;f++)o.isReserved(f,h)||o.xor(f,h,e(a,f,h))},n.getBestMask=function(a,o){const u=Object.keys(n.Patterns).length;let h=0,f=1/0;for(let p=0;p<u;p++){o(p),n.applyMask(p,a);const v=n.getPenaltyN1(a)+n.getPenaltyN2(a)+n.getPenaltyN3(a)+n.getPenaltyN4(a);n.applyMask(p,a),v<f&&(f=v,h=p)}return h}})(nm)),nm}var np={},mv;function Lw(){if(mv)return np;mv=1;const n=U0(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return np.getBlocksCount=function(a,o){switch(o){case n.L:return t[(a-1)*4+0];case n.M:return t[(a-1)*4+1];case n.Q:return t[(a-1)*4+2];case n.H:return t[(a-1)*4+3];default:return}},np.getTotalCodewordsCount=function(a,o){switch(o){case n.L:return e[(a-1)*4+0];case n.M:return e[(a-1)*4+1];case n.Q:return e[(a-1)*4+2];case n.H:return e[(a-1)*4+3];default:return}},np}var im={},Af={},yv;function NS(){if(yv)return Af;yv=1;const n=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let a=0;a<255;a++)n[a]=r,t[r]=a,r<<=1,r&256&&(r^=285);for(let a=255;a<512;a++)n[a]=n[a-255]})(),Af.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},Af.exp=function(r){return n[r]},Af.mul=function(r,a){return r===0||a===0?0:n[t[r]+t[a]]},Af}var vv;function IS(){return vv||(vv=1,(function(n){const t=NS();n.mul=function(r,a){const o=new Uint8Array(r.length+a.length-1);for(let u=0;u<r.length;u++)for(let h=0;h<a.length;h++)o[u+h]^=t.mul(r[u],a[h]);return o},n.mod=function(r,a){let o=new Uint8Array(r);for(;o.length-a.length>=0;){const u=o[0];for(let f=0;f<a.length;f++)o[f]^=t.mul(a[f],u);let h=0;for(;h<o.length&&o[h]===0;)h++;o=o.slice(h)}return o},n.generateECPolynomial=function(r){let a=new Uint8Array([1]);for(let o=0;o<r;o++)a=n.mul(a,new Uint8Array([1,t.exp(o)]));return a}})(im)),im}var rm,_v;function CS(){if(_v)return rm;_v=1;const n=IS();function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(r.length+this.degree);a.set(r);const o=n.mod(a,this.genPoly),u=this.degree-o.length;if(u>0){const h=new Uint8Array(this.degree);return h.set(o,u),h}return o},rm=t,rm}var sm={},am={},om={},bv;function kw(){return bv||(bv=1,om.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),om}var Po={},wv;function Ow(){if(wv)return Po;wv=1;const n="[0-9]+",t="[A-Z $%*+\\-./:]+";let e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";e=e.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+e+`)(?:.|[\r
]))+`;Po.KANJI=new RegExp(e,"g"),Po.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Po.BYTE=new RegExp(r,"g"),Po.NUMERIC=new RegExp(n,"g"),Po.ALPHANUMERIC=new RegExp(t,"g");const a=new RegExp("^"+e+"$"),o=new RegExp("^"+n+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Po.testKanji=function(f){return a.test(f)},Po.testNumeric=function(f){return o.test(f)},Po.testAlphanumeric=function(f){return u.test(f)},Po}var Av;function vc(){return Av||(Av=1,(function(n){const t=kw(),e=Ow();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,u){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?o.ccBits[0]:u<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return e.testNumeric(o)?n.NUMERIC:e.testAlphanumeric(o)?n.ALPHANUMERIC:e.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+a)}}n.from=function(o,u){if(n.isValid(o))return o;try{return r(o)}catch{return u}}})(am)),am}var Ev;function RS(){return Ev||(Ev=1,(function(n){const t=yc(),e=Lw(),r=U0(),a=vc(),o=kw(),u=7973,h=t.getBCHDigit(u);function f(N,b,V){for(let B=1;B<=40;B++)if(b<=n.getCapacity(B,V,N))return B}function p(N,b){return a.getCharCountIndicator(N,b)+4}function v(N,b){let V=0;return N.forEach(function(B){const z=p(B.mode,b);V+=z+B.getBitsLength()}),V}function A(N,b){for(let V=1;V<=40;V++)if(v(N,V)<=n.getCapacity(V,b,a.MIXED))return V}n.from=function(b,V){return o.isValid(b)?parseInt(b,10):V},n.getCapacity=function(b,V,B){if(!o.isValid(b))throw new Error("Invalid QR Code version");typeof B>"u"&&(B=a.BYTE);const z=t.getSymbolTotalCodewords(b),U=e.getTotalCodewordsCount(b,V),rt=(z-U)*8;if(B===a.MIXED)return rt;const tt=rt-p(B,b);switch(B){case a.NUMERIC:return Math.floor(tt/10*3);case a.ALPHANUMERIC:return Math.floor(tt/11*2);case a.KANJI:return Math.floor(tt/13);case a.BYTE:default:return Math.floor(tt/8)}},n.getBestVersionForData=function(b,V){let B;const z=r.from(V,r.M);if(Array.isArray(b)){if(b.length>1)return A(b,z);if(b.length===0)return 1;B=b[0]}else B=b;return f(B.mode,B.getLength(),z)},n.getEncodedBits=function(b){if(!o.isValid(b)||b<7)throw new Error("Invalid QR Code version");let V=b<<12;for(;t.getBCHDigit(V)-h>=0;)V^=u<<t.getBCHDigit(V)-h;return b<<12|V}})(sm)),sm}var lm={},Sv;function xS(){if(Sv)return lm;Sv=1;const n=yc(),t=1335,e=21522,r=n.getBCHDigit(t);return lm.getEncodedBits=function(o,u){const h=o.bit<<3|u;let f=h<<10;for(;n.getBCHDigit(f)-r>=0;)f^=t<<n.getBCHDigit(f)-r;return(h<<10|f)^e},lm}var um={},cm,Tv;function LS(){if(Tv)return cm;Tv=1;const n=vc();function t(e){this.mode=n.NUMERIC,this.data=e.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let a,o,u;for(a=0;a+3<=this.data.length;a+=3)o=this.data.substr(a,3),u=parseInt(o,10),r.put(u,10);const h=this.data.length-a;h>0&&(o=this.data.substr(a),u=parseInt(o,10),r.put(u,h*3+1))},cm=t,cm}var hm,Nv;function kS(){if(Nv)return hm;Nv=1;const n=vc(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(r){this.mode=n.ALPHANUMERIC,this.data=r}return e.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){let o;for(o=0;o+2<=this.data.length;o+=2){let u=t.indexOf(this.data[o])*45;u+=t.indexOf(this.data[o+1]),a.put(u,11)}this.data.length%2&&a.put(t.indexOf(this.data[o]),6)},hm=e,hm}var fm,Iv;function OS(){if(Iv)return fm;Iv=1;const n=vc();function t(e){this.mode=n.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let r=0,a=this.data.length;r<a;r++)e.put(this.data[r],8)},fm=t,fm}var dm,Cv;function DS(){if(Cv)return dm;Cv=1;const n=vc(),t=yc();function e(r){this.mode=n.KANJI,this.data=r}return e.getBitsLength=function(a){return a*13},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let a;for(a=0;a<this.data.length;a++){let o=t.toSJIS(this.data[a]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},dm=e,dm}var pm={exports:{}},Rv;function PS(){return Rv||(Rv=1,(function(n){var t={single_source_shortest_paths:function(e,r,a){var o={},u={};u[r]=0;var h=t.PriorityQueue.make();h.push(r,0);for(var f,p,v,A,N,b,V,B,z;!h.empty();){f=h.pop(),p=f.value,A=f.cost,N=e[p]||{};for(v in N)N.hasOwnProperty(v)&&(b=N[v],V=A+b,B=u[v],z=typeof u[v]>"u",(z||B>V)&&(u[v]=V,h.push(v,V),o[v]=p))}if(typeof a<"u"&&typeof u[a]>"u"){var U=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(U)}return o},extract_shortest_path_from_predecessor_list:function(e,r){for(var a=[],o=r;o;)a.push(o),e[o],o=e[o];return a.reverse(),a},find_path:function(e,r,a){var o=t.single_source_shortest_paths(e,r,a);return t.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(e){var r=t.PriorityQueue,a={},o;e=e||{};for(o in r)r.hasOwnProperty(o)&&(a[o]=r[o]);return a.queue=[],a.sorter=e.sorter||r.default_sorter,a},default_sorter:function(e,r){return e.cost-r.cost},push:function(e,r){var a={value:e,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=t})(pm)),pm.exports}var xv;function MS(){return xv||(xv=1,(function(n){const t=vc(),e=LS(),r=kS(),a=OS(),o=DS(),u=Ow(),h=yc(),f=PS();function p(U){return unescape(encodeURIComponent(U)).length}function v(U,rt,tt){const J=[];let vt;for(;(vt=U.exec(tt))!==null;)J.push({data:vt[0],index:vt.index,mode:rt,length:vt[0].length});return J}function A(U){const rt=v(u.NUMERIC,t.NUMERIC,U),tt=v(u.ALPHANUMERIC,t.ALPHANUMERIC,U);let J,vt;return h.isKanjiModeEnabled()?(J=v(u.BYTE,t.BYTE,U),vt=v(u.KANJI,t.KANJI,U)):(J=v(u.BYTE_KANJI,t.BYTE,U),vt=[]),rt.concat(tt,J,vt).sort(function(j,O){return j.index-O.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function N(U,rt){switch(rt){case t.NUMERIC:return e.getBitsLength(U);case t.ALPHANUMERIC:return r.getBitsLength(U);case t.KANJI:return o.getBitsLength(U);case t.BYTE:return a.getBitsLength(U)}}function b(U){return U.reduce(function(rt,tt){const J=rt.length-1>=0?rt[rt.length-1]:null;return J&&J.mode===tt.mode?(rt[rt.length-1].data+=tt.data,rt):(rt.push(tt),rt)},[])}function V(U){const rt=[];for(let tt=0;tt<U.length;tt++){const J=U[tt];switch(J.mode){case t.NUMERIC:rt.push([J,{data:J.data,mode:t.ALPHANUMERIC,length:J.length},{data:J.data,mode:t.BYTE,length:J.length}]);break;case t.ALPHANUMERIC:rt.push([J,{data:J.data,mode:t.BYTE,length:J.length}]);break;case t.KANJI:rt.push([J,{data:J.data,mode:t.BYTE,length:p(J.data)}]);break;case t.BYTE:rt.push([{data:J.data,mode:t.BYTE,length:p(J.data)}])}}return rt}function B(U,rt){const tt={},J={start:{}};let vt=["start"];for(let pt=0;pt<U.length;pt++){const j=U[pt],O=[];for(let R=0;R<j.length;R++){const F=j[R],S=""+pt+R;O.push(S),tt[S]={node:F,lastCount:0},J[S]={};for(let C=0;C<vt.length;C++){const L=vt[C];tt[L]&&tt[L].node.mode===F.mode?(J[L][S]=N(tt[L].lastCount+F.length,F.mode)-N(tt[L].lastCount,F.mode),tt[L].lastCount+=F.length):(tt[L]&&(tt[L].lastCount=F.length),J[L][S]=N(F.length,F.mode)+4+t.getCharCountIndicator(F.mode,rt))}}vt=O}for(let pt=0;pt<vt.length;pt++)J[vt[pt]].end=0;return{map:J,table:tt}}function z(U,rt){let tt;const J=t.getBestModeForData(U);if(tt=t.from(rt,J),tt!==t.BYTE&&tt.bit<J.bit)throw new Error('"'+U+'" cannot be encoded with mode '+t.toString(tt)+`.
 Suggested mode is: `+t.toString(J));switch(tt===t.KANJI&&!h.isKanjiModeEnabled()&&(tt=t.BYTE),tt){case t.NUMERIC:return new e(U);case t.ALPHANUMERIC:return new r(U);case t.KANJI:return new o(U);case t.BYTE:return new a(U)}}n.fromArray=function(rt){return rt.reduce(function(tt,J){return typeof J=="string"?tt.push(z(J,null)):J.data&&tt.push(z(J.data,J.mode)),tt},[])},n.fromString=function(rt,tt){const J=A(rt,h.isKanjiModeEnabled()),vt=V(J),pt=B(vt,tt),j=f.find_path(pt.map,"start","end"),O=[];for(let R=1;R<j.length-1;R++)O.push(pt.table[j[R]].node);return n.fromArray(b(O))},n.rawSplit=function(rt){return n.fromArray(A(rt,h.isKanjiModeEnabled()))}})(um)),um}var Lv;function US(){if(Lv)return Wg;Lv=1;const n=yc(),t=U0(),e=wS(),r=AS(),a=ES(),o=SS(),u=TS(),h=Lw(),f=CS(),p=RS(),v=xS(),A=vc(),N=MS();function b(pt,j){const O=pt.size,R=o.getPositions(j);for(let F=0;F<R.length;F++){const S=R[F][0],C=R[F][1];for(let L=-1;L<=7;L++)if(!(S+L<=-1||O<=S+L))for(let Z=-1;Z<=7;Z++)C+Z<=-1||O<=C+Z||(L>=0&&L<=6&&(Z===0||Z===6)||Z>=0&&Z<=6&&(L===0||L===6)||L>=2&&L<=4&&Z>=2&&Z<=4?pt.set(S+L,C+Z,!0,!0):pt.set(S+L,C+Z,!1,!0))}}function V(pt){const j=pt.size;for(let O=8;O<j-8;O++){const R=O%2===0;pt.set(O,6,R,!0),pt.set(6,O,R,!0)}}function B(pt,j){const O=a.getPositions(j);for(let R=0;R<O.length;R++){const F=O[R][0],S=O[R][1];for(let C=-2;C<=2;C++)for(let L=-2;L<=2;L++)C===-2||C===2||L===-2||L===2||C===0&&L===0?pt.set(F+C,S+L,!0,!0):pt.set(F+C,S+L,!1,!0)}}function z(pt,j){const O=pt.size,R=p.getEncodedBits(j);let F,S,C;for(let L=0;L<18;L++)F=Math.floor(L/3),S=L%3+O-8-3,C=(R>>L&1)===1,pt.set(F,S,C,!0),pt.set(S,F,C,!0)}function U(pt,j,O){const R=pt.size,F=v.getEncodedBits(j,O);let S,C;for(S=0;S<15;S++)C=(F>>S&1)===1,S<6?pt.set(S,8,C,!0):S<8?pt.set(S+1,8,C,!0):pt.set(R-15+S,8,C,!0),S<8?pt.set(8,R-S-1,C,!0):S<9?pt.set(8,15-S-1+1,C,!0):pt.set(8,15-S-1,C,!0);pt.set(R-8,8,1,!0)}function rt(pt,j){const O=pt.size;let R=-1,F=O-1,S=7,C=0;for(let L=O-1;L>0;L-=2)for(L===6&&L--;;){for(let Z=0;Z<2;Z++)if(!pt.isReserved(F,L-Z)){let bt=!1;C<j.length&&(bt=(j[C]>>>S&1)===1),pt.set(F,L-Z,bt),S--,S===-1&&(C++,S=7)}if(F+=R,F<0||O<=F){F-=R,R=-R;break}}}function tt(pt,j,O){const R=new e;O.forEach(function(Z){R.put(Z.mode.bit,4),R.put(Z.getLength(),A.getCharCountIndicator(Z.mode,pt)),Z.write(R)});const F=n.getSymbolTotalCodewords(pt),S=h.getTotalCodewordsCount(pt,j),C=(F-S)*8;for(R.getLengthInBits()+4<=C&&R.put(0,4);R.getLengthInBits()%8!==0;)R.putBit(0);const L=(C-R.getLengthInBits())/8;for(let Z=0;Z<L;Z++)R.put(Z%2?17:236,8);return J(R,pt,j)}function J(pt,j,O){const R=n.getSymbolTotalCodewords(j),F=h.getTotalCodewordsCount(j,O),S=R-F,C=h.getBlocksCount(j,O),L=R%C,Z=C-L,bt=Math.floor(R/C),st=Math.floor(S/C),dt=st+1,ht=bt-st,Ct=new f(ht);let Ft=0;const W=new Array(C),D=new Array(C);let Y=0;const $=new Uint8Array(pt.buffer);for(let St=0;St<C;St++){const Ut=St<Z?st:dt;W[St]=$.slice(Ft,Ft+Ut),D[St]=Ct.encode(W[St]),Ft+=Ut,Y=Math.max(Y,Ut)}const ot=new Uint8Array(R);let ut=0,mt,Nt;for(mt=0;mt<Y;mt++)for(Nt=0;Nt<C;Nt++)mt<W[Nt].length&&(ot[ut++]=W[Nt][mt]);for(mt=0;mt<ht;mt++)for(Nt=0;Nt<C;Nt++)ot[ut++]=D[Nt][mt];return ot}function vt(pt,j,O,R){let F;if(Array.isArray(pt))F=N.fromArray(pt);else if(typeof pt=="string"){let bt=j;if(!bt){const st=N.rawSplit(pt);bt=p.getBestVersionForData(st,O)}F=N.fromString(pt,bt||40)}else throw new Error("Invalid data");const S=p.getBestVersionForData(F,O);if(!S)throw new Error("The amount of data is too big to be stored in a QR Code");if(!j)j=S;else if(j<S)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+S+`.
`);const C=tt(j,O,F),L=n.getSymbolSize(j),Z=new r(L);return b(Z,j),V(Z),B(Z,j),U(Z,O,0),j>=7&&z(Z,j),rt(Z,C),isNaN(R)&&(R=u.getBestMask(Z,U.bind(null,Z,O))),u.applyMask(R,Z),U(Z,O,R),{modules:Z,version:j,errorCorrectionLevel:O,maskPattern:R,segments:F}}return Wg.create=function(j,O){if(typeof j>"u"||j==="")throw new Error("No input text");let R=t.M,F,S;return typeof O<"u"&&(R=t.from(O.errorCorrectionLevel,t.M),F=p.from(O.version),S=u.from(O.maskPattern),O.toSJISFunc&&n.setToSJISFunction(O.toSJISFunc)),vt(j,F,R,S)},Wg}var gm={},mm={},kv;function Dw(){return kv||(kv=1,(function(n){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let r=e.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+e);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:o,scale:o?4:u,margin:a,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},n.getImageWidth=function(r,a){const o=n.getScale(r,a);return Math.floor((r+a.margin*2)*o)},n.qrToImageData=function(r,a,o){const u=a.modules.size,h=a.modules.data,f=n.getScale(u,o),p=Math.floor((u+o.margin*2)*f),v=o.margin*f,A=[o.color.light,o.color.dark];for(let N=0;N<p;N++)for(let b=0;b<p;b++){let V=(N*p+b)*4,B=o.color.light;if(N>=v&&b>=v&&N<p-v&&b<p-v){const z=Math.floor((N-v)/f),U=Math.floor((b-v)/f);B=A[h[z*u+U]?1:0]}r[V++]=B.r,r[V++]=B.g,r[V++]=B.b,r[V]=B.a}}})(mm)),mm}var Ov;function VS(){return Ov||(Ov=1,(function(n){const t=Dw();function e(a,o,u){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=u,o.width=u,o.style.height=u+"px",o.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,u,h){let f=h,p=u;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),u||(p=r()),f=t.getOptions(f);const v=t.getImageWidth(o.modules.size,f),A=p.getContext("2d"),N=A.createImageData(v,v);return t.qrToImageData(N.data,o,f),e(A,p,v),A.putImageData(N,0,0),p},n.renderToDataURL=function(o,u,h){let f=h;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),f||(f={});const p=n.render(o,u,f),v=f.type||"image/png",A=f.rendererOpts||{};return p.toDataURL(v,A.quality)}})(gm)),gm}var ym={},Dv;function BS(){if(Dv)return ym;Dv=1;const n=Dw();function t(a,o){const u=a.a/255,h=o+'="'+a.hex+'"';return u<1?h+" "+o+'-opacity="'+u.toFixed(2).slice(1)+'"':h}function e(a,o,u){let h=a+o;return typeof u<"u"&&(h+=" "+u),h}function r(a,o,u){let h="",f=0,p=!1,v=0;for(let A=0;A<a.length;A++){const N=Math.floor(A%o),b=Math.floor(A/o);!N&&!p&&(p=!0),a[A]?(v++,A>0&&N>0&&a[A-1]||(h+=p?e("M",N+u,.5+b+u):e("m",f,0),f=0,p=!1),N+1<o&&a[A+1]||(h+=e("h",v),v=0)):f++}return h}return ym.render=function(o,u,h){const f=n.getOptions(u),p=o.modules.size,v=o.modules.data,A=p+f.margin*2,N=f.color.light.a?"<path "+t(f.color.light,"fill")+' d="M0 0h'+A+"v"+A+'H0z"/>':"",b="<path "+t(f.color.dark,"stroke")+' d="'+r(v,p,f.margin)+'"/>',V='viewBox="0 0 '+A+" "+A+'"',z='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+V+' shape-rendering="crispEdges">'+N+b+`</svg>
`;return typeof h=="function"&&h(null,z),z},ym}var Pv;function jS(){if(Pv)return sh;Pv=1;const n=bS(),t=US(),e=VS(),r=BS();function a(o,u,h,f,p){const v=[].slice.call(arguments,1),A=v.length,N=typeof v[A-1]=="function";if(!N&&!n())throw new Error("Callback required as last argument");if(N){if(A<2)throw new Error("Too few arguments provided");A===2?(p=h,h=u,u=f=void 0):A===3&&(u.getContext&&typeof p>"u"?(p=f,f=void 0):(p=f,f=h,h=u,u=void 0))}else{if(A<1)throw new Error("Too few arguments provided");return A===1?(h=u,u=f=void 0):A===2&&!u.getContext&&(f=h,h=u,u=void 0),new Promise(function(b,V){try{const B=t.create(h,f);b(o(B,u,f))}catch(B){V(B)}})}try{const b=t.create(h,f);p(null,o(b,u,f))}catch(b){p(b)}}return sh.create=t.create,sh.toCanvas=a.bind(null,e.render),sh.toDataURL=a.bind(null,e.renderToDataURL),sh.toString=a.bind(null,function(o,u,h){return r.render(o,h)}),sh}var FS=jS();const qS=xw(FS),zS="modulepreload",HS=function(n){return"/"+n},Mv={},vm=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(e.map(p=>{if(p=HS(p),p in Mv)return;Mv[p]=!0;const v=p.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${A}`))return;const N=document.createElement("link");if(N.rel=v?"stylesheet":zS,v||(N.as="script"),N.crossOrigin="",N.href=p,h&&N.setAttribute("nonce",h),document.head.appendChild(N),v)return new Promise((b,V)=>{N.addEventListener("load",b),N.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(n)}var lo=Uint8Array,ma=Uint16Array,V0=Int32Array,B0=new lo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),j0=new lo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Uv=new lo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pw=function(n,t){for(var e=new ma(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var a=new V0(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)a[o]=o-e[r]<<5|r;return{b:e,r:a}},Mw=Pw(B0,2),GS=Mw.b,Zm=Mw.r;GS[28]=258,Zm[258]=28;var YS=Pw(j0,0),Vv=YS.r,t0=new ma(32768);for(var yi=0;yi<32768;++yi){var du=(yi&43690)>>1|(yi&21845)<<1;du=(du&52428)>>2|(du&13107)<<2,du=(du&61680)>>4|(du&3855)<<4,t0[yi]=((du&65280)>>8|(du&255)<<8)>>1}var kf=(function(n,t,e){for(var r=n.length,a=0,o=new ma(t);a<r;++a)n[a]&&++o[n[a]-1];var u=new ma(t);for(a=1;a<t;++a)u[a]=u[a-1]+o[a-1]<<1;var h;if(e){h=new ma(1<<t);var f=15-t;for(a=0;a<r;++a)if(n[a])for(var p=a<<4|n[a],v=t-n[a],A=u[n[a]-1]++<<v,N=A|(1<<v)-1;A<=N;++A)h[t0[A]>>f]=p}else for(h=new ma(r),a=0;a<r;++a)n[a]&&(h[a]=t0[u[n[a]-1]++]>>15-n[a]);return h}),uc=new lo(288);for(var yi=0;yi<144;++yi)uc[yi]=8;for(var yi=144;yi<256;++yi)uc[yi]=9;for(var yi=256;yi<280;++yi)uc[yi]=7;for(var yi=280;yi<288;++yi)uc[yi]=8;var Pp=new lo(32);for(var yi=0;yi<32;++yi)Pp[yi]=5;var KS=kf(uc,9,0),QS=kf(Pp,5,0),Uw=function(n){return(n+7)/8|0},XS=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new lo(n.subarray(t,e))},Tl=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},Ef=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},_m=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var a=e.length,o=e.slice();if(!a)return{t:Bw,l:0};if(a==1){var u=new lo(e[0].s+1);return u[e[0].s]=1,{t:u,l:1}}e.sort(function(vt,pt){return vt.f-pt.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],p=0,v=1,A=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=a-1;)h=e[e[p].f<e[A].f?p++:A++],f=e[p!=v&&e[p].f<e[A].f?p++:A++],e[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var N=o[0].s,r=1;r<a;++r)o[r].s>N&&(N=o[r].s);var b=new ma(N+1),V=e0(e[v-1],b,0);if(V>t){var r=0,B=0,z=V-t,U=1<<z;for(o.sort(function(pt,j){return b[j.s]-b[pt.s]||pt.f-j.f});r<a;++r){var rt=o[r].s;if(b[rt]>t)B+=U-(1<<V-b[rt]),b[rt]=t;else break}for(B>>=z;B>0;){var tt=o[r].s;b[tt]<t?B-=1<<t-b[tt]++-1:++r}for(;r>=0&&B;--r){var J=o[r].s;b[J]==t&&(--b[J],++B)}V=t}return{t:new lo(b),l:V}},e0=function(n,t,e){return n.s==-1?Math.max(e0(n.l,t,e+1),e0(n.r,t,e+1)):t[n.s]=e},Bv=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ma(++t),r=0,a=n[0],o=1,u=function(f){e[r++]=f},h=1;h<=t;++h)if(n[h]==a&&h!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[h]}return{c:e.subarray(0,r),n:t}},Sf=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},Vw=function(n,t,e){var r=e.length,a=Uw(t+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=e[o];return(a+4+r)*8},jv=function(n,t,e,r,a,o,u,h,f,p,v){Tl(t,v++,e),++a[256];for(var A=_m(a,15),N=A.t,b=A.l,V=_m(o,15),B=V.t,z=V.l,U=Bv(N),rt=U.c,tt=U.n,J=Bv(B),vt=J.c,pt=J.n,j=new ma(19),O=0;O<rt.length;++O)++j[rt[O]&31];for(var O=0;O<vt.length;++O)++j[vt[O]&31];for(var R=_m(j,7),F=R.t,S=R.l,C=19;C>4&&!F[Uv[C-1]];--C);var L=p+5<<3,Z=Sf(a,uc)+Sf(o,Pp)+u,bt=Sf(a,N)+Sf(o,B)+u+14+3*C+Sf(j,F)+2*j[16]+3*j[17]+7*j[18];if(f>=0&&L<=Z&&L<=bt)return Vw(t,v,n.subarray(f,f+p));var st,dt,ht,Ct;if(Tl(t,v,1+(bt<Z)),v+=2,bt<Z){st=kf(N,b,0),dt=N,ht=kf(B,z,0),Ct=B;var Ft=kf(F,S,0);Tl(t,v,tt-257),Tl(t,v+5,pt-1),Tl(t,v+10,C-4),v+=14;for(var O=0;O<C;++O)Tl(t,v+3*O,F[Uv[O]]);v+=3*C;for(var W=[rt,vt],D=0;D<2;++D)for(var Y=W[D],O=0;O<Y.length;++O){var $=Y[O]&31;Tl(t,v,Ft[$]),v+=F[$],$>15&&(Tl(t,v,Y[O]>>5&127),v+=Y[O]>>12)}}else st=KS,dt=uc,ht=QS,Ct=Pp;for(var O=0;O<h;++O){var ot=r[O];if(ot>255){var $=ot>>18&31;Ef(t,v,st[$+257]),v+=dt[$+257],$>7&&(Tl(t,v,ot>>23&31),v+=B0[$]);var ut=ot&31;Ef(t,v,ht[ut]),v+=Ct[ut],ut>3&&(Ef(t,v,ot>>5&8191),v+=j0[ut])}else Ef(t,v,st[ot]),v+=dt[ot]}return Ef(t,v,st[256]),v+dt[256]},WS=new V0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Bw=new lo(0),$S=function(n,t,e,r,a,o){var u=o.z||n.length,h=new lo(r+u+5*(1+Math.ceil(u/7e3))+a),f=h.subarray(r,h.length-a),p=o.l,v=(o.r||0)&7;if(t){v&&(f[0]=o.r>>3);for(var A=WS[t-1],N=A>>13,b=A&8191,V=(1<<e)-1,B=o.p||new ma(32768),z=o.h||new ma(V+1),U=Math.ceil(e/3),rt=2*U,tt=function(Dt){return(n[Dt]^n[Dt+1]<<U^n[Dt+2]<<rt)&V},J=new V0(25e3),vt=new ma(288),pt=new ma(32),j=0,O=0,R=o.i||0,F=0,S=o.w||0,C=0;R+2<u;++R){var L=tt(R),Z=R&32767,bt=z[L];if(B[Z]=bt,z[L]=Z,S<=R){var st=u-R;if((j>7e3||F>24576)&&(st>423||!p)){v=jv(n,f,0,J,vt,pt,O,F,C,R-C,v),F=j=O=0,C=R;for(var dt=0;dt<286;++dt)vt[dt]=0;for(var dt=0;dt<30;++dt)pt[dt]=0}var ht=2,Ct=0,Ft=b,W=Z-bt&32767;if(st>2&&L==tt(R-W))for(var D=Math.min(N,st)-1,Y=Math.min(32767,R),$=Math.min(258,st);W<=Y&&--Ft&&Z!=bt;){if(n[R+ht]==n[R+ht-W]){for(var ot=0;ot<$&&n[R+ot]==n[R+ot-W];++ot);if(ot>ht){if(ht=ot,Ct=W,ot>D)break;for(var ut=Math.min(W,ot-2),mt=0,dt=0;dt<ut;++dt){var Nt=R-W+dt&32767,St=B[Nt],Ut=Nt-St&32767;Ut>mt&&(mt=Ut,bt=Nt)}}}Z=bt,bt=B[Z],W+=Z-bt&32767}if(Ct){J[F++]=268435456|Zm[ht]<<18|Vv[Ct];var Wt=Zm[ht]&31,ee=Vv[Ct]&31;O+=B0[Wt]+j0[ee],++vt[257+Wt],++pt[ee],S=R+ht,++j}else J[F++]=n[R],++vt[n[R]]}}for(R=Math.max(R,S);R<u;++R)J[F++]=n[R],++vt[n[R]];v=jv(n,f,p,J,vt,pt,O,F,C,R-C,v),p||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=z,o.p=B,o.i=R,o.w=S)}else{for(var R=o.w||0;R<u+p;R+=65535){var ne=R+65535;ne>=u&&(f[v/8|0]=p,ne=u),v=Vw(f,v+1,n.subarray(R,ne))}o.i=u}return XS(h,0,r+Uw(v)+a)},jw=function(){var n=1,t=0;return{p:function(e){for(var r=n,a=t,o=e.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)a+=r+=e[u];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},JS=function(n,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),u=new lo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return $S(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,a)},Fw=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},ZS=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=jw();a.p(t.dictionary),Fw(n,2,a.d())}};function n0(n,t){t||(t={});var e=jw();e.p(n);var r=JS(n,t,t.dictionary?6:2,4);return ZS(r,t),Fw(r,r.length-4,e.d()),r}var t6=typeof TextDecoder<"u"&&new TextDecoder,e6=0;try{t6.decode(Bw,{stream:!0}),e6=1}catch{}function n6(n){if(Array.isArray(n))return n}function i6(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,a,o,u,h=[],f=!0,p=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(r=o.call(e)).done)&&(h.push(r.value),h.length!==t);f=!0);}catch(v){p=!0,a=v}finally{try{if(!f&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(p)throw a}}return h}}function Fv(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function r6(n,t){if(n){if(typeof n=="string")return Fv(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Fv(n,t):void 0}}function s6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qv(n,t){return n6(n)||i6(n,t)||r6(n,t)||s6()}function zv(n,t="utf8"){return new TextDecoder(t).decode(n)}const a6=new TextEncoder;function o6(n){return a6.encode(n)}const l6=1024*8,u6=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),bm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class F0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=l6,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,o=t.byteLength-a;let u=a;(ArrayBuffer.isView(t)||t instanceof F0)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+a),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=bm[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===u6&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+r));h.reverse();const f=new bm[e](h.buffer);return this.offset+=r,f.reverse(),f}const u=new bm[e](o);return this.offset+=r,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return zv(this.readBytes(t))}decodeText(t=1,e="utf8"){return zv(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(o6(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function kh(n){let t=n.length;for(;--t>=0;)n[t]=0}const c6=3,h6=258,qw=29,f6=256,d6=f6+1+qw,zw=30,p6=512,g6=new Array((d6+2)*2);kh(g6);const m6=new Array(zw*2);kh(m6);const y6=new Array(p6);kh(y6);const v6=new Array(h6-c6+1);kh(v6);const _6=new Array(qw);kh(_6);const b6=new Array(zw);kh(b6);const w6=(n,t,e,r)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do a=a+t[r++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var i0=w6;const A6=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},E6=new Uint32Array(A6()),S6=(n,t,e,r)=>{const a=E6,o=r+e;n^=-1;for(let u=r;u<o;u++)n=n>>>8^a[(n^t[u])&255];return n^-1};var Mo=S6,r0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const T6=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var N6=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)T6(e,r)&&(n[r]=e[r])}}return n},I6=n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,o=n.length;r<o;r++){let u=n[r];e.set(u,a),a+=u.length}return e},Gw={assign:N6,flattenChunks:I6};let Yw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Yw=!1}const jf=new Uint8Array(256);for(let n=0;n<256;n++)jf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;jf[254]=jf[254]=1;var C6=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,o,u=n.length,h=0;for(a=0;a<u;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,a=0;o<h;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const R6=(n,t)=>{if(t<65534&&n.subarray&&Yw)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var x6=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const o=new Array(e*2);for(a=0,r=0;r<e;){let u=n[r++];if(u<128){o[a++]=u;continue}let h=jf[u];if(h>4){o[a++]=65533,r+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&r<e;)u=u<<6|n[r++]&63,h--;if(h>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return R6(o,a)},L6=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+jf[n[e]]>t?e:t},s0={string2buf:C6,buf2string:x6,utf8border:L6};function k6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var O6=k6;const ip=16209,D6=16191;var P6=function(t,e){let r,a,o,u,h,f,p,v,A,N,b,V,B,z,U,rt,tt,J,vt,pt,j,O,R,F;const S=t.state;r=t.next_in,R=t.input,a=r+(t.avail_in-5),o=t.next_out,F=t.output,u=o-(e-t.avail_out),h=o+(t.avail_out-257),f=S.dmax,p=S.wsize,v=S.whave,A=S.wnext,N=S.window,b=S.hold,V=S.bits,B=S.lencode,z=S.distcode,U=(1<<S.lenbits)-1,rt=(1<<S.distbits)-1;t:do{V<15&&(b+=R[r++]<<V,V+=8,b+=R[r++]<<V,V+=8),tt=B[b&U];e:for(;;){if(J=tt>>>24,b>>>=J,V-=J,J=tt>>>16&255,J===0)F[o++]=tt&65535;else if(J&16){vt=tt&65535,J&=15,J&&(V<J&&(b+=R[r++]<<V,V+=8),vt+=b&(1<<J)-1,b>>>=J,V-=J),V<15&&(b+=R[r++]<<V,V+=8,b+=R[r++]<<V,V+=8),tt=z[b&rt];n:for(;;){if(J=tt>>>24,b>>>=J,V-=J,J=tt>>>16&255,J&16){if(pt=tt&65535,J&=15,V<J&&(b+=R[r++]<<V,V+=8,V<J&&(b+=R[r++]<<V,V+=8)),pt+=b&(1<<J)-1,pt>f){t.msg="invalid distance too far back",S.mode=ip;break t}if(b>>>=J,V-=J,J=o-u,pt>J){if(J=pt-J,J>v&&S.sane){t.msg="invalid distance too far back",S.mode=ip;break t}if(j=0,O=N,A===0){if(j+=p-J,J<vt){vt-=J;do F[o++]=N[j++];while(--J);j=o-pt,O=F}}else if(A<J){if(j+=p+A-J,J-=A,J<vt){vt-=J;do F[o++]=N[j++];while(--J);if(j=0,A<vt){J=A,vt-=J;do F[o++]=N[j++];while(--J);j=o-pt,O=F}}}else if(j+=A-J,J<vt){vt-=J;do F[o++]=N[j++];while(--J);j=o-pt,O=F}for(;vt>2;)F[o++]=O[j++],F[o++]=O[j++],F[o++]=O[j++],vt-=3;vt&&(F[o++]=O[j++],vt>1&&(F[o++]=O[j++]))}else{j=o-pt;do F[o++]=F[j++],F[o++]=F[j++],F[o++]=F[j++],vt-=3;while(vt>2);vt&&(F[o++]=F[j++],vt>1&&(F[o++]=F[j++]))}}else if((J&64)===0){tt=z[(tt&65535)+(b&(1<<J)-1)];continue n}else{t.msg="invalid distance code",S.mode=ip;break t}break}}else if((J&64)===0){tt=B[(tt&65535)+(b&(1<<J)-1)];continue e}else if(J&32){S.mode=D6;break t}else{t.msg="invalid literal/length code",S.mode=ip;break t}break}}while(r<a&&o<h);vt=V>>3,r-=vt,V-=vt<<3,b&=(1<<V)-1,t.next_in=r,t.next_out=o,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=o<h?257+(h-o):257-(o-h),S.hold=b,S.bits=V};const ah=15,Hv=852,Gv=592,Yv=0,wm=1,Kv=2,M6=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),U6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),V6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),B6=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),j6=(n,t,e,r,a,o,u,h)=>{const f=h.bits;let p=0,v=0,A=0,N=0,b=0,V=0,B=0,z=0,U=0,rt=0,tt,J,vt,pt,j,O=null,R;const F=new Uint16Array(ah+1),S=new Uint16Array(ah+1);let C=null,L,Z,bt;for(p=0;p<=ah;p++)F[p]=0;for(v=0;v<r;v++)F[t[e+v]]++;for(b=f,N=ah;N>=1&&F[N]===0;N--);if(b>N&&(b=N),N===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<N&&F[A]===0;A++);for(b<A&&(b=A),z=1,p=1;p<=ah;p++)if(z<<=1,z-=F[p],z<0)return-1;if(z>0&&(n===Yv||N!==1))return-1;for(S[1]=0,p=1;p<ah;p++)S[p+1]=S[p]+F[p];for(v=0;v<r;v++)t[e+v]!==0&&(u[S[t[e+v]]++]=v);if(n===Yv?(O=C=u,R=20):n===wm?(O=M6,C=U6,R=257):(O=V6,C=B6,R=0),rt=0,v=0,p=A,j=o,V=b,B=0,vt=-1,U=1<<b,pt=U-1,n===wm&&U>Hv||n===Kv&&U>Gv)return 1;for(;;){L=p-B,u[v]+1<R?(Z=0,bt=u[v]):u[v]>=R?(Z=C[u[v]-R],bt=O[u[v]-R]):(Z=96,bt=0),tt=1<<p-B,J=1<<V,A=J;do J-=tt,a[j+(rt>>B)+J]=L<<24|Z<<16|bt|0;while(J!==0);for(tt=1<<p-1;rt&tt;)tt>>=1;if(tt!==0?(rt&=tt-1,rt+=tt):rt=0,v++,--F[p]===0){if(p===N)break;p=t[e+u[v]]}if(p>b&&(rt&pt)!==vt){for(B===0&&(B=b),j+=A,V=p-B,z=1<<V;V+B<N&&(z-=F[V+B],!(z<=0));)V++,z<<=1;if(U+=1<<V,n===wm&&U>Hv||n===Kv&&U>Gv)return 1;vt=rt&pt,a[vt]=b<<24|V<<16|j-o|0}}return rt!==0&&(a[j+rt]=p-B<<24|64<<16|0),h.bits=b,0};var Of=j6;const F6=0,Kw=1,Qw=2,{Z_FINISH:Qv,Z_BLOCK:q6,Z_TREES:rp,Z_OK:cc,Z_STREAM_END:z6,Z_NEED_DICT:H6,Z_STREAM_ERROR:Ma,Z_DATA_ERROR:Xw,Z_MEM_ERROR:Ww,Z_BUF_ERROR:G6,Z_DEFLATED:Xv}=Hw,l1=16180,Wv=16181,$v=16182,Jv=16183,Zv=16184,t_=16185,e_=16186,n_=16187,i_=16188,r_=16189,Mp=16190,Nl=16191,Am=16192,s_=16193,Em=16194,a_=16195,o_=16196,l_=16197,u_=16198,sp=16199,ap=16200,c_=16201,h_=16202,f_=16203,d_=16204,p_=16205,Sm=16206,g_=16207,m_=16208,Ei=16209,$w=16210,Jw=16211,Y6=852,K6=592,Q6=15,X6=Q6,y_=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function W6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _c=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<l1||t.mode>Jw?1:0},Zw=n=>{if(_c(n))return Ma;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=l1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Y6),t.distcode=t.distdyn=new Int32Array(K6),t.sane=1,t.back=-1,cc},t4=n=>{if(_c(n))return Ma;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,Zw(n)},e4=(n,t)=>{let e;if(_c(n))return Ma;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ma:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,t4(n))},n4=(n,t)=>{if(!n)return Ma;const e=new W6;n.state=e,e.strm=n,e.window=null,e.mode=l1;const r=e4(n,t);return r!==cc&&(n.state=null),r},$6=n=>n4(n,X6);let v_=!0,Tm,Nm;const J6=n=>{if(v_){Tm=new Int32Array(512),Nm=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Of(Kw,n.lens,0,288,Tm,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Of(Qw,n.lens,0,32,Nm,0,n.work,{bits:5}),v_=!1}n.lencode=Tm,n.lenbits=9,n.distcode=Nm,n.distbits=5},i4=(n,t,e,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(t.subarray(e-r,e-r+a),o.wnext),r-=a,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},Z6=(n,t)=>{let e,r,a,o,u,h,f,p,v,A,N,b,V,B,z=0,U,rt,tt,J,vt,pt,j,O;const R=new Uint8Array(4);let F,S;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_c(n)||!n.output||!n.input&&n.avail_in!==0)return Ma;e=n.state,e.mode===Nl&&(e.mode=Am),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,p=e.hold,v=e.bits,A=h,N=f,O=cc;t:for(;;)switch(e.mode){case l1:if(e.wrap===0){e.mode=Am;break}for(;v<16;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if(e.wrap&2&&p===35615){e.wbits===0&&(e.wbits=15),e.check=0,R[0]=p&255,R[1]=p>>>8&255,e.check=Mo(e.check,R,2,0),p=0,v=0,e.mode=Wv;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((p&255)<<8)+(p>>8))%31){n.msg="incorrect header check",e.mode=Ei;break}if((p&15)!==Xv){n.msg="unknown compression method",e.mode=Ei;break}if(p>>>=4,v-=4,j=(p&15)+8,e.wbits===0&&(e.wbits=j),j>15||j>e.wbits){n.msg="invalid window size",e.mode=Ei;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=p&512?r_:Nl,p=0,v=0;break;case Wv:for(;v<16;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if(e.flags=p,(e.flags&255)!==Xv){n.msg="unknown compression method",e.mode=Ei;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Ei;break}e.head&&(e.head.text=p>>8&1),e.flags&512&&e.wrap&4&&(R[0]=p&255,R[1]=p>>>8&255,e.check=Mo(e.check,R,2,0)),p=0,v=0,e.mode=$v;case $v:for(;v<32;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}e.head&&(e.head.time=p),e.flags&512&&e.wrap&4&&(R[0]=p&255,R[1]=p>>>8&255,R[2]=p>>>16&255,R[3]=p>>>24&255,e.check=Mo(e.check,R,4,0)),p=0,v=0,e.mode=Jv;case Jv:for(;v<16;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}e.head&&(e.head.xflags=p&255,e.head.os=p>>8),e.flags&512&&e.wrap&4&&(R[0]=p&255,R[1]=p>>>8&255,e.check=Mo(e.check,R,2,0)),p=0,v=0,e.mode=Zv;case Zv:if(e.flags&1024){for(;v<16;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}e.length=p,e.head&&(e.head.extra_len=p),e.flags&512&&e.wrap&4&&(R[0]=p&255,R[1]=p>>>8&255,e.check=Mo(e.check,R,2,0)),p=0,v=0}else e.head&&(e.head.extra=null);e.mode=t_;case t_:if(e.flags&1024&&(b=e.length,b>h&&(b=h),b&&(e.head&&(j=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+b),j)),e.flags&512&&e.wrap&4&&(e.check=Mo(e.check,r,b,o)),h-=b,o+=b,e.length-=b),e.length))break t;e.length=0,e.mode=e_;case e_:if(e.flags&2048){if(h===0)break t;b=0;do j=r[o+b++],e.head&&j&&e.length<65536&&(e.head.name+=String.fromCharCode(j));while(j&&b<h);if(e.flags&512&&e.wrap&4&&(e.check=Mo(e.check,r,b,o)),h-=b,o+=b,j)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=n_;case n_:if(e.flags&4096){if(h===0)break t;b=0;do j=r[o+b++],e.head&&j&&e.length<65536&&(e.head.comment+=String.fromCharCode(j));while(j&&b<h);if(e.flags&512&&e.wrap&4&&(e.check=Mo(e.check,r,b,o)),h-=b,o+=b,j)break t}else e.head&&(e.head.comment=null);e.mode=i_;case i_:if(e.flags&512){for(;v<16;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if(e.wrap&4&&p!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Ei;break}p=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Nl;break;case r_:for(;v<32;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}n.adler=e.check=y_(p),p=0,v=0,e.mode=Mp;case Mp:if(e.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=p,e.bits=v,H6;n.adler=e.check=1,e.mode=Nl;case Nl:if(t===q6||t===rp)break t;case Am:if(e.last){p>>>=v&7,v-=v&7,e.mode=Sm;break}for(;v<3;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}switch(e.last=p&1,p>>>=1,v-=1,p&3){case 0:e.mode=s_;break;case 1:if(J6(e),e.mode=sp,t===rp){p>>>=2,v-=2;break t}break;case 2:e.mode=o_;break;case 3:n.msg="invalid block type",e.mode=Ei}p>>>=2,v-=2;break;case s_:for(p>>>=v&7,v-=v&7;v<32;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if((p&65535)!==(p>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Ei;break}if(e.length=p&65535,p=0,v=0,e.mode=Em,t===rp)break t;case Em:e.mode=a_;case a_:if(b=e.length,b){if(b>h&&(b=h),b>f&&(b=f),b===0)break t;a.set(r.subarray(o,o+b),u),h-=b,o+=b,f-=b,u+=b,e.length-=b;break}e.mode=Nl;break;case o_:for(;v<14;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if(e.nlen=(p&31)+257,p>>>=5,v-=5,e.ndist=(p&31)+1,p>>>=5,v-=5,e.ncode=(p&15)+4,p>>>=4,v-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Ei;break}e.have=0,e.mode=l_;case l_:for(;e.have<e.ncode;){for(;v<3;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}e.lens[C[e.have++]]=p&7,p>>>=3,v-=3}for(;e.have<19;)e.lens[C[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F={bits:e.lenbits},O=Of(F6,e.lens,0,19,e.lencode,0,e.work,F),e.lenbits=F.bits,O){n.msg="invalid code lengths set",e.mode=Ei;break}e.have=0,e.mode=u_;case u_:for(;e.have<e.nlen+e.ndist;){for(;z=e.lencode[p&(1<<e.lenbits)-1],U=z>>>24,rt=z>>>16&255,tt=z&65535,!(U<=v);){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if(tt<16)p>>>=U,v-=U,e.lens[e.have++]=tt;else{if(tt===16){for(S=U+2;v<S;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if(p>>>=U,v-=U,e.have===0){n.msg="invalid bit length repeat",e.mode=Ei;break}j=e.lens[e.have-1],b=3+(p&3),p>>>=2,v-=2}else if(tt===17){for(S=U+3;v<S;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}p>>>=U,v-=U,j=0,b=3+(p&7),p>>>=3,v-=3}else{for(S=U+7;v<S;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}p>>>=U,v-=U,j=0,b=11+(p&127),p>>>=7,v-=7}if(e.have+b>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Ei;break}for(;b--;)e.lens[e.have++]=j}}if(e.mode===Ei)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Ei;break}if(e.lenbits=9,F={bits:e.lenbits},O=Of(Kw,e.lens,0,e.nlen,e.lencode,0,e.work,F),e.lenbits=F.bits,O){n.msg="invalid literal/lengths set",e.mode=Ei;break}if(e.distbits=6,e.distcode=e.distdyn,F={bits:e.distbits},O=Of(Qw,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,F),e.distbits=F.bits,O){n.msg="invalid distances set",e.mode=Ei;break}if(e.mode=sp,t===rp)break t;case sp:e.mode=ap;case ap:if(h>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=p,e.bits=v,P6(n,N),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,p=e.hold,v=e.bits,e.mode===Nl&&(e.back=-1);break}for(e.back=0;z=e.lencode[p&(1<<e.lenbits)-1],U=z>>>24,rt=z>>>16&255,tt=z&65535,!(U<=v);){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if(rt&&(rt&240)===0){for(J=U,vt=rt,pt=tt;z=e.lencode[pt+((p&(1<<J+vt)-1)>>J)],U=z>>>24,rt=z>>>16&255,tt=z&65535,!(J+U<=v);){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}p>>>=J,v-=J,e.back+=J}if(p>>>=U,v-=U,e.back+=U,e.length=tt,rt===0){e.mode=p_;break}if(rt&32){e.back=-1,e.mode=Nl;break}if(rt&64){n.msg="invalid literal/length code",e.mode=Ei;break}e.extra=rt&15,e.mode=c_;case c_:if(e.extra){for(S=e.extra;v<S;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}e.length+=p&(1<<e.extra)-1,p>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=h_;case h_:for(;z=e.distcode[p&(1<<e.distbits)-1],U=z>>>24,rt=z>>>16&255,tt=z&65535,!(U<=v);){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if((rt&240)===0){for(J=U,vt=rt,pt=tt;z=e.distcode[pt+((p&(1<<J+vt)-1)>>J)],U=z>>>24,rt=z>>>16&255,tt=z&65535,!(J+U<=v);){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}p>>>=J,v-=J,e.back+=J}if(p>>>=U,v-=U,e.back+=U,rt&64){n.msg="invalid distance code",e.mode=Ei;break}e.offset=tt,e.extra=rt&15,e.mode=f_;case f_:if(e.extra){for(S=e.extra;v<S;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}e.offset+=p&(1<<e.extra)-1,p>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Ei;break}e.mode=d_;case d_:if(f===0)break t;if(b=N-f,e.offset>b){if(b=e.offset-b,b>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Ei;break}b>e.wnext?(b-=e.wnext,V=e.wsize-b):V=e.wnext-b,b>e.length&&(b=e.length),B=e.window}else B=a,V=u-e.offset,b=e.length;b>f&&(b=f),f-=b,e.length-=b;do a[u++]=B[V++];while(--b);e.length===0&&(e.mode=ap);break;case p_:if(f===0)break t;a[u++]=e.length,f--,e.mode=ap;break;case Sm:if(e.wrap){for(;v<32;){if(h===0)break t;h--,p|=r[o++]<<v,v+=8}if(N-=f,n.total_out+=N,e.total+=N,e.wrap&4&&N&&(n.adler=e.check=e.flags?Mo(e.check,a,N,u-N):i0(e.check,a,N,u-N)),N=f,e.wrap&4&&(e.flags?p:y_(p))!==e.check){n.msg="incorrect data check",e.mode=Ei;break}p=0,v=0}e.mode=g_;case g_:if(e.wrap&&e.flags){for(;v<32;){if(h===0)break t;h--,p+=r[o++]<<v,v+=8}if(e.wrap&4&&p!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Ei;break}p=0,v=0}e.mode=m_;case m_:O=z6;break t;case Ei:O=Xw;break t;case $w:return Ww;case Jw:default:return Ma}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=p,e.bits=v,(e.wsize||N!==n.avail_out&&e.mode<Ei&&(e.mode<Sm||t!==Qv))&&i4(n,n.output,n.next_out,N-n.avail_out),A-=n.avail_in,N-=n.avail_out,n.total_in+=A,n.total_out+=N,e.total+=N,e.wrap&4&&N&&(n.adler=e.check=e.flags?Mo(e.check,a,N,n.next_out-N):i0(e.check,a,N,n.next_out-N)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Nl?128:0)+(e.mode===sp||e.mode===Em?256:0),(A===0&&N===0||t===Qv)&&O===cc&&(O=G6),O},tT=n=>{if(_c(n))return Ma;let t=n.state;return t.window&&(t.window=null),n.state=null,cc},eT=(n,t)=>{if(_c(n))return Ma;const e=n.state;return(e.wrap&2)===0?Ma:(e.head=t,t.done=!1,cc)},nT=(n,t)=>{const e=t.length;let r,a,o;return _c(n)||(r=n.state,r.wrap!==0&&r.mode!==Mp)?Ma:r.mode===Mp&&(a=1,a=i0(a,t,e,0),a!==r.check)?Xw:(o=i4(n,t,e,e),o?(r.mode=$w,Ww):(r.havedict=1,cc))};var iT=t4,rT=e4,sT=Zw,aT=$6,oT=n4,lT=Z6,uT=tT,cT=eT,hT=nT,fT="pako inflate (from Nodeca project)",Il={inflateReset:iT,inflateReset2:rT,inflateResetKeep:sT,inflateInit:aT,inflateInit2:oT,inflate:lT,inflateEnd:uT,inflateGetHeader:cT,inflateSetDictionary:hT,inflateInfo:fT};function dT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pT=dT;const r4=Object.prototype.toString,{Z_NO_FLUSH:gT,Z_FINISH:mT,Z_OK:Ff,Z_STREAM_END:Im,Z_NEED_DICT:Cm,Z_STREAM_ERROR:yT,Z_DATA_ERROR:__,Z_MEM_ERROR:vT}=Hw;function $f(n){this.options=Gw.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O6,this.strm.avail_out=0;let e=Il.inflateInit2(this.strm,t.windowBits);if(e!==Ff)throw new Error(r0[e]);if(this.header=new pT,Il.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=s0.string2buf(t.dictionary):r4.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Il.inflateSetDictionary(this.strm,t.dictionary),e!==Ff)))throw new Error(r0[e])}$f.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?mT:gT,r4.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=Il.inflate(e,u),o===Cm&&a&&(o=Il.inflateSetDictionary(e,a),o===Ff?o=Il.inflate(e,u):o===__&&(o=Cm));e.avail_in>0&&o===Im&&e.state.wrap>0&&n[e.next_in]!==0;)Il.inflateReset(e),o=Il.inflate(e,u);switch(o){case yT:case __:case Cm:case vT:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===Im))if(this.options.to==="string"){let f=s0.utf8border(e.output,e.next_out),p=e.next_out-f,v=s0.buf2string(e.output,f);e.next_out=p,e.avail_out=r-p,p&&e.output.set(e.output.subarray(f,f+p),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Ff&&h===0)){if(o===Im)return o=Il.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};$f.prototype.onData=function(n){this.chunks.push(n)};$f.prototype.onEnd=function(n){n===Ff&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gw.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function _T(n,t){const e=new $f(t);if(e.push(n),e.err)throw e.msg||r0[e.err];return e.result}var bT=$f,wT=_T,AT={Inflate:bT,inflate:wT};const{Inflate:ET,inflate:ST}=AT;var b_=ET,TT=ST;const s4=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;s4[n]=t}const w_=4294967295;function NT(n,t,e){let r=n;for(let a=0;a<e;a++)r=s4[(r^t[a])&255]^r>>>8;return r}function IT(n,t){return(NT(w_,n,t)^w_)>>>0}function A_(n,t,e){const r=n.readUint32(),a=IT(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${a}`)}function a4(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function o4(n,t,e,r){let a=0;for(;a<r;a++)t[a]=n[a];for(;a<e;a++)t[a]=n[a]+t[a-r]&255}function l4(n,t,e,r){let a=0;if(e.length===0)for(;a<r;a++)t[a]=n[a];else for(;a<r;a++)t[a]=n[a]+e[a]&255}function u4(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=n[o]+(t[o-a]+e[o]>>1)&255}}function c4(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=n[o]+e[o]&255;for(;o<r;o++)t[o]=n[o]+CT(t[o-a],e[o],e[o-a])&255}}function CT(n,t,e){const r=n+t-e,a=Math.abs(r-n),o=Math.abs(r-t),u=Math.abs(r-e);return a<=o&&a<=u?n:o<=u?t:e}function RT(n,t,e,r,a,o){switch(n){case 0:a4(t,e,a);break;case 1:o4(t,e,a,o);break;case 2:l4(t,e,r,a);break;case 3:u4(t,e,r,a,o);break;case 4:c4(t,e,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const xT=new Uint16Array([255]),LT=new Uint8Array(xT.buffer),kT=LT[0]===255;function OT(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,f=new Uint8Array(r*e*h);let p=0;for(let v=0;v<7;v++){const A=u[v],N=Math.ceil((e-A.x)/A.xStep),b=Math.ceil((r-A.y)/A.yStep);if(N<=0||b<=0)continue;const V=N*h,B=new Uint8Array(V);for(let z=0;z<b;z++){const U=t[p++],rt=t.subarray(p,p+V);p+=V;const tt=new Uint8Array(V);RT(U,rt,tt,B,V,h),B.set(tt);for(let J=0;J<N;J++){const vt=A.x+J*A.xStep,pt=A.y+z*A.yStep;if(!(vt>=e||pt>=r))for(let j=0;j<h;j++)f[(pt*e+vt)*h+j]=tt[J*h+j]}}}if(o===16){const v=new Uint16Array(f.buffer);if(kT)for(let A=0;A<v.length;A++)v[A]=DT(v[A]);return v}else return f}function DT(n){return(n&255)<<8|n>>8&255}const PT=new Uint16Array([255]),MT=new Uint8Array(PT.buffer),UT=MT[0]===255,VT=new Uint8Array(0);function E_(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*e),f=new Uint8Array(r*h);let p=VT,v=0,A,N;for(let b=0;b<r;b++){switch(A=t.subarray(v+1,v+1+h),N=f.subarray(b*h,(b+1)*h),t[v]){case 0:a4(A,N,h);break;case 1:o4(A,N,h,u);break;case 2:l4(A,N,p,h);break;case 3:u4(A,N,p,h,u);break;case 4:c4(A,N,p,h,u);break;default:throw new Error(`Unsupported filter: ${t[v]}`)}p=N,v+=h+1}if(o===16){const b=new Uint16Array(f.buffer);if(UT)for(let V=0;V<b.length;V++)b[V]=BT(b[V]);return b}else return f}function BT(n){return(n&255)<<8|n>>8&255}const _p=Uint8Array.of(137,80,78,71,13,10,26,10);function S_(n){if(!jT(n.readBytes(_p.length)))throw new Error("wrong PNG signature")}function jT(n){if(n.length<_p.length)return!1;for(let t=0;t<_p.length;t++)if(n[t]!==_p[t])return!1;return!0}const FT="tEXt",qT=0,h4=new TextDecoder("latin1");function zT(n){if(GT(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const HT=/^[\u0000-\u00FF]*$/;function GT(n){if(!HT.test(n))throw new Error("invalid latin1 text")}function YT(n,t,e){const r=f4(t);n[r]=KT(t,e-r.length-1)}function f4(n){for(n.mark();n.readByte()!==qT;);const t=n.offset;n.reset();const e=h4.decode(n.readBytes(t-n.offset-1));return n.skip(1),zT(e),e}function KT(n,t){return h4.decode(n.readBytes(t))}const ga={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Rm={UNKNOWN:-1,DEFLATE:0},T_={UNKNOWN:-1,ADAPTIVE:0},xm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},op={NONE:0,BACKGROUND:1,PREVIOUS:2},Lm={SOURCE:0,OVER:1};class QT extends F0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new b_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Rm.UNKNOWN,this._filterMethod=T_.UNKNOWN,this._interlaceMethod=xm.UNKNOWN,this._colorType=ga.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(S_(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(S_(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case FT:YT(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?A_(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?A_(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=XT(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case ga.GREYSCALE:r=1;break;case ga.TRUECOLOUR:r=3;break;case ga.INDEXED_COLOUR:r=1;break;case ga.GREYSCALE_ALPHA:r=2;break;case ga.TRUECOLOUR_ALPHA:r=4;break;case ga.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Rm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<e;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ga.GREYSCALE:case ga.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case ga.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case ga.UNKNOWN:case ga.GREYSCALE_ALPHA:case ga.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=f4(this),r=this.readUint8();if(r!==Rm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:TT(a)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=E_({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(r,a,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case op.NONE:break;case op.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[u+h]=0}break;case op.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,a=(o,u)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+u)*this._png.channels,f=(o*e.width+u)*this._png.channels;return{index:h,frameIndex:f}};switch(e.blendOp){case Lm.SOURCE:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=a(o,u);for(let p=0;p<this._png.channels;p++)t.data[h+p]=e.data[f+p]}break;case Lm.OVER:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=a(o,u);for(let p=0;p<this._png.channels;p++){const v=e.data[f+this._png.channels-1]/r,A=p%(this._png.channels-1)===0?1:e.data[f+p],N=Math.floor(v*A+(1-v)*t.data[h+p]);t.data[h+p]+=N}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==T_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xm.NO_INTERLACE)this._png.data=E_({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xm.ADAM7)this._png.data=OT({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:op.NONE,blendOp:Lm.SOURCE,data:t}),this._inflator=new b_,this._writingDataChunks=!1}}function XT(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var N_;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(N_||(N_={}));function WT(n,t){return new QT(n,t).decode()}var Ke=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function km(){Ke.console&&typeof Ke.console.log=="function"&&Ke.console.log.apply(Ke.console,arguments)}var li={log:km,warn:function(n){Ke.console&&(typeof Ke.console.warn=="function"?Ke.console.warn.apply(Ke.console,arguments):km.call(null,arguments))},error:function(n){Ke.console&&(typeof Ke.console.error=="function"?Ke.console.error.apply(Ke.console,arguments):km(n))}};function Om(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){nc(r.response,t,e)},r.onerror=function(){li.error("could not download file")},r.send()}function I_(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var nc=Ke.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Ke?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Ke.URL||Ke.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?I_(a.href)?Om(n,t,e):lp(a,a.target="_blank"):lp(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){lp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(I_(n))Om(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){lp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(li.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Om(n,t,e);var a=n.type==="application/octet-stream",o=/constructor/i.test(Ke.HTMLElement)||Ke.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=u?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},h.readAsDataURL(n)}else{var f=Ke.URL||Ke.webkitURL,p=f.createObjectURL(n);r?r.location=p:location.href=p,r=null,setTimeout(function(){f.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function d4(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,o=e[r].process,u=a.exec(n);u&&(t=o(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+h+f+p}}var bp=Ke.atob.bind(Ke),C_=Ke.btoa.bind(Ke);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Dm(n,t){var e=n[0],r=n[1],a=n[2],o=n[3];e=ls(e,r,a,o,t[0],7,-680876936),o=ls(o,e,r,a,t[1],12,-389564586),a=ls(a,o,e,r,t[2],17,606105819),r=ls(r,a,o,e,t[3],22,-1044525330),e=ls(e,r,a,o,t[4],7,-176418897),o=ls(o,e,r,a,t[5],12,1200080426),a=ls(a,o,e,r,t[6],17,-1473231341),r=ls(r,a,o,e,t[7],22,-45705983),e=ls(e,r,a,o,t[8],7,1770035416),o=ls(o,e,r,a,t[9],12,-1958414417),a=ls(a,o,e,r,t[10],17,-42063),r=ls(r,a,o,e,t[11],22,-1990404162),e=ls(e,r,a,o,t[12],7,1804603682),o=ls(o,e,r,a,t[13],12,-40341101),a=ls(a,o,e,r,t[14],17,-1502002290),e=us(e,r=ls(r,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=us(o,e,r,a,t[6],9,-1069501632),a=us(a,o,e,r,t[11],14,643717713),r=us(r,a,o,e,t[0],20,-373897302),e=us(e,r,a,o,t[5],5,-701558691),o=us(o,e,r,a,t[10],9,38016083),a=us(a,o,e,r,t[15],14,-660478335),r=us(r,a,o,e,t[4],20,-405537848),e=us(e,r,a,o,t[9],5,568446438),o=us(o,e,r,a,t[14],9,-1019803690),a=us(a,o,e,r,t[3],14,-187363961),r=us(r,a,o,e,t[8],20,1163531501),e=us(e,r,a,o,t[13],5,-1444681467),o=us(o,e,r,a,t[2],9,-51403784),a=us(a,o,e,r,t[7],14,1735328473),e=cs(e,r=us(r,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=cs(o,e,r,a,t[8],11,-2022574463),a=cs(a,o,e,r,t[11],16,1839030562),r=cs(r,a,o,e,t[14],23,-35309556),e=cs(e,r,a,o,t[1],4,-1530992060),o=cs(o,e,r,a,t[4],11,1272893353),a=cs(a,o,e,r,t[7],16,-155497632),r=cs(r,a,o,e,t[10],23,-1094730640),e=cs(e,r,a,o,t[13],4,681279174),o=cs(o,e,r,a,t[0],11,-358537222),a=cs(a,o,e,r,t[3],16,-722521979),r=cs(r,a,o,e,t[6],23,76029189),e=cs(e,r,a,o,t[9],4,-640364487),o=cs(o,e,r,a,t[12],11,-421815835),a=cs(a,o,e,r,t[15],16,530742520),e=hs(e,r=cs(r,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=hs(o,e,r,a,t[7],10,1126891415),a=hs(a,o,e,r,t[14],15,-1416354905),r=hs(r,a,o,e,t[5],21,-57434055),e=hs(e,r,a,o,t[12],6,1700485571),o=hs(o,e,r,a,t[3],10,-1894986606),a=hs(a,o,e,r,t[10],15,-1051523),r=hs(r,a,o,e,t[1],21,-2054922799),e=hs(e,r,a,o,t[8],6,1873313359),o=hs(o,e,r,a,t[15],10,-30611744),a=hs(a,o,e,r,t[6],15,-1560198380),r=hs(r,a,o,e,t[13],21,1309151649),e=hs(e,r,a,o,t[4],6,-145523070),o=hs(o,e,r,a,t[11],10,-1120210379),a=hs(a,o,e,r,t[2],15,718787259),r=hs(r,a,o,e,t[9],21,-343485551),n[0]=_u(e,n[0]),n[1]=_u(r,n[1]),n[2]=_u(a,n[2]),n[3]=_u(o,n[3])}function u1(n,t,e,r,a,o){return t=_u(_u(t,n),_u(r,o)),_u(t<<a|t>>>32-a,e)}function ls(n,t,e,r,a,o,u){return u1(t&e|~t&r,n,t,a,o,u)}function us(n,t,e,r,a,o,u){return u1(t&r|e&~r,n,t,a,o,u)}function cs(n,t,e,r,a,o,u){return u1(t^e^r,n,t,a,o,u)}function hs(n,t,e,r,a,o,u){return u1(e^(t|~r),n,t,a,o,u)}function p4(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Dm(r,$T(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Dm(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,Dm(r,a),r}function $T(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var R_="0123456789abcdef".split("");function JT(n){for(var t="",e=0;e<4;e++)t+=R_[n>>8*e+4&15]+R_[n>>8*e&15];return t}function ZT(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function a0(n){return p4(n).map(ZT).join("")}var tN=(function(n){for(var t=0;t<n.length;t++)n[t]=JT(n[t]);return n.join("")})(p4("hello"))!="5d41402abc4b2a76b9719d911017c592";function _u(n,t){if(tN){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function o0(n,t){var e,r,a,o;if(n!==e){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],f=0;f<256;f++)h[f]=f;var p=0;for(f=0;f<256;f++){var v=h[f];p=(p+v+u.charCodeAt(f))%256,h[f]=h[p],h[p]=v}e=n,r=h}else h=r;var A=t.length,N=0,b=0,V="";for(f=0;f<A;f++)b=(b+(v=h[N=(N+1)%256]))%256,h[N]=h[b],h[b]=v,u=h[(h[N]+h[b])%256],V+=String.fromCharCode(t.charCodeAt(f)^u);return V}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var x_={print:4,modify:8,copy:16,"annot-forms":32};function uh(n,t,e,r){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(x_.perm!==void 0)throw new Error("Invalid permission: "+h);a+=x_[h]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(t+this.padding).substr(0,32),u=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=a0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=o0(this.encryptionKey,this.padding)}function ch(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var a=n.charCodeAt(r);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return t}function L_(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!a],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var u=t[e][o];try{u[0].apply(n,r)}catch(h){Ke.console&&li.error("jsPDF PubSub Error",h.message,h)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Up(n){if(!(this instanceof Up))return new Up(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function g4(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function rc(n,t,e,r,a){if(!(this instanceof rc))return new rc(n,t,e,r,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,g4.call(this,r,a)}function gh(n,t,e,r,a){if(!(this instanceof gh))return new gh(n,t,e,r,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,g4.call(this,r,a)}function Ae(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],u=[],h=1,f=16,p="S",v=null;Xn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),p=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",e=(""+(e||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,N={},b={internal:{},__private__:{}};b.__private__.PubSub=L_;var V="1.3",B=b.__private__.getPdfVersion=function(){return V};b.__private__.setPdfVersion=function(w){V=w};var z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return z};var U=b.__private__.getPageFormat=function(w){return z[w]};a=a||"a4";var rt="compat",tt="advanced",J=rt;function vt(){this.saveGraphicsState(),at(new we(ke,0,0,-ke,0,Ss()*ke).toString()+" cm"),this.setFontSize(this.getFontSize()/ke),p="n",J=tt}function pt(){this.restoreGraphicsState(),p="S",J=rt}var j=b.__private__.combineFontStyleAndFontWeight=function(w,P){if(w=="bold"&&P=="normal"||w=="bold"&&P==400||w=="normal"&&P=="italic"||w=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(w=P==400||P==="normal"?w==="italic"?"italic":"normal":P!=700&&P!=="bold"||w!=="normal"?(P==700?"bold":P)+""+w:"bold"),w};b.advancedAPI=function(w){var P=J===rt;return P&&vt.call(this),typeof w!="function"||(w(this),P&&pt.call(this)),this},b.compatAPI=function(w){var P=J===tt;return P&&pt.call(this),typeof w!="function"||(w(this),P&&vt.call(this)),this},b.isAdvancedAPI=function(){return J===tt};var O,R=function(w){if(J!==tt)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=b.roundToPrecision=b.__private__.roundToPrecision=function(w,P){var nt=t||P;if(isNaN(w)||isNaN(nt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(nt).replace(/0+$/,"")};O=b.hpf=b.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return F(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return F(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return F(w,16)};var S=b.f2=b.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return F(w,2)},C=b.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return F(w,3)},L=b.scale=b.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return J===rt?w*ke:J===tt?w:void 0},Z=function(w){return L((function(P){return J===rt?Ss()-P:J===tt?P:void 0})(w))};b.__private__.setPrecision=b.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var bt,st="00000000000000000000000000000000",dt=b.__private__.getFileId=function(){return st},ht=b.__private__.setFileId=function(w){return st=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():st.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Hn=new uh(v.userPermissions,v.userPassword,v.ownerPassword,st)),st};b.setFileId=function(w){return ht(w),this},b.getFileId=function(){return dt()};var Ct=b.__private__.convertDateToPDFDate=function(w){var P=w.getTimezoneOffset(),nt=P<0?"+":"-",ct=Math.floor(Math.abs(P/60)),_t=Math.abs(P%60),Vt=[nt,$(ct),"'",$(_t),"'"].join("");return["D:",w.getFullYear(),$(w.getMonth()+1),$(w.getDate()),$(w.getHours()),$(w.getMinutes()),$(w.getSeconds()),Vt].join("")},Ft=b.__private__.convertPDFDateToDate=function(w){var P=parseInt(w.substr(2,4),10),nt=parseInt(w.substr(6,2),10)-1,ct=parseInt(w.substr(8,2),10),_t=parseInt(w.substr(10,2),10),Vt=parseInt(w.substr(12,2),10),Qt=parseInt(w.substr(14,2),10);return new Date(P,nt,ct,_t,Vt,Qt,0)},W=b.__private__.setCreationDate=function(w){var P;if(w===void 0&&(w=new Date),w instanceof Date)P=Ct(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=w}return bt=P},D=b.__private__.getCreationDate=function(w){var P=bt;return w==="jsDate"&&(P=Ft(bt)),P};b.setCreationDate=function(w){return W(w),this},b.getCreationDate=function(w){return D(w)};var Y,$=b.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ot=b.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ut=0,mt=[],Nt=[],St=0,Ut=[],Wt=[],ee=!1,ne=Nt;b.__private__.setCustomOutputDestination=function(w){ee=!0,ne=w};var Dt=function(w){ee||(ne=w)};b.__private__.resetCustomOutputDestination=function(){ee=!1,ne=Nt};var at=b.__private__.out=function(w){return w=w.toString(),St+=w.length+1,ne.push(w),ne},We=b.__private__.write=function(w){return at(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},qe=b.__private__.getArrayBuffer=function(w){for(var P=w.length,nt=new ArrayBuffer(P),ct=new Uint8Array(nt);P--;)ct[P]=w.charCodeAt(P);return nt},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return be};var Gt=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(w){return Gt=J===tt?w/ke:w,this};var ie,te=b.__private__.getFontSize=b.getFontSize=function(){return J===rt?Gt:Gt*ke},Qe=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(w){return Qe=w,this},b.__private__.getR2L=b.getR2L=function(){return Qe};var ve,Ge=b.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ie=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ie=w}else ie=parseInt(w,10)};b.__private__.getZoomMode=function(){return ie};var De,Ue=b.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');ve=w};b.__private__.getPageMode=function(){return ve};var En=b.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');De=w};b.__private__.getLayoutMode=function(){return De},b.__private__.setDisplayMode=b.setDisplayMode=function(w,P,nt){return Ge(w),En(P),Ue(nt),this};var Pe={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(w){if(Object.keys(Pe).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pe[w]},b.__private__.getDocumentProperties=function(){return Pe},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(w){for(var P in Pe)Pe.hasOwnProperty(P)&&w[P]&&(Pe[P]=w[P]);return this},b.__private__.setDocumentProperty=function(w,P){if(Object.keys(Pe).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pe[w]=P};var _e,ke,me,Mn,en,re={},Ee={},Ve=[],Ne={},rn={},ze={},xn={},ri=null,He=0,Se=[],sn=new L_(b),sr=n.hotfixes||[],Wi={},xs={},qi=[],we=function w(P,nt,ct,_t,Vt,Qt){if(!(this instanceof w))return new w(P,nt,ct,_t,Vt,Qt);isNaN(P)&&(P=1),isNaN(nt)&&(nt=0),isNaN(ct)&&(ct=0),isNaN(_t)&&(_t=1),isNaN(Vt)&&(Vt=0),isNaN(Qt)&&(Qt=0),this._matrix=[P,nt,ct,_t,Vt,Qt]};Object.defineProperty(we.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(we.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(we.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(we.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(we.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(we.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(we.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(we.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(we.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(we.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(we.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(we.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(we.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(we.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(we.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(we.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),we.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(w)},we.prototype.multiply=function(w){var P=w.sx*this.sx+w.shy*this.shx,nt=w.sx*this.shy+w.shy*this.sy,ct=w.shx*this.sx+w.sy*this.shx,_t=w.shx*this.shy+w.sy*this.sy,Vt=w.tx*this.sx+w.ty*this.shx+this.tx,Qt=w.tx*this.shy+w.ty*this.sy+this.ty;return new we(P,nt,ct,_t,Vt,Qt)},we.prototype.decompose=function(){var w=this.sx,P=this.shy,nt=this.shx,ct=this.sy,_t=this.tx,Vt=this.ty,Qt=Math.sqrt(w*w+P*P),oe=(w/=Qt)*nt+(P/=Qt)*ct;nt-=w*oe,ct-=P*oe;var he=Math.sqrt(nt*nt+ct*ct);return oe/=he,w*(ct/=he)<P*(nt/=he)&&(w=-w,P=-P,oe=-oe,Qt=-Qt),{scale:new we(Qt,0,0,he,0,0),translate:new we(1,0,0,1,_t,Vt),rotate:new we(w,P,-P,w,0,0),skew:new we(1,0,oe,1,0,0)}},we.prototype.toString=function(w){return this.join(" ")},we.prototype.inversed=function(){var w=this.sx,P=this.shy,nt=this.shx,ct=this.sy,_t=this.tx,Vt=this.ty,Qt=1/(w*ct-P*nt),oe=ct*Qt,he=-P*Qt,Ie=-nt*Qt,ye=w*Qt;return new we(oe,he,Ie,ye,-oe*_t-Ie*Vt,-he*_t-ye*Vt)},we.prototype.applyToPoint=function(w){var P=w.x*this.sx+w.y*this.shx+this.tx,nt=w.x*this.shy+w.y*this.sy+this.ty;return new Cr(P,nt)},we.prototype.applyToRectangle=function(w){var P=this.applyToPoint(w),nt=this.applyToPoint(new Cr(w.x+w.w,w.y+w.h));return new Os(P.x,P.y,nt.x-P.x,nt.y-P.y)},we.prototype.clone=function(){var w=this.sx,P=this.shy,nt=this.shx,ct=this.sy,_t=this.tx,Vt=this.ty;return new we(w,P,nt,ct,_t,Vt)},b.Matrix=we;var ea=b.matrixMult=function(w,P){return P.multiply(w)},Vr=new we(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Vr;var wr=function(w,P){if(!rn[w]){var nt=(P instanceof rc?"Sh":"P")+(Object.keys(Ne).length+1).toString(10);P.id=nt,rn[w]=nt,Ne[nt]=P,sn.publish("addPattern",P)}};b.ShadingPattern=rc,b.TilingPattern=gh,b.addShadingPattern=function(w,P){return R("addShadingPattern()"),wr(w,P),this},b.beginTilingPattern=function(w){R("beginTilingPattern()"),Ds(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},b.endTilingPattern=function(w,P){R("endTilingPattern()"),P.stream=Wt[Y].join(`
`),wr(w,P),sn.publish("endTilingPattern",P),qi.pop().restore()};var Ar,jn=b.__private__.newObject=function(){var w=Wn();return ki(w,!0),w},Wn=b.__private__.newObjectDeferred=function(){return ut++,mt[ut]=function(){return St},ut},ki=function(w,P){return P=typeof P=="boolean"&&P,mt[w]=St,P&&at(w+" 0 obj"),w},ar=b.__private__.newAdditionalObject=function(){var w={objId:Wn(),content:""};return Ut.push(w),w},$i=Wn(),Ln=Wn(),zn=b.__private__.decodeColorString=function(w){var P=w.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var nt=parseFloat(P[0]);P=[nt,nt,nt,"r"]}for(var ct="#",_t=0;_t<3;_t++)ct+=("0"+Math.floor(255*parseFloat(P[_t])).toString(16)).slice(-2);return ct},Oi=b.__private__.encodeColorString=function(w){var P;typeof w=="string"&&(w={ch1:w});var nt=w.ch1,ct=w.ch2,_t=w.ch3,Vt=w.ch4,Qt=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof nt=="string"&&nt.charAt(0)!=="#"){var oe=new d4(nt);if(oe.ok)nt=oe.toHex();else if(!/^\d*\.?\d*$/.test(nt))throw new Error('Invalid color "'+nt+'" passed to jsPDF.encodeColorString.')}if(typeof nt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(nt)&&(nt="#"+nt[1]+nt[1]+nt[2]+nt[2]+nt[3]+nt[3]),typeof nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(nt)){var he=parseInt(nt.substr(1),16);nt=he>>16&255,ct=he>>8&255,_t=255&he}if(ct===void 0||Vt===void 0&&nt===ct&&ct===_t)P=typeof nt=="string"?nt+" "+Qt[0]:w.precision===2?S(nt/255)+" "+Qt[0]:C(nt/255)+" "+Qt[0];else if(Vt===void 0||Xn(Vt)==="object"){if(Vt&&!isNaN(Vt.a)&&Vt.a===0)return["1.","1.","1.",Qt[1]].join(" ");P=typeof nt=="string"?[nt,ct,_t,Qt[1]].join(" "):w.precision===2?[S(nt/255),S(ct/255),S(_t/255),Qt[1]].join(" "):[C(nt/255),C(ct/255),C(_t/255),Qt[1]].join(" ")}else P=typeof nt=="string"?[nt,ct,_t,Vt,Qt[2]].join(" "):w.precision===2?[S(nt),S(ct),S(_t),S(Vt),Qt[2]].join(" "):[C(nt),C(ct),C(_t),C(Vt),Qt[2]].join(" ");return P},Er=b.__private__.getFilters=function(){return u},es=b.__private__.putStream=function(w){var P=(w=w||{}).data||"",nt=w.filters||Er(),ct=w.alreadyAppliedFilters||[],_t=w.addLength1||!1,Vt=P.length,Qt=w.objectId,oe=function(T){return T};if(v!==null&&Qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(oe=Hn.encryptor(Qt,0));var he={};nt===!0&&(nt=["FlateEncode"]);var Ie=w.additionalKeyValues||[],ye=(he=Ae.API.processDataByFilters!==void 0?Ae.API.processDataByFilters(P,nt):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ct)?ct.join(" "):ct.toString());if(he.data.length!==0&&(Ie.push({key:"Length",value:he.data.length}),_t===!0&&Ie.push({key:"Length1",value:Vt})),ye.length!=0)if(ye.split("/").length-1==1)Ie.push({key:"Filter",value:ye});else{Ie.push({key:"Filter",value:"["+ye+"]"});for(var gn=0;gn<Ie.length;gn+=1)if(Ie[gn].key==="DecodeParms"){for(var $n=[],Fn=0;Fn<he.reverseChain.split("/").length-1;Fn+=1)$n.push("null");$n.push(Ie[gn].value),Ie[gn].value="["+$n.join(" ")+"]"}}at("<<");for(var g=0;g<Ie.length;g++)at("/"+Ie[g].key+" "+Ie[g].value);at(">>"),he.data.length!==0&&(at("stream"),at(oe(he.data)),at("endstream"))},va=b.__private__.putPage=function(w){var P=w.number,nt=w.data,ct=w.objId,_t=w.contentsObjId;ki(ct,!0),at("<</Type /Page"),at("/Parent "+w.rootDictionaryObjId+" 0 R"),at("/Resources "+w.resourceDictionaryObjId+" 0 R"),at("/MediaBox ["+parseFloat(O(w.mediaBox.bottomLeftX))+" "+parseFloat(O(w.mediaBox.bottomLeftY))+" "+O(w.mediaBox.topRightX)+" "+O(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&at("/CropBox ["+O(w.cropBox.bottomLeftX)+" "+O(w.cropBox.bottomLeftY)+" "+O(w.cropBox.topRightX)+" "+O(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&at("/BleedBox ["+O(w.bleedBox.bottomLeftX)+" "+O(w.bleedBox.bottomLeftY)+" "+O(w.bleedBox.topRightX)+" "+O(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&at("/TrimBox ["+O(w.trimBox.bottomLeftX)+" "+O(w.trimBox.bottomLeftY)+" "+O(w.trimBox.topRightX)+" "+O(w.trimBox.topRightY)+"]"),w.artBox!==null&&at("/ArtBox ["+O(w.artBox.bottomLeftX)+" "+O(w.artBox.bottomLeftY)+" "+O(w.artBox.topRightX)+" "+O(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&at("/UserUnit "+w.userUnit),sn.publish("putPage",{objId:ct,pageContext:Se[P],pageNumber:P,page:nt}),at("/Contents "+_t+" 0 R"),at(">>"),at("endobj");var Vt=nt.join(`
`);return J===tt&&(Vt+=`
Q`),ki(_t,!0),es({data:Vt,filters:Er(),objectId:_t}),at("endobj"),ct},ms=b.__private__.putPages=function(){var w,P,nt=[];for(w=1;w<=He;w++)Se[w].objId=Wn(),Se[w].contentsObjId=Wn();for(w=1;w<=He;w++)nt.push(va({number:w,data:Wt[w],objId:Se[w].objId,contentsObjId:Se[w].contentsObjId,mediaBox:Se[w].mediaBox,cropBox:Se[w].cropBox,bleedBox:Se[w].bleedBox,trimBox:Se[w].trimBox,artBox:Se[w].artBox,userUnit:Se[w].userUnit,rootDictionaryObjId:$i,resourceDictionaryObjId:Ln}));ki($i,!0),at("<</Type /Pages");var ct="/Kids [";for(P=0;P<He;P++)ct+=nt[P]+" 0 R ";at(ct+"]"),at("/Count "+He),at(">>"),at("endobj"),sn.publish("postPutPages")},Sr=function(w){sn.publish("putFont",{font:w,out:at,newObject:jn,putStream:es}),w.isAlreadyPutted!==!0&&(w.objectNumber=jn(),at("<<"),at("/Type /Font"),at("/BaseFont /"+ch(w.postScriptName)),at("/Subtype /Type1"),typeof w.encoding=="string"&&at("/Encoding /"+w.encoding),at("/FirstChar 32"),at("/LastChar 255"),at(">>"),at("endobj"))},na=function(w){w.objectNumber=jn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[O(w.x),O(w.y),O(w.x+w.width),O(w.y+w.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var nt=w.pages[1].join(`
`);es({data:nt,additionalKeyValues:P,objectId:w.objectNumber}),at("endobj")},Br=function(w,P){P||(P=21);var nt=jn(),ct=(function(Qt,oe){var he,Ie=[],ye=1/(oe-1);for(he=0;he<1;he+=ye)Ie.push(he);if(Ie.push(1),Qt[0].offset!=0){var gn={offset:0,color:Qt[0].color};Qt.unshift(gn)}if(Qt[Qt.length-1].offset!=1){var $n={offset:1,color:Qt[Qt.length-1].color};Qt.push($n)}for(var Fn="",g=0,T=0;T<Ie.length;T++){for(he=Ie[T];he>Qt[g+1].offset;)g++;var k=Qt[g].offset,Q=(he-k)/(Qt[g+1].offset-k),At=Qt[g].color,xt=Qt[g+1].color;Fn+=ot(Math.round((1-Q)*At[0]+Q*xt[0]).toString(16))+ot(Math.round((1-Q)*At[1]+Q*xt[1]).toString(16))+ot(Math.round((1-Q)*At[2]+Q*xt[2]).toString(16))}return Fn.trim()})(w.colors,P),_t=[];_t.push({key:"FunctionType",value:"0"}),_t.push({key:"Domain",value:"[0.0 1.0]"}),_t.push({key:"Size",value:"["+P+"]"}),_t.push({key:"BitsPerSample",value:"8"}),_t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),es({data:ct,additionalKeyValues:_t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:nt}),at("endobj"),w.objectNumber=jn(),at("<< /ShadingType "+w.type),at("/ColorSpace /DeviceRGB");var Vt="/Coords ["+O(parseFloat(w.coords[0]))+" "+O(parseFloat(w.coords[1]))+" ";w.type===2?Vt+=O(parseFloat(w.coords[2]))+" "+O(parseFloat(w.coords[3])):Vt+=O(parseFloat(w.coords[2]))+" "+O(parseFloat(w.coords[3]))+" "+O(parseFloat(w.coords[4]))+" "+O(parseFloat(w.coords[5])),at(Vt+="]"),w.matrix&&at("/Matrix ["+w.matrix.toString()+"]"),at("/Function "+nt+" 0 R"),at("/Extend [true true]"),at(">>"),at("endobj")},or=function(w,P){var nt=Wn(),ct=jn();P.push({resourcesOid:nt,objectOid:ct}),w.objectNumber=ct;var _t=[];_t.push({key:"Type",value:"/Pattern"}),_t.push({key:"PatternType",value:"1"}),_t.push({key:"PaintType",value:"1"}),_t.push({key:"TilingType",value:"1"}),_t.push({key:"BBox",value:"["+w.boundingBox.map(O).join(" ")+"]"}),_t.push({key:"XStep",value:O(w.xStep)}),_t.push({key:"YStep",value:O(w.yStep)}),_t.push({key:"Resources",value:nt+" 0 R"}),w.matrix&&_t.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),es({data:w.stream,additionalKeyValues:_t,objectId:w.objectNumber}),at("endobj")},jr=function(w){for(var P in w.objectNumber=jn(),at("<<"),w)switch(P){case"opacity":at("/ca "+S(w[P]));break;case"stroke-opacity":at("/CA "+S(w[P]))}at(">>"),at("endobj")},ns=function(w){ki(w.resourcesOid,!0),at("<<"),at("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in at("/Font <<"),re)re.hasOwnProperty(P)&&(A===!1||A===!0&&N.hasOwnProperty(P))&&at("/"+P+" "+re[P].objectNumber+" 0 R");at(">>")})(),(function(){if(Object.keys(Ne).length>0){for(var P in at("/Shading <<"),Ne)Ne.hasOwnProperty(P)&&Ne[P]instanceof rc&&Ne[P].objectNumber>=0&&at("/"+P+" "+Ne[P].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),at(">>")}})(),(function(P){if(Object.keys(Ne).length>0){for(var nt in at("/Pattern <<"),Ne)Ne.hasOwnProperty(nt)&&Ne[nt]instanceof b.TilingPattern&&Ne[nt].objectNumber>=0&&Ne[nt].objectNumber<P&&at("/"+nt+" "+Ne[nt].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),at(">>")}})(w.objectOid),(function(){if(Object.keys(ze).length>0){var P;for(P in at("/ExtGState <<"),ze)ze.hasOwnProperty(P)&&ze[P].objectNumber>=0&&at("/"+P+" "+ze[P].objectNumber+" 0 R");sn.publish("putGStateDict"),at(">>")}})(),(function(){for(var P in at("/XObject <<"),Wi)Wi.hasOwnProperty(P)&&Wi[P].objectNumber>=0&&at("/"+P+" "+Wi[P].objectNumber+" 0 R");sn.publish("putXobjectDict"),at(">>")})(),at(">>"),at("endobj")},ci=function(w){Ee[w.fontName]=Ee[w.fontName]||{},Ee[w.fontName][w.fontStyle]=w.id},ho=function(w,P,nt,ct,_t){var Vt={id:"F"+(Object.keys(re).length+1).toString(10),postScriptName:w,fontName:P,fontStyle:nt,encoding:ct,isStandardFont:_t||!1,metadata:{}};return sn.publish("addFont",{font:Vt,instance:this}),re[Vt.id]=Vt,ci(Vt),Vt.id},Tr=b.__private__.pdfEscape=b.pdfEscape=function(w,P){return(function(nt,ct){var _t,Vt,Qt,oe,he,Ie,ye,gn,$n;if(Qt=(ct=ct||{}).sourceEncoding||"Unicode",he=ct.outputEncoding,(ct.autoencode||he)&&re[_e].metadata&&re[_e].metadata[Qt]&&re[_e].metadata[Qt].encoding&&(oe=re[_e].metadata[Qt].encoding,!he&&re[_e].encoding&&(he=re[_e].encoding),!he&&oe.codePages&&(he=oe.codePages[0]),typeof he=="string"&&(he=oe[he]),he)){for(ye=!1,Ie=[],_t=0,Vt=nt.length;_t<Vt;_t++)(gn=he[nt.charCodeAt(_t)])?Ie.push(String.fromCharCode(gn)):Ie.push(nt[_t]),Ie[_t].charCodeAt(0)>>8&&(ye=!0);nt=Ie.join("")}for(_t=nt.length;ye===void 0&&_t!==0;)nt.charCodeAt(_t-1)>>8&&(ye=!0),_t--;if(!ye)return nt;for(Ie=ct.noBOM?[]:[254,255],_t=0,Vt=nt.length;_t<Vt;_t++){if(($n=(gn=nt.charCodeAt(_t))>>8)>>8)throw new Error("Character at position "+_t+" of string '"+nt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ie.push($n),Ie.push(gn-($n<<8))}return String.fromCharCode.apply(void 0,Ie)})(w,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},is=b.__private__.beginPage=function(w){Wt[++He]=[],Se[He]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},fo(He),Dt(Wt[Y])},ys=function(w,P){var nt,ct,_t;switch(e=P||e,typeof w=="string"&&(nt=U(w.toLowerCase()),Array.isArray(nt)&&(ct=nt[0],_t=nt[1])),Array.isArray(w)&&(ct=w[0]*ke,_t=w[1]*ke),isNaN(ct)&&(ct=a[0],_t=a[1]),(ct>14400||_t>14400)&&(li.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ct=Math.min(14400,ct),_t=Math.min(14400,_t)),a=[ct,_t],e.substr(0,1)){case"l":_t>ct&&(a=[_t,ct]);break;case"p":ct>_t&&(a=[_t,ct])}is(a),Ls(Ir),at(qr),zr!==0&&at(zr+" J"),Ni!==0&&at(Ni+" j"),sn.publish("addPage",{pageNumber:He})},Va=function(w){w>0&&w<=He&&(Wt.splice(w,1),Se.splice(w,1),He--,Y>He&&(Y=He),this.setPage(Y))},fo=function(w){w>0&&w<=He&&(Y=w)},po=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Wt.length-1},Zo=function(w,P,nt){var ct,_t=void 0;return nt=nt||{},w=w!==void 0?w:re[_e].fontName,P=P!==void 0?P:re[_e].fontStyle,ct=w.toLowerCase(),Ee[ct]!==void 0&&Ee[ct][P]!==void 0?_t=Ee[ct][P]:Ee[w]!==void 0&&Ee[w][P]!==void 0?_t=Ee[w][P]:nt.disableWarning===!1&&li.warn("Unable to look up font label for font '"+w+"', '"+P+"'. Refer to getFontList() for available fonts."),_t||nt.noFallback||(_t=Ee.times[P])==null&&(_t=Ee.times.normal),_t},ia=b.__private__.putInfo=function(){var w=jn(),P=function(ct){return ct};for(var nt in v!==null&&(P=Hn.encryptor(w,0)),at("<<"),at("/Producer ("+Tr(P("jsPDF "+Ae.version))+")"),Pe)Pe.hasOwnProperty(nt)&&Pe[nt]&&at("/"+nt.substr(0,1).toUpperCase()+nt.substr(1)+" ("+Tr(P(Pe[nt]))+")");at("/CreationDate ("+Tr(P(bt))+")"),at(">>"),at("endobj")},Fr=b.__private__.putCatalog=function(w){var P=(w=w||{}).rootDictionaryObjId||$i;switch(jn(),at("<<"),at("/Type /Catalog"),at("/Pages "+P+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":at("/OpenAction [3 0 R /FitH null]");break;case"fullheight":at("/OpenAction [3 0 R /FitV null]");break;case"fullpage":at("/OpenAction [3 0 R /Fit]");break;case"original":at("/OpenAction [3 0 R /XYZ null null 1]");break;default:var nt=""+ie;nt.substr(nt.length-1)==="%"&&(ie=parseInt(ie)/100),typeof ie=="number"&&at("/OpenAction [3 0 R /XYZ null null "+S(ie)+"]")}switch(De||(De="continuous"),De){case"continuous":at("/PageLayout /OneColumn");break;case"single":at("/PageLayout /SinglePage");break;case"two":case"twoleft":at("/PageLayout /TwoColumnLeft");break;case"tworight":at("/PageLayout /TwoColumnRight")}ve&&at("/PageMode /"+ve),sn.publish("putCatalog"),at(">>"),at("endobj")},an=b.__private__.putTrailer=function(){at("trailer"),at("<<"),at("/Size "+(ut+1)),at("/Root "+ut+" 0 R"),at("/Info "+(ut-1)+" 0 R"),v!==null&&at("/Encrypt "+Hn.oid+" 0 R"),at("/ID [ <"+st+"> <"+st+"> ]"),at(">>")},Si=b.__private__.putHeader=function(){at("%PDF-"+V),at("%ºß¬à")},ra=b.__private__.putXRef=function(){var w="0000000000";at("xref"),at("0 "+(ut+1)),at("0000000000 65535 f ");for(var P=1;P<=ut;P++)typeof mt[P]=="function"?at((w+mt[P]()).slice(-10)+" 00000 n "):mt[P]!==void 0?at((w+mt[P]).slice(-10)+" 00000 n "):at("0000000000 00000 n ")},vs=b.__private__.buildDocument=function(){var w;ut=0,St=0,Nt=[],mt=[],Ut=[],$i=Wn(),Ln=Wn(),Dt(Nt),sn.publish("buildDocument"),Si(),ms(),(function(){sn.publish("putAdditionalObjects");for(var nt=0;nt<Ut.length;nt++){var ct=Ut[nt];ki(ct.objId,!0),at(ct.content),at("endobj")}sn.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var nt in re)re.hasOwnProperty(nt)&&(A===!1||A===!0&&N.hasOwnProperty(nt))&&Sr(re[nt])})(),(function(){var nt;for(nt in ze)ze.hasOwnProperty(nt)&&jr(ze[nt])})(),(function(){for(var nt in Wi)Wi.hasOwnProperty(nt)&&na(Wi[nt])})(),(function(nt){var ct;for(ct in Ne)Ne.hasOwnProperty(ct)&&(Ne[ct]instanceof rc?Br(Ne[ct]):Ne[ct]instanceof gh&&or(Ne[ct],nt))})(w),sn.publish("putResources"),w.forEach(ns),ns({resourcesOid:Ln,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources"),v!==null&&(Hn.oid=jn(),at("<<"),at("/Filter /Standard"),at("/V "+Hn.v),at("/R "+Hn.r),at("/U <"+Hn.toHexString(Hn.U)+">"),at("/O <"+Hn.toHexString(Hn.O)+">"),at("/P "+Hn.P),at(">>"),at("endobj")),ia(),Fr();var P=St;return ra(),an(),at("startxref"),at(""+P),at("%%EOF"),Dt(Wt[Y]),Nt.join(`
`)},hn=b.__private__.getBlob=function(w){return new Blob([qe(w)],{type:"application/pdf"})},lr=b.output=b.__private__.output=(Ar=function(w,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",w){case void 0:return vs();case"save":b.save(P.filename);break;case"arraybuffer":return qe(vs());case"blob":return hn(vs());case"bloburi":case"bloburl":if(Ke.URL!==void 0&&typeof Ke.URL.createObjectURL=="function")return Ke.URL&&Ke.URL.createObjectURL(hn(vs()))||void 0;li.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var nt="",ct=vs();try{nt=C_(ct)}catch{nt=C_(unescape(encodeURIComponent(ct)))}return"data:application/pdf;filename="+P.filename+";base64,"+nt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ke)==="[object Window]"){var _t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Vt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(_t=P.pdfObjectUrl,Vt="");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_t+'"'+Vt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",oe=Ke.open();return oe!==null&&oe.document.write(Qt),oe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ke)==="[object Window]"){var he='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Ie=Ke.open();if(Ie!==null){Ie.document.write(he);var ye=this;Ie.document.documentElement.querySelector("#pdfViewer").onload=function(){Ie.document.title=P.filename,Ie.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ye.output("bloburl"))}}return Ie}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ke)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',$n=Ke.open();if($n!==null&&($n.document.write(gn),$n.document.title=P.filename),$n||typeof safari>"u")return $n;break;case"datauri":case"dataurl":return Ke.document.location.href=this.output("datauristring",P);default:return null}},Ar.foo=function(){try{return Ar.apply(this,arguments)}catch(nt){var w=nt.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var P="Error in function "+w.split(`
`)[0].split("<")[0]+": "+nt.message;if(!Ke.console)throw new Error(P);Ke.console.error(P,nt),Ke.alert&&alert(P)}},Ar.foo.bar=Ar,Ar.foo),Nr=function(w){return Array.isArray(sr)===!0&&sr.indexOf(w)>-1};switch(r){case"pt":ke=1;break;case"mm":ke=72/25.4;break;case"cm":ke=72/2.54;break;case"in":ke=72;break;case"px":ke=Nr("px_scaling")==1?.75:96/72;break;case"pc":case"em":ke=12;break;case"ex":ke=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ke=r}var Hn=null;W(),ht();var Ji=b.__private__.getPageInfo=b.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[w].objId,pageNumber:w,pageContext:Se[w]}},go=b.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in Se)if(Se[P].objId===w)break;return Ji(P)},Ul=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Se[Y].objId,pageNumber:Y,pageContext:Se[Y]}};b.addPage=function(){return ys.apply(this,arguments),this},b.setPage=function(){return fo.apply(this,arguments),Dt.call(this,Wt[Y]),this},b.insertPage=function(w){return this.addPage(),this.movePage(Y,w),this},b.movePage=function(w,P){var nt,ct;if(w>P){nt=Wt[w],ct=Se[w];for(var _t=w;_t>P;_t--)Wt[_t]=Wt[_t-1],Se[_t]=Se[_t-1];Wt[P]=nt,Se[P]=ct,this.setPage(P)}else if(w<P){nt=Wt[w],ct=Se[w];for(var Vt=w;Vt<P;Vt++)Wt[Vt]=Wt[Vt+1],Se[Vt]=Se[Vt+1];Wt[P]=nt,Se[P]=ct,this.setPage(P)}return this},b.deletePage=function(){return Va.apply(this,arguments),this},b.__private__.text=b.text=function(w,P,nt,ct,_t){var Vt,Qt,oe,he,Ie,ye,gn,$n,Fn,g=(ct=ct||{}).scope||this;if(typeof w=="number"&&typeof P=="number"&&(typeof nt=="string"||Array.isArray(nt))){var T=nt;nt=P,P=w,w=T}if(arguments[3]instanceof we==0?(oe=arguments[4],he=arguments[5],Xn(gn=arguments[3])==="object"&&gn!==null||(typeof oe=="string"&&(he=oe,oe=null),typeof gn=="string"&&(he=gn,gn=null),typeof gn=="number"&&(oe=gn,gn=null),ct={flags:gn,angle:oe,align:he})):(R("The transform parameter of text() with a Matrix value"),Fn=_t),isNaN(P)||isNaN(nt)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return g;var k,Q="",At=typeof ct.lineHeightFactor=="number"?ct.lineHeightFactor:aa,xt=g.internal.scaleFactor;function Jt(Cn){return Cn=Cn.split("	").join(Array(ct.TabLen||9).join(" ")),Tr(Cn,gn)}function Be(Cn){for(var wn,Zn=Cn.concat(),Ci=[],Ra=Zn.length;Ra--;)typeof(wn=Zn.shift())=="string"?Ci.push(wn):Array.isArray(Cn)&&(wn.length===1||wn[1]===void 0&&wn[2]===void 0)?Ci.push(wn[0]):Ci.push([wn[0],wn[1],wn[2]]);return Ci}function Gn(Cn,wn){var Zn;if(typeof Cn=="string")Zn=wn(Cn)[0];else if(Array.isArray(Cn)){for(var Ci,Ra,ca=Cn.concat(),ol=[],Fu=ca.length;Fu--;)typeof(Ci=ca.shift())=="string"?ol.push(wn(Ci)[0]):Array.isArray(Ci)&&typeof Ci[0]=="string"&&(Ra=wn(Ci[0],Ci[1],Ci[2]),ol.push([Ra[0],Ra[1],Ra[2]]));Zn=ol}return Zn}var ln=!1,On=!0;if(typeof w=="string")ln=!0;else if(Array.isArray(w)){var Zi=w.concat();Qt=[];for(var Rr,Jn=Zi.length;Jn--;)(typeof(Rr=Zi.shift())!="string"||Array.isArray(Rr)&&typeof Rr[0]!="string")&&(On=!1);ln=On}if(ln===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var cr=Gt/g.internal.scaleFactor,Ts=cr*(At-1);switch(ct.baseline){case"bottom":nt-=Ts;break;case"top":nt+=cr-Ts;break;case"hanging":nt+=cr-2*Ts;break;case"middle":nt+=cr/2-Ts}if((ye=ct.maxWidth||0)>0&&(typeof w=="string"?w=g.splitTextToSize(w,ye):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Cn,wn){return Cn.concat(g.splitTextToSize(wn,ye))},[]))),Vt={text:w,x:P,y:nt,options:ct,mutex:{pdfEscape:Tr,activeFontKey:_e,fonts:re,activeFontSize:Gt}},sn.publish("preProcessText",Vt),w=Vt.text,oe=(ct=Vt.options).angle,Fn instanceof we==0&&oe&&typeof oe=="number"){oe*=Math.PI/180,ct.rotationDirection===0&&(oe=-oe),J===tt&&(oe=-oe);var Aa=Math.cos(oe),Ea=Math.sin(oe);Fn=new we(Aa,Ea,-Ea,Aa,0,0)}else oe&&oe instanceof we&&(Fn=oe);J!==tt||Fn||(Fn=Vr),(Ie=ct.charSpace||ks)!==void 0&&(Q+=O(L(Ie))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=ct.horizontalScale)!==void 0&&(Q+=O(100*$n)+` Tz
`),ct.lang;var vi=-1,za=ct.renderingMode!==void 0?ct.renderingMode:ct.stroke,Vl=g.internal.getCurrentPageInfo().pageContext;switch(za){case 0:case!1:case"fill":vi=0;break;case 1:case!0:case"stroke":vi=1;break;case 2:case"fillThenStroke":vi=2;break;case 3:case"invisible":vi=3;break;case 4:case"fillAndAddForClipping":vi=4;break;case 5:case"strokeAndAddPathForClipping":vi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vi=6;break;case 7:case"addToPathForClipping":vi=7}var Bu=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;vi!==-1?Q+=vi+` Tr
`:Bu!==-1&&(Q+=`0 Tr
`),vi!==-1&&(Vl.usedRenderingMode=vi),he=ct.align||"left";var Ns,la=Gt*At,Ha=g.internal.pageSize.getWidth(),ju=re[_e];Ie=ct.charSpace||ks,ye=ct.maxWidth||0,gn=Object.assign({autoencode:!0,noBOM:!0},ct.flags);var ua=[],wo=function(Cn){return g.getStringUnitWidth(Cn,{font:ju,charSpace:Ie,fontSize:Gt,doKerning:!1})*Gt/xt};if(Object.prototype.toString.call(w)==="[object Array]"){var ss;Qt=Be(w),he!=="left"&&(Ns=Qt.map(wo));var Yr,Sa=0;if(he==="right"){P-=Ns[0],w=[],Jn=Qt.length;for(var Ta=0;Ta<Jn;Ta++)Ta===0?(Yr=zi(P),ss=Di(nt)):(Yr=L(Sa-Ns[Ta]),ss=-la),w.push([Qt[Ta],Yr,ss]),Sa=Ns[Ta]}else if(he==="center"){P-=Ns[0]/2,w=[],Jn=Qt.length;for(var Ga=0;Ga<Jn;Ga++)Ga===0?(Yr=zi(P),ss=Di(nt)):(Yr=L((Sa-Ns[Ga])/2),ss=-la),w.push([Qt[Ga],Yr,ss]),Sa=Ns[Ga]}else if(he==="left"){w=[],Jn=Qt.length;for(var Bl=0;Bl<Jn;Bl++)w.push(Qt[Bl])}else if(he==="justify"&&ju.encoding==="Identity-H"){w=[],Jn=Qt.length,ye=ye!==0?ye:Ha;for(var jl=0,Ii=0;Ii<Jn;Ii++)if(ss=Ii===0?Di(nt):-la,Yr=Ii===0?zi(P):jl,Ii<Jn-1){var Tc=L((ye-Ns[Ii])/(Qt[Ii].split(" ").length-1)),Na=Qt[Ii].split(" ");w.push([Na[0]+" ",Yr,ss]),jl=0;for(var Ia=1;Ia<Na.length;Ia++){var hr=(wo(Na[Ia-1]+" "+Na[Ia])-wo(Na[Ia]))*xt+Tc;Ia==Na.length-1?w.push([Na[Ia],hr,0]):w.push([Na[Ia]+" ",hr,0]),jl-=hr}}else w.push([Qt[Ii],Yr,ss]);w.push(["",jl,0])}else{if(he!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Jn=Qt.length,ye=ye!==0?ye:Ha,Ii=0;Ii<Jn;Ii++){ss=Ii===0?Di(nt):-la,Yr=Ii===0?zi(P):0;var Ya=Qt[Ii].split(" ").length-1,Fl=Ya>0?(ye-Ns[Ii])/Ya:0;Ii<Jn-1?ua.push(O(L(Fl))):ua.push(0),w.push([Qt[Ii],Yr,ss])}}}(typeof ct.R2L=="boolean"?ct.R2L:Qe)===!0&&(w=Gn(w,function(Cn,wn,Zn){return[Cn.split("").reverse().join(""),wn,Zn]})),Vt={text:w,x:P,y:nt,options:ct,mutex:{pdfEscape:Tr,activeFontKey:_e,fonts:re,activeFontSize:Gt}},sn.publish("postProcessText",Vt),w=Vt.text,k=Vt.mutex.isHex||!1;var ql=re[_e].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(w=Gn(w,function(Cn,wn,Zn){return[Jt(Cn),wn,Zn]})),Qt=Be(w),w=[];for(var Ka,Qa,Ca,al=Array.isArray(Qt[0])?1:0,Is="",Xa=function(Cn,wn,Zn){var Ci="";return Zn instanceof we?(Zn=typeof ct.angle=="number"?ea(Zn,new we(1,0,0,1,Cn,wn)):ea(new we(1,0,0,1,Cn,wn),Zn),J===tt&&(Zn=ea(new we(1,0,0,-1,0,0),Zn)),Ci=Zn.join(" ")+` Tm
`):Ci=O(Cn)+" "+O(wn)+` Td
`,Ci},xr=0;xr<Qt.length;xr++){switch(Is="",al){case 1:Ca=(k?"<":"(")+Qt[xr][0]+(k?">":")"),Ka=parseFloat(Qt[xr][1]),Qa=parseFloat(Qt[xr][2]);break;case 0:Ca=(k?"<":"(")+Qt[xr]+(k?">":")"),Ka=zi(P),Qa=Di(nt)}ua!==void 0&&ua[xr]!==void 0&&(Is=ua[xr]+` Tw
`),xr===0?w.push(Is+Xa(Ka,Qa,Fn)+Ca):al===0?w.push(Is+Ca):al===1&&w.push(Is+Xa(Ka,Qa,Fn)+Ca)}w=al===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Ms=`BT
/`;return Ms+=_e+" "+Gt+` Tf
`,Ms+=O(Gt*At)+` TL
`,Ms+=ws+`
`,Ms+=Q,Ms+=w,at(Ms+="ET"),N[_e]=!0,g};var tl=b.__private__.clip=b.clip=function(w){return at(w==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return tl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return at("n"),this};var ur=b.__private__.isValidStyle=function(w){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(P=!0),P};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(w){return ur(w)&&(p=w),this};var el=b.__private__.getStyle=b.getStyle=function(w){var P=p;switch(w){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=w}return P},sa=b.close=function(){return at("h"),this};b.stroke=function(){return at("S"),this},b.fill=function(w){return Ti("f",w),this},b.fillEvenOdd=function(w){return Ti("f*",w),this},b.fillStroke=function(w){return Ti("B",w),this},b.fillStrokeEvenOdd=function(w){return Ti("B*",w),this};var Ti=function(w,P){Xn(P)==="object"?il(P,w):at(w)},mo=function(w){w===null||J===tt&&w===void 0||(w=el(w),at(w))};function nl(w,P,nt,ct,_t){var Vt=new gh(P||this.boundingBox,nt||this.xStep,ct||this.yStep,this.gState,_t||this.matrix);Vt.stream=this.stream;var Qt=w+"$$"+this.cloneIndex+++"$$";return wr(Qt,Vt),Vt}var il=function(w,P){var nt=rn[w.key],ct=Ne[nt];if(ct instanceof rc)at("q"),at(yo(P)),ct.gState&&b.setGState(ct.gState),at(w.matrix.toString()+" cm"),at("/"+nt+" sh"),at("Q");else if(ct instanceof gh){var _t=new we(1,0,0,-1,0,Ss());w.matrix&&(_t=_t.multiply(w.matrix||Vr),nt=nl.call(ct,w.key,w.boundingBox,w.xStep,w.yStep,_t).id),at("q"),at("/Pattern cs"),at("/"+nt+" scn"),ct.gState&&b.setGState(ct.gState),at(P),at("Q")}},yo=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},vo=b.moveTo=function(w,P){return at(O(L(w))+" "+O(Z(P))+" m"),this},rs=b.lineTo=function(w,P){return at(O(L(w))+" "+O(Z(P))+" l"),this},_s=b.curveTo=function(w,P,nt,ct,_t,Vt){return at([O(L(w)),O(Z(P)),O(L(nt)),O(Z(ct)),O(L(_t)),O(Z(Vt)),"c"].join(" ")),this};b.__private__.line=b.line=function(w,P,nt,ct,_t){if(isNaN(w)||isNaN(P)||isNaN(nt)||isNaN(ct)||!ur(_t))throw new Error("Invalid arguments passed to jsPDF.line");return J===rt?this.lines([[nt-w,ct-P]],w,P,[1,1],_t||"S"):this.lines([[nt-w,ct-P]],w,P,[1,1]).stroke()},b.__private__.lines=b.lines=function(w,P,nt,ct,_t,Vt){var Qt,oe,he,Ie,ye,gn,$n,Fn,g,T,k,Q;if(typeof w=="number"&&(Q=nt,nt=P,P=w,w=Q),ct=ct||[1,1],Vt=Vt||!1,isNaN(P)||isNaN(nt)||!Array.isArray(w)||!Array.isArray(ct)||!ur(_t)||typeof Vt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vo(P,nt),Qt=ct[0],oe=ct[1],Ie=w.length,T=P,k=nt,he=0;he<Ie;he++)(ye=w[he]).length===2?(T=ye[0]*Qt+T,k=ye[1]*oe+k,rs(T,k)):(gn=ye[0]*Qt+T,$n=ye[1]*oe+k,Fn=ye[2]*Qt+T,g=ye[3]*oe+k,T=ye[4]*Qt+T,k=ye[5]*oe+k,_s(gn,$n,Fn,g,T,k));return Vt&&sa(),mo(_t),this},b.path=function(w){for(var P=0;P<w.length;P++){var nt=w[P],ct=nt.c;switch(nt.op){case"m":vo(ct[0],ct[1]);break;case"l":rs(ct[0],ct[1]);break;case"c":_s.apply(this,ct);break;case"h":sa()}}return this},b.__private__.rect=b.rect=function(w,P,nt,ct,_t){if(isNaN(w)||isNaN(P)||isNaN(nt)||isNaN(ct)||!ur(_t))throw new Error("Invalid arguments passed to jsPDF.rect");return J===rt&&(ct=-ct),at([O(L(w)),O(Z(P)),O(L(nt)),O(L(ct)),"re"].join(" ")),mo(_t),this},b.__private__.triangle=b.triangle=function(w,P,nt,ct,_t,Vt,Qt){if(isNaN(w)||isNaN(P)||isNaN(nt)||isNaN(ct)||isNaN(_t)||isNaN(Vt)||!ur(Qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[nt-w,ct-P],[_t-nt,Vt-ct],[w-_t,P-Vt]],w,P,[1,1],Qt,!0),this},b.__private__.roundedRect=b.roundedRect=function(w,P,nt,ct,_t,Vt,Qt){if(isNaN(w)||isNaN(P)||isNaN(nt)||isNaN(ct)||isNaN(_t)||isNaN(Vt)||!ur(Qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var oe=4/3*(Math.SQRT2-1);return _t=Math.min(_t,.5*nt),Vt=Math.min(Vt,.5*ct),this.lines([[nt-2*_t,0],[_t*oe,0,_t,Vt-Vt*oe,_t,Vt],[0,ct-2*Vt],[0,Vt*oe,-_t*oe,Vt,-_t,Vt],[2*_t-nt,0],[-_t*oe,0,-_t,-Vt*oe,-_t,-Vt],[0,2*Vt-ct],[0,-Vt*oe,_t*oe,-Vt,_t,-Vt]],w+_t,P,[1,1],Qt,!0),this},b.__private__.ellipse=b.ellipse=function(w,P,nt,ct,_t){if(isNaN(w)||isNaN(P)||isNaN(nt)||isNaN(ct)||!ur(_t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Vt=4/3*(Math.SQRT2-1)*nt,Qt=4/3*(Math.SQRT2-1)*ct;return vo(w+nt,P),_s(w+nt,P-Qt,w+Vt,P-ct,w,P-ct),_s(w-Vt,P-ct,w-nt,P-Qt,w-nt,P),_s(w-nt,P+Qt,w-Vt,P+ct,w,P+ct),_s(w+Vt,P+ct,w+nt,P+Qt,w+nt,P),mo(_t),this},b.__private__.circle=b.circle=function(w,P,nt,ct){if(isNaN(w)||isNaN(P)||isNaN(nt)||!ur(ct))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,P,nt,nt,ct)},b.setFont=function(w,P,nt){return nt&&(P=j(P,nt)),_e=Zo(w,P,{disableWarning:!1}),this};var bs=b.__private__.getFont=b.getFont=function(){return re[Zo.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var w,P,nt={};for(w in Ee)if(Ee.hasOwnProperty(w))for(P in nt[w]=[],Ee[w])Ee[w].hasOwnProperty(P)&&nt[w].push(P);return nt},b.addFont=function(w,P,nt,ct,_t){var Vt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Vt.indexOf(arguments[3])!==-1?_t=arguments[3]:arguments[3]&&Vt.indexOf(arguments[3])==-1&&(nt=j(nt,ct)),ho.call(this,w,P,nt,_t=_t||"Identity-H")};var aa,Ir=n.lineWidth||.200025,xe=b.__private__.getLineWidth=b.getLineWidth=function(){return Ir},Ls=b.__private__.setLineWidth=b.setLineWidth=function(w){return Ir=w,at(O(L(w))+" w"),this};b.__private__.setLineDash=Ae.API.setLineDash=Ae.API.setLineDashPattern=function(w,P){if(w=w||[],P=P||0,isNaN(P)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(nt){return O(L(nt))}).join(" "),P=O(L(P)),at("["+w+"] "+P+" d"),this};var Ba=b.__private__.getLineHeight=b.getLineHeight=function(){return Gt*aa};b.__private__.getLineHeight=b.getLineHeight=function(){return Gt*aa};var _o=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(aa=w),this},_a=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return aa};_o(n.lineHeight);var zi=b.__private__.getHorizontalCoordinate=function(w){return L(w)},Di=b.__private__.getVerticalCoordinate=function(w){return J===tt?w:Se[Y].mediaBox.topRightY-Se[Y].mediaBox.bottomLeftY-L(w)},ja=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(w){return O(zi(w))},kn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(w){return O(Di(w))},qr=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return zn(qr)},b.__private__.setStrokeColor=b.setDrawColor=function(w,P,nt,ct){return qr=Oi({ch1:w,ch2:P,ch3:nt,ch4:ct,pdfColorType:"draw",precision:2}),at(qr),this};var Fa=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return zn(Fa)},b.__private__.setFillColor=b.setFillColor=function(w,P,nt,ct){return Fa=Oi({ch1:w,ch2:P,ch3:nt,ch4:ct,pdfColorType:"fill",precision:2}),at(Fa),this};var ws=n.textColor||"0 g",ba=b.__private__.getTextColor=b.getTextColor=function(){return zn(ws)};b.__private__.setTextColor=b.setTextColor=function(w,P,nt,ct){return ws=Oi({ch1:w,ch2:P,ch3:nt,ch4:ct,pdfColorType:"text",precision:3}),this};var ks=n.charSpace,oa=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(ks||0)};b.__private__.setCharSpace=b.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ks=w,this};var zr=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(w){var P=b.CapJoinStyles[w];if(P===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zr=P,at(P+" J"),this};var Ni=0;b.__private__.setLineJoin=b.setLineJoin=function(w){var P=b.CapJoinStyles[w];if(P===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ni=P,at(P+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return at(O(L(w))+" M"),this},b.GState=Up,b.setGState=function(w){(w=typeof w=="string"?ze[xn[w]]:Hr(null,w)).equals(ri)||(at("/"+w.id+" gs"),ri=w)};var Hr=function(w,P){if(!w||!xn[w]){var nt=!1;for(var ct in ze)if(ze.hasOwnProperty(ct)&&ze[ct].equals(P)){nt=!0;break}if(nt)P=ze[ct];else{var _t="GS"+(Object.keys(ze).length+1).toString(10);ze[_t]=P,P.id=_t}return w&&(xn[w]=P.id),sn.publish("addGState",P),P}};b.addGState=function(w,P){return Hr(w,P),this},b.saveGraphicsState=function(){return at("q"),Ve.push({key:_e,size:Gt,color:ws}),this},b.restoreGraphicsState=function(){at("Q");var w=Ve.pop();return _e=w.key,Gt=w.size,ws=w.color,ri=null,this},b.setCurrentTransformationMatrix=function(w){return at(w.toString()+" cm"),this},b.comment=function(w){return at("#"+w),this};var Cr=function(w,P){var nt=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return nt},set:function(Vt){isNaN(Vt)||(nt=parseFloat(Vt))}});var ct=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ct},set:function(Vt){isNaN(Vt)||(ct=parseFloat(Vt))}});var _t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _t},set:function(Vt){_t=Vt.toString()}}),this},Os=function(w,P,nt,ct){Cr.call(this,w,P),this.type="rect";var _t=nt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _t},set:function(Qt){isNaN(Qt)||(_t=parseFloat(Qt))}});var Vt=ct||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Vt},set:function(Qt){isNaN(Qt)||(Vt=parseFloat(Qt))}}),this},wa=function(){this.page=He,this.currentPage=Y,this.pages=Wt.slice(0),this.pagesContext=Se.slice(0),this.x=me,this.y=Mn,this.matrix=en,this.width=As(Y),this.height=Es(Y),this.outputDestination=ne,this.id="",this.objectNumber=-1};wa.prototype.restore=function(){He=this.page,Y=this.currentPage,Se=this.pagesContext,Wt=this.pages,me=this.x,Mn=this.y,en=this.matrix,qa(Y,this.width),Gr(Y,this.height),ne=this.outputDestination};var Ds=function(w,P,nt,ct,_t){qi.push(new wa),He=Y=0,Wt=[],me=w,Mn=P,en=_t,is([nt,ct])};for(var Ps in b.beginFormObject=function(w,P,nt,ct,_t){return Ds(w,P,nt,ct,_t),this},b.endFormObject=function(w){return(function(P){if(xs[P])qi.pop().restore();else{var nt=new wa,ct="Xo"+(Object.keys(Wi).length+1).toString(10);nt.id=ct,xs[P]=ct,Wi[ct]=nt,sn.publish("addFormObject",nt),qi.pop().restore()}})(w),this},b.doFormObject=function(w,P){var nt=Wi[xs[w]];return at("q"),at(P.toString()+" cm"),at("/"+nt.id+" Do"),at("Q"),this},b.getFormObject=function(w){var P=Wi[xs[w]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},b.save=function(w,P){return w=w||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(nc(hn(vs()),w),typeof nc.unload=="function"&&Ke.setTimeout&&setTimeout(nc.unload,911),this):new Promise(function(nt,ct){try{var _t=nc(hn(vs()),w);typeof nc.unload=="function"&&Ke.setTimeout&&setTimeout(nc.unload,911),nt(_t)}catch(Vt){ct(Vt.message)}})},Ae.API)Ae.API.hasOwnProperty(Ps)&&(Ps==="events"&&Ae.API.events.length?(function(w,P){var nt,ct,_t;for(_t=P.length-1;_t!==-1;_t--)nt=P[_t][0],ct=P[_t][1],w.subscribe.apply(w,[nt].concat(typeof ct=="function"?[ct]:ct))})(sn,Ae.API.events):b[Ps]=Ae.API[Ps]);function As(w){return Se[w].mediaBox.topRightX-Se[w].mediaBox.bottomLeftX}function qa(w,P){Se[w].mediaBox.topRightX=P+Se[w].mediaBox.bottomLeftX}function Es(w){return Se[w].mediaBox.topRightY-Se[w].mediaBox.bottomLeftY}function Gr(w,P){Se[w].mediaBox.topRightY=P+Se[w].mediaBox.bottomLeftY}var rl=b.getPageWidth=function(w){return As(w=w||Y)/ke},sl=b.setPageWidth=function(w,P){qa(w,P*ke)},Ss=b.getPageHeight=function(w){return Es(w=w||Y)/ke},bo=b.setPageHeight=function(w,P){Gr(w,P*ke)};return b.internal={pdfEscape:Tr,getStyle:el,getFont:bs,getFontSize:te,getCharSpace:oa,getTextColor:ba,getLineHeight:Ba,getLineHeightFactor:_a,getLineWidth:xe,write:We,getHorizontalCoordinate:zi,getVerticalCoordinate:Di,getCoordinateString:ja,getVerticalCoordinateString:kn,collections:{},newObject:jn,newAdditionalObject:ar,newObjectDeferred:Wn,newObjectDeferredBegin:ki,getFilters:Er,putStream:es,events:sn,scaleFactor:ke,pageSize:{getWidth:function(){return rl(Y)},setWidth:function(w){sl(Y,w)},getHeight:function(){return Ss(Y)},setHeight:function(w){bo(Y,w)}},encryptionOptions:v,encryption:Hn,getEncryptor:function(w){return v!==null?Hn.encryptor(w,0):function(P){return P}},output:lr,getNumberOfPages:po,pages:Wt,out:at,f2:S,f3:C,getPageInfo:Ji,getPageInfoByObjId:go,getCurrentPageInfo:Ul,getPDFVersion:B,Point:Cr,Rectangle:Os,Matrix:we,hasHotfix:Nr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return rl(Y)},set:function(w){sl(Y,w)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ss(Y)},set:function(w){bo(Y,w)},enumerable:!0,configurable:!0}),(function(w){for(var P=0,nt=be.length;P<nt;P++){var ct=ho.call(this,w[P][0],w[P][1],w[P][2],be[P][3],!0);A===!1&&(N[ct]=!0);var _t=w[P][0].split("-");ci({id:ct,fontName:_t[0],fontStyle:_t[1]||""})}sn.publish("addFonts",{fonts:re,dictionary:Ee})}).call(b,be),_e="F1",ys(a,e),sn.publish("initialized"),b}uh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},uh.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uh.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},uh.prototype.processOwnerPassword=function(n,t){return o0(a0(t).substr(0,5),n)},uh.prototype.encryptor=function(n,t){var e=a0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return o0(e,r)}},Up.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Ae.API={events:[]},Ae.version="3.0.3";var Fi=Ae.API,q0=1,bc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ze=function(n){return n.toFixed(2)},pu=function(n){return n.toFixed(5)};Fi.__acroform__={};var ta=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},k_=function(n){return n*q0},Uo=function(n){var t=new y4,e=de.internal.getHeight(n)||0,r=de.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Ze(r)),Number(Ze(e))],t},eN=Fi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},nN=Fi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},iN=Fi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Ki=Fi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return iN(n,t-1)},Qi=Fi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eN(n,t-1)},Xi=Fi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nN(n,t-1)},rN=Fi.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],h=n[3],f={};return f.lowerLeft_X=e(a)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=e(a+u)||0,f.upperRight_Y=r(o)||0,[Number(Ze(f.lowerLeft_X)),Number(Ze(f.lowerLeft_Y)),Number(Ze(f.upperRight_X)),Number(Ze(f.upperRight_Y))]},sN=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=l0(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+Ze(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Uo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},l0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(S){return S.split(`
`)}):a.map(function(S){return[S]});var o=e,u=de.internal.getHeight(n)||0;u=u<0?-u:u;var h=de.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(S,C,L){if(S+1<a.length){var Z=C+" "+a[S+1][0];return up(Z,n,L).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var p,v,A=up("3",n,o).height,N=n.multiline?u-o:(u-A)/2,b=N+=2,V=0,B=0,z=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+up(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var U="",rt=0,tt=0;tt<a.length;tt++)if(a.hasOwnProperty(tt)){var J=!1;if(a[tt].length!==1&&z!==a[tt].length-1){if((A+2)*(rt+2)+2>u)continue t;U+=a[tt][z],J=!0,B=tt,tt--}else{U=(U+=a[tt][z]+" ").substr(U.length-1)==" "?U.substr(0,U.length-1):U;var vt=parseInt(tt),pt=f(vt,U,o),j=tt>=a.length-1;if(pt&&!j){U+=" ",z=0;continue}if(pt||j){if(j)B=vt;else if(n.multiline&&(A+2)*(rt+2)+2>u)continue t}else{if(!n.multiline||(A+2)*(rt+2)+2>u)continue t;B=vt}}for(var O="",R=V;R<=B;R++){var F=a[R];if(n.multiline){if(R===B){O+=F[z]+" ",z=(z+1)%F.length;continue}if(R===V){O+=F[F.length-1]+" ";continue}}O+=F[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,v=up(O,n,o).width,n.textAlign){case"right":p=h-v-2;break;case"center":p=(h-v)/2;break;default:p=2}t+=Ze(p)+" "+Ze(b)+` Td
`,t+="("+bc(O)+`) Tj
`,t+=-Ze(p)+` 0 Td
`,b=-(o+2),v=0,V=J?B:B+1,rt++,U=""}break}return r.text=t,r.fontSize=o,r},up=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},aN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oN=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},lN=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(uo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(aN)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");q0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new v4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&oN(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,a){var o=!r;for(var u in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var h=r[u],f=[],p=h.Rect;if(h.Rect&&(h.Rect=rN(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=de.createDefaultAppearanceStream(h),Xn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=p,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=sN(h);f.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var A="";for(var N in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(N)){var b=h.appearanceStreamContent[N];if(A+="/"+N+" ",A+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var V=b[u];typeof V=="function"&&(V=V.call(a,h)),A+="/"+u+" "+V+" ",a.internal.acroformPlugin.xForms.indexOf(V)>=0||a.internal.acroformPlugin.xForms.push(V)}}else typeof(V=b)=="function"&&(V=V.call(a,h)),A+="/"+u+" "+V,a.internal.acroformPlugin.xForms.indexOf(V)>=0||a.internal.acroformPlugin.xForms.push(V);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:h.objId}),a.internal.out("endobj")}o&&(function(B,z){for(var U in B)if(B.hasOwnProperty(U)){var rt=U,tt=B[U];z.internal.newObjectDeferredBegin(tt.objId,!0),Xn(tt)==="object"&&typeof tt.putStream=="function"&&tt.putStream(),delete B[rt]}})(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},m4=Fi.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Xn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+bc(r(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pm=function(n,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+bc(r(n))+")"},Bo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bo.prototype.toString=function(){return this.objId+" 0 R"},Bo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Bo.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:m4(a,this.objId,this.scope)}):a instanceof Bo?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var y4=function(){Bo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};ta(y4,Bo);var v4=function(){Bo.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+bc(e(n))+")"}},set:function(e){n=e}})};ta(v4,Bo);var uo=function n(){Bo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute F supplied.');t=U}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ki(t,3)},set:function(U){U?this.F=Qi(t,3):this.F=Xi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute Ff supplied.');e=U}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(U){r=U!==void 0?U:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(U){r[0]=U}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(U){r[1]=U}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(U){r[2]=U}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(U){r[3]=U}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(U){switch(U){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=U;break;default:throw new Error('Invalid value "'+U+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Vp)return;o="FieldObject"+n.FieldNum++}var U=function(rt){return rt};return this.scope&&(U=this.scope.internal.getEncryptor(this.objId)),"("+bc(U(o))+")"},set:function(U){o=U.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(U){o=U}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(U){u=U}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(U){h=U}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(U){f=U}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/q0:p},set:function(U){p=U}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(U){v=U}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Vp||this instanceof oc))return Pm(A,this.objId,this.scope)},set:function(U){U=U.toString(),A=U}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof Ur==0?Pm(N,this.objId,this.scope):N},set:function(U){U=U.toString(),N=this instanceof Ur==0?U.substr(0,1)==="("?oh(U.substr(1,U.length-2)):oh(U):U}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ur==1?oh(N.substr(1,N.length-1)):N},set:function(U){U=U.toString(),N=this instanceof Ur==1?"/"+U:U}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(U){this.V=U}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ur==0?Pm(b,this.objId,this.scope):b},set:function(U){U=U.toString(),b=this instanceof Ur==0?U.substr(0,1)==="("?oh(U.substr(1,U.length-2)):oh(U):U}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ur==1?oh(b.substr(1,b.length-1)):b},set:function(U){U=U.toString(),b=this instanceof Ur==1?"/"+U:U}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var V,B=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return B},set:function(U){U=!!U,B=U}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(V)return V},set:function(U){V=U}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,1)},set:function(U){U?this.Ff=Qi(this.Ff,1):this.Ff=Xi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,2)},set:function(U){U?this.Ff=Qi(this.Ff,2):this.Ff=Xi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,3)},set:function(U){U?this.Ff=Qi(this.Ff,3):this.Ff=Xi(this.Ff,3)}});var z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(z!==null)return z},set:function(U){if([0,1,2].indexOf(U)===-1)throw new Error('Invalid value "'+U+'" for attribute Q supplied.');z=U}}),Object.defineProperty(this,"textAlign",{get:function(){var U;switch(z){case 0:default:U="left";break;case 1:U="center";break;case 2:U="right"}return U},configurable:!0,enumerable:!0,set:function(U){switch(U){case"right":case 2:z=2;break;case"center":case 1:z=1;break;default:z=0}}})};ta(uo,Bo);var mh=function(){uo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return m4(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=(function(o,u,h){h||(h=1);for(var f,p=[];f=u.exec(o);)p.push(f[h]);return p})(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,18)},set:function(e){e?this.Ff=Qi(this.Ff,18):this.Ff=Xi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Qi(this.Ff,19):this.Ff=Xi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,20)},set:function(e){e?(this.Ff=Qi(this.Ff,20),t.sort()):this.Ff=Xi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,22)},set:function(e){e?this.Ff=Qi(this.Ff,22):this.Ff=Xi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,23)},set:function(e){e?this.Ff=Qi(this.Ff,23):this.Ff=Xi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,27)},set:function(e){e?this.Ff=Qi(this.Ff,27):this.Ff=Xi(this.Ff,27)}}),this.hasAppearanceStream=!1};ta(mh,uo);var yh=function(){mh.call(this),this.fontName="helvetica",this.combo=!1};ta(yh,mh);var vh=function(){yh.call(this),this.combo=!0};ta(vh,yh);var wp=function(){vh.call(this),this.edit=!0};ta(wp,vh);var Ur=function(){uo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,15)},set:function(e){e?this.Ff=Qi(this.Ff,15):this.Ff=Xi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,16)},set:function(e){e?this.Ff=Qi(this.Ff,16):this.Ff=Xi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,17)},set:function(e){e?this.Ff=Qi(this.Ff,17):this.Ff=Xi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,26)},set:function(e){e?this.Ff=Qi(this.Ff,26):this.Ff=Xi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+bc(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Xn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};ta(Ur,uo);var Ap=function(){Ur.call(this),this.pushButton=!0};ta(Ap,Ur);var _h=function(){Ur.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};ta(_h,Ur);var Vp=function(){var n,t;uo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+bc(a(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Xn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=de.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ta(Vp,uo),_h.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},_h.prototype.createOption=function(n){var t=new Vp;return t.Parent=this,t.optionName=n,this.Kids.push(t),uN.call(this.scope,t),t};var Ep=function(){Ur.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=de.CheckBox.createAppearanceStream()};ta(Ep,Ur);var oc=function(){uo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,13)},set:function(t){t?this.Ff=Qi(this.Ff,13):this.Ff=Xi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,21)},set:function(t){t?this.Ff=Qi(this.Ff,21):this.Ff=Xi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,23)},set:function(t){t?this.Ff=Qi(this.Ff,23):this.Ff=Xi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,24)},set:function(t){t?this.Ff=Qi(this.Ff,24):this.Ff=Xi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,25)},set:function(t){t?this.Ff=Qi(this.Ff,25):this.Ff=Xi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,26)},set:function(t){t?this.Ff=Qi(this.Ff,26):this.Ff=Xi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ta(oc,uo);var Sp=function(){oc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,14)},set:function(n){n?this.Ff=Qi(this.Ff,14):this.Ff=Xi(this.Ff,14)}}),this.password=!0};ta(Sp,oc);var de={CheckBox:{createAppearanceStream:function(){return{N:{On:de.CheckBox.YesNormal},D:{On:de.CheckBox.YesPushDown,Off:de.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=l0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+Ze(de.internal.getWidth(n))+" "+Ze(de.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+Ze(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Uo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=de.internal.getHeight(n),u=de.internal.getWidth(n),h=l0(n,n.caption);return a.push("1 g"),a.push("0 0 "+Ze(u)+" "+Ze(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ze(u-1)+" "+Ze(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+Ze(h.fontSize)+" Tf "+r),a.push(h.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ze(de.internal.getWidth(n))+" "+Ze(de.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:de.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=de.RadioButton.Circle.YesNormal,t.D[n]=de.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=de.internal.getWidth(n)<=de.internal.getHeight(n)?de.internal.getWidth(n)/4:de.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=de.internal.Bezier_C,o=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+pu(de.internal.getWidth(n)/2)+" "+pu(de.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=de.internal.getWidth(n)<=de.internal.getHeight(n)?de.internal.getWidth(n)/4:de.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*de.internal.Bezier_C).toFixed(5)),u=Number((r*de.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+pu(de.internal.getWidth(n)/2)+" "+pu(de.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+pu(de.internal.getWidth(n)/2)+" "+pu(de.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),e.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),e.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),e.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=de.internal.getWidth(n)<=de.internal.getHeight(n)?de.internal.getWidth(n)/4:de.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*de.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+pu(de.internal.getWidth(n)/2)+" "+pu(de.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:de.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=de.RadioButton.Cross.YesNormal,t.D[n]=de.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Uo(n);t.scope=n.scope;var e=[],r=de.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+Ze(de.internal.getWidth(n)-2)+" "+Ze(de.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Ze(r.x1.x)+" "+Ze(r.x1.y)+" m"),e.push(Ze(r.x2.x)+" "+Ze(r.x2.y)+" l"),e.push(Ze(r.x4.x)+" "+Ze(r.x4.y)+" m"),e.push(Ze(r.x3.x)+" "+Ze(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=de.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ze(de.internal.getWidth(n))+" "+Ze(de.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ze(de.internal.getWidth(n)-2)+" "+Ze(de.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Ze(e.x1.x)+" "+Ze(e.x1.y)+" m"),r.push(Ze(e.x2.x)+" "+Ze(e.x2.y)+" l"),r.push(Ze(e.x4.x)+" "+Ze(e.x4.y)+" m"),r.push(Ze(e.x3.x)+" "+Ze(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Uo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ze(de.internal.getWidth(n))+" "+Ze(de.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};de.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=de.internal.getWidth(n),e=de.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},de.internal.getWidth=function(n){var t=0;return Xn(n)==="object"&&(t=k_(n.Rect[2])),t},de.internal.getHeight=function(n){var t=0;return Xn(n)==="object"&&(t=k_(n.Rect[3])),t};var uN=Fi.addField=function(n){if(lN(this,n),!(n instanceof uo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fi.AcroFormChoiceField=mh,Fi.AcroFormListBox=yh,Fi.AcroFormComboBox=vh,Fi.AcroFormEditBox=wp,Fi.AcroFormButton=Ur,Fi.AcroFormPushButton=Ap,Fi.AcroFormRadioButton=_h,Fi.AcroFormCheckBox=Ep,Fi.AcroFormTextField=oc,Fi.AcroFormPasswordField=Sp,Fi.AcroFormAppearance=de,Fi.AcroForm={ChoiceField:mh,ListBox:yh,ComboBox:vh,EditBox:wp,Button:Ur,PushButton:Ap,RadioButton:_h,CheckBox:Ep,TextField:oc,PasswordField:Sp,Appearance:de},Ae.AcroForm={ChoiceField:mh,ListBox:yh,ComboBox:vh,EditBox:wp,Button:Ur,PushButton:Ap,RadioButton:_h,CheckBox:Ep,TextField:oc,PasswordField:Sp,Appearance:de};Ae.AcroForm;function _4(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(S,C){var L,Z,bt,st,dt,ht=e;if((C=C||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(pt(S))for(dt in r)for(bt=r[dt],L=0;L<bt.length;L+=1){for(st=!0,Z=0;Z<bt[L].length;Z+=1)if(bt[L][Z]!==void 0&&bt[L][Z]!==S[Z]){st=!1;break}if(st===!0){ht=dt;break}}else for(dt in r)for(bt=r[dt],L=0;L<bt.length;L+=1){for(st=!0,Z=0;Z<bt[L].length;Z+=1)if(bt[L][Z]!==void 0&&bt[L][Z]!==S.charCodeAt(Z)){st=!1;break}if(st===!0){ht=dt;break}}return ht===e&&C!==e&&(ht=C),ht},o=function S(C){for(var L=this.internal.write,Z=this.internal.putStream,bt=(0,this.internal.getFilters)();bt.indexOf("FlateEncode")!==-1;)bt.splice(bt.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var st=[];if(st.push({key:"Type",value:"/XObject"}),st.push({key:"Subtype",value:"/Image"}),st.push({key:"Width",value:C.width}),st.push({key:"Height",value:C.height}),C.colorSpace===U.INDEXED?st.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(st.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===U.DEVICE_CMYK&&st.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),st.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&st.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var dt="",ht=0,Ct=C.transparency.length;ht<Ct;ht++)dt+=C.transparency[ht]+" "+C.transparency[ht]+" ";st.push({key:"Mask",value:"["+dt+"]"})}C.sMask!==void 0&&st.push({key:"SMask",value:C.objectId+1+" 0 R"});var Ft=C.filter!==void 0?["/"+C.filter]:void 0;if(Z({data:C.data,additionalKeyValues:st,alreadyAppliedFilters:Ft,objectId:C.objectId}),L("endobj"),"sMask"in C&&C.sMask!==void 0){var W,D=(W=C.sMaskBitsPerComponent)!==null&&W!==void 0?W:C.bitsPerComponent,Y={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:C.sMask};"filter"in C&&(Y.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(C.width),Y.filter=C.filter),S.call(this,Y)}if(C.colorSpace===U.INDEXED){var $=this.internal.newObject();Z({data:O(new Uint8Array(C.palette)),objectId:$}),L("endobj")}},u=function(){var S=this.internal.collections[t+"images"];for(var C in S)o.call(this,S[C])},h=function(){var S,C=this.internal.collections[t+"images"],L=this.internal.write;for(var Z in C)L("/I"+(S=C[Z]).index,S.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},p=function(){var S=this.internal.collections[t+"images"];return f.call(this),S},v=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(S){return typeof n["process"+S.toUpperCase()]=="function"},N=function(S){return Xn(S)==="object"&&S.nodeType===1},b=function(S,C){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var L=""+S.getAttribute("src");if(L.indexOf("data:image/")===0)return bp(unescape(L).split("base64,").pop());var Z=n.loadFile(L,!0);if(Z!==void 0)return Z}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var bt;switch(C){case"PNG":bt="image/png";break;case"WEBP":bt="image/webp";break;default:bt="image/jpeg"}return bp(S.toDataURL(bt,1).split("base64,").pop())}},V=function(S){var C=this.internal.collections[t+"images"];if(C){for(var L in C)if(S===C[L].alias)return C[L]}},B=function(S,C,L){return S||C||(S=-96,C=-96),S<0&&(S=-1*L.width*72/S/this.internal.scaleFactor),C<0&&(C=-1*L.height*72/C/this.internal.scaleFactor),S===0&&(S=C*L.width/L.height),C===0&&(C=S*L.height/L.width),[S,C]},z=function(S,C,L,Z,bt,st){var dt=B.call(this,L,Z,bt),ht=this.internal.getCoordinateString,Ct=this.internal.getVerticalCoordinateString,Ft=p.call(this);if(L=dt[0],Z=dt[1],Ft[bt.index]=bt,st){st*=Math.PI/180;var W=Math.cos(st),D=Math.sin(st),Y=function(ot){return ot.toFixed(4)},$=[Y(W),Y(D),Y(-1*D),Y(W),0,0,"cm"]}this.internal.write("q"),st?(this.internal.write([1,"0","0",1,ht(S),Ct(C+Z),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([ht(L),"0","0",ht(Z),"0","0","cm"].join(" "))):this.internal.write([ht(L),"0","0",ht(Z),ht(S),Ct(C+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+bt.index+" Do"),this.internal.write("Q")},U=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var rt=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},tt=n.__addimage__.sHashCode=function(S){var C,L,Z=0;if(typeof S=="string")for(L=S.length,C=0;C<L;C++)Z=(Z<<5)-Z+S.charCodeAt(C),Z|=0;else if(pt(S))for(L=S.byteLength/2,C=0;C<L;C++)Z=(Z<<5)-Z+S[C],Z|=0;return Z},J=n.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var C=!0;return S.length===0&&(C=!1),S.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(C=!1),C},vt=n.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var C=S.indexOf(",");return C<0?null:S.substring(0,C).trim().endsWith("base64")?S.substring(C+1):null};n.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var pt=n.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},j=n.__addimage__.binaryStringToUint8Array=function(S){for(var C=S.length,L=new Uint8Array(C),Z=0;Z<C;Z++)L[Z]=S.charCodeAt(Z);return L},O=n.__addimage__.arrayBufferToBinaryString=function(S){for(var C="",L=pt(S)?S:new Uint8Array(S),Z=0;Z<L.length;Z+=8192)C+=String.fromCharCode.apply(null,L.subarray(Z,Z+8192));return C};n.addImage=function(){var S,C,L,Z,bt,st,dt,ht,Ct;if(typeof arguments[1]=="number"?(C=e,L=arguments[1],Z=arguments[2],bt=arguments[3],st=arguments[4],dt=arguments[5],ht=arguments[6],Ct=arguments[7]):(C=arguments[1],L=arguments[2],Z=arguments[3],bt=arguments[4],st=arguments[5],dt=arguments[6],ht=arguments[7],Ct=arguments[8]),Xn(S=arguments[0])==="object"&&!N(S)&&"imageData"in S){var Ft=S;S=Ft.imageData,C=Ft.format||C||e,L=Ft.x||L||0,Z=Ft.y||Z||0,bt=Ft.w||Ft.width||bt,st=Ft.h||Ft.height||st,dt=Ft.alias||dt,ht=Ft.compression||ht,Ct=Ft.rotation||Ft.angle||Ct}var W=this.internal.getFilters();if(ht===void 0&&W.indexOf("FlateEncode")!==-1&&(ht="SLOW"),isNaN(L)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var D=R.call(this,S,C,dt,ht);return z.call(this,L,Z,bt,st,D,Ct),this};var R=function(S,C,L,Z){var bt,st,dt;if(typeof S=="string"&&a(S)===e){S=unescape(S);var ht=F(S,!1);(ht!==""||(ht=n.loadFile(S,!0))!==void 0)&&(S=ht)}if(N(S)&&(S=b(S,C)),C=a(S,C),!A(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((dt=L)==null||dt.length===0)&&(L=(function(Ct){return typeof Ct=="string"||pt(Ct)?tt(Ct):pt(Ct.data)?tt(Ct.data):null})(S)),(bt=V.call(this,L))||(S instanceof Uint8Array||C==="RGBA"||(st=S,S=j(S)),bt=this["process"+C.toUpperCase()](S,v.call(this),L,(function(Ct){return Ct&&typeof Ct=="string"&&(Ct=Ct.toUpperCase()),Ct in n.image_compression?Ct:rt.NONE})(Z),st)),!bt)throw new Error("An unknown error occurred whilst processing the image.");return bt},F=n.__addimage__.convertBase64ToBinaryString=function(S,C){C=typeof C!="boolean"||C;var L,Z="";if(typeof S=="string"){var bt;L=(bt=vt(S))!==null&&bt!==void 0?bt:S;try{Z=bp(L)}catch(st){if(C)throw J(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+st.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};n.getImageProperties=function(S){var C,L,Z="";if(N(S)&&(S=b(S)),typeof S=="string"&&a(S)===e&&((Z=F(S,!1))===""&&(Z=n.loadFile(S)||""),S=Z),L=a(S),!A(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(S instanceof Uint8Array||(S=j(S)),!(C=this["process"+L.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=L,C}})(Ae.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Ae.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,a,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),p=e.pageContext.annotations,v=!1,A=0;A<p.length&&!v;A++)switch((r=p[A]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var N=0;N<p.length;N++){r=p[N];var b=this.internal.pdfEscape,V=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var B=this.internal.newAdditionalObject(),z=this.internal.newAdditionalObject(),U=this.internal.getEncryptor(B.objId),rt=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+b(U(r.contents))+")",o+=" /Popup "+z.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(U(rt))+") >>",B.content=o;var tt=B.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+tt,r.open&&(o+=" /Open true"),o+=" >>",z.content=o,this.internal.write(B.objId,"0 R",z.objId,"0 R");break;case"freetext":a="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var J=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(V(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var vt=this.annotations._nameMap[r.options.name];r.options.pageNumber=vt.page,r.options.top=vt.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(V(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var pt=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+pt+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,a,o,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:p(r),w:f(e+a),h:p(r+o)},options:u,type:"link"})},n.textWithLink=function(e,r,a,o){var u,h,f=this.getTextWidth(e),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(e,h).length;u=Math.ceil(p*v)}else h=f,u=p;return this.text(e,r,a,o),a+=.2*p,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-p,h,u,o),f},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(Ae.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(B){return t[B.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(B){return typeof B=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(B)},h=n.__arabicParser__.isArabicEndLetter=function(B){return u(B)&&o(B)&&t[B.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(B){return u(B)&&a.indexOf(B.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(B){return u(B)&&o(B)&&t[B.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(B){return u(B)&&o(B)&&t[B.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(B){return u(B)&&o(B)&&t[B.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(B){return u(B)&&o(B)&&t[B.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(B){var z=0,U=e,rt="",tt=0;for(z=0;z<B.length;z+=1)U[B.charCodeAt(z)]!==void 0?(tt++,typeof(U=U[B.charCodeAt(z)])=="number"&&(rt+=String.fromCharCode(U),U=e,tt=0),z===B.length-1&&(U=e,rt+=B.charAt(z-(tt-1)),z-=tt-1,tt=0)):(U=e,rt+=B.charAt(z-tt),z-=tt,tt=0);return rt};n.__arabicParser__.isArabicDiacritic=function(B){return B!==void 0&&r[B.charCodeAt(0)]!==void 0};var N=n.__arabicParser__.getCorrectForm=function(B,z,U){return u(B)?o(B)===!1?-1:!p(B)||!u(z)&&!u(U)||!u(U)&&h(z)||h(B)&&!u(z)||h(B)&&f(z)||h(B)&&h(z)?0:v(B)&&u(z)&&!h(z)&&u(U)&&p(U)?3:h(B)||!u(U)?1:2:-1},b=function(B){var z=0,U=0,rt=0,tt="",J="",vt="",pt=(B=B||"").split("\\s+"),j=[];for(z=0;z<pt.length;z+=1){for(j.push(""),U=0;U<pt[z].length;U+=1)tt=pt[z][U],J=pt[z][U-1],vt=pt[z][U+1],u(tt)?(rt=N(tt,J,vt),j[z]+=rt!==-1?String.fromCharCode(t[tt.charCodeAt(0)][rt]):tt):j[z]+=tt;j[z]=A(j[z])}return j.join(" ")},V=n.__arabicParser__.processArabic=n.processArabic=function(){var B,z=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,U=[];if(Array.isArray(z)){var rt=0;for(U=[],rt=0;rt<z.length;rt+=1)Array.isArray(z[rt])?U.push([b(z[rt][0]),z[rt][1],z[rt][2]]):U.push([b(z[rt])]);B=U}else B=b(z);return typeof arguments[0]=="string"?B:(arguments[0].text=B,arguments[0])};n.events.push(["preProcessText",V])})(Ae.API),Ae.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ae.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(B){f=B}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(B){p=B}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(B){v=B}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(B){A=B}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(B){N=B}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(B){b=B}});var V=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return V},set:function(B){V=B}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,p){r.call(this);var v=(p=p||{}).fontSize||this.getFontSize(),A=p.font||this.getFont(),N=p.scaleFactor||this.internal.scaleFactor,b=0,V=0,B=0,z=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var U=p.maxWidth;U>0?typeof f=="string"?f=this.splitTextToSize(f,U):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(tt,J){return tt.concat(z.splitTextToSize(J,U))},[])):f=Array.isArray(f)?f:[f];for(var rt=0;rt<f.length;rt++)b<(B=this.getStringUnitWidth(f[rt],{font:A})*v)&&(b=B);return b!==0&&(V=f.length),{w:b/=N,h:Math.max((V*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/N,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,N=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===f.lineNumber?(f.x=(p.x||0)+(p.width||0),f.y=p.y||0):p.y+p.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,b&&N&&(this.printHeaderRow(f.lineNumber,!0),f.y+=N[0].height)):f.y=p.y+p.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,p,v,A,N){if(r.call(this),!v)throw new Error("No data for PDF table.");var b,V,B,z,U=[],rt=[],tt=[],J={},vt={},pt=[],j=[],O=(N=N||{}).autoSize||!1,R=N.printHeaders!==!1,F=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,S=N.margins||Object.assign({width:this.getPageWidth()},t),C=typeof N.padding=="number"?N.padding:3,L=N.headerBackgroundColor||"#c8c8c8",Z=N.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=Z,this.setFontSize(F),A==null)rt=U=Object.keys(v[0]),tt=U.map(function(){return"left"});else if(Array.isArray(A)&&Xn(A[0])==="object")for(U=A.map(function(Ft){return Ft.name}),rt=A.map(function(Ft){return Ft.prompt||Ft.name||""}),tt=A.map(function(Ft){return Ft.align||"left"}),b=0;b<A.length;b+=1)vt[A[b].name]=.7499990551181103*A[b].width;else Array.isArray(A)&&typeof A[0]=="string"&&(rt=U=A,tt=U.map(function(){return"left"}));if(O||Array.isArray(A)&&typeof A[0]=="string")for(b=0;b<U.length;b+=1){for(J[z=U[b]]=v.map(function(Ft){return Ft[z]}),this.setFont(void 0,"bold"),pt.push(this.getTextDimensions(rt[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),V=J[z],this.setFont(void 0,"normal"),B=0;B<V.length;B+=1)pt.push(this.getTextDimensions(V[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);vt[z]=Math.max.apply(null,pt)+C+C,pt=[]}if(R){var bt={};for(b=0;b<U.length;b+=1)bt[U[b]]={},bt[U[b]].text=rt[b],bt[U[b]].align=tt[b];var st=h.call(this,bt,vt);j=U.map(function(Ft){return new o(f,p,vt[Ft],st,bt[Ft].text,void 0,bt[Ft].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var dt=A.reduce(function(Ft,W){return Ft[W.name]=W.align,Ft},{});for(b=0;b<v.length;b+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:b,data:v[b]},this);var ht=h.call(this,v[b],vt);for(B=0;B<U.length;B+=1){var Ct=v[b][U[B]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:b,col:B,data:Ct},this),u.call(this,new o(f,p,vt[U[B]],ht,Ct,b+2,dt[U[B]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=p,this};var h=function(f,p){var v=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(f).map(function(b){var V=f[b];return this.splitTextToSize(V.hasOwnProperty("text")?V.text:V,p[b]-v-v)},this).map(function(b){return this.getLineHeightFactor()*b.length*A/N+v+v},this).reduce(function(b,V){return Math.max(b,V)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){v=this.internal.__cell__.tableHeaderRow[b].clone(),p&&(v.y=this.internal.__cell__.margins.top||0,N.push(v)),v.lineNumber=f;var V=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,v),this.setTextColor(V)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),e=!1}})(Ae.API);var b4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},w4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],u0=_4(w4),A4=[100,200,300,400,500,600,700,800,900],cN=_4(A4);function Mm(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return b4[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof u0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,r].join(" ")}}}function O_(n,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(n[t[a]])return n[t[a]]}var hN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},D_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function P_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function M_(n){return n.trimLeft()}function fN(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function dN(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var cp,U_,V_,lh,hp,B_,j_,F_,Um=["times"];function q_(n,t,e,r,a){var o=4,u=H_;switch(a){case Ae.API.image_compression.FAST:o=1,u=z_;break;case Ae.API.image_compression.MEDIUM:o=6,u=G_;break;case Ae.API.image_compression.SLOW:o=9,u=Y_}n=(function(f,p,v,A){for(var N,b=f.length/p,V=new Uint8Array(f.length+b),B=[pN,z_,H_,G_,Y_],z=0;z<b;z+=1){var U=z*p,rt=f.subarray(U,U+p);if(A)V.set(A(rt,v,N),U+z);else{for(var tt=B.length,J=[],vt=0;vt<tt;vt+=1)J[vt]=B[vt](rt,v,N);var pt=mN(J.concat());V.set(J[pt],U+z)}N=rt}return V})(n,t,Math.ceil(e*r/8),u);var h=n0(n,{level:o});return Ae.API.__addimage__.arrayBufferToBinaryString(h)}function pN(n){var t=Array.apply([],n);return t.unshift(0),t}function z_(n,t){var e=n.length,r=[];r[0]=1;for(var a=0;a<e;a+=1){var o=n[a-t]||0;r[a+1]=n[a]-o+256&255}return r}function H_(n,t,e){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var u=e&&e[o]||0;a[o+1]=n[o]-u+256&255}return a}function G_(n,t,e){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var u=n[o-t]||0,h=e&&e[o]||0;a[o+1]=n[o]+256-(u+h>>>1)&255}return a}function Y_(n,t,e){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var u=gN(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);a[o+1]=n[o]-u+256&255}return a}function gN(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),a=Math.abs(n-e),o=Math.abs(n+t-e-e);return r<=a&&r<=o?n:a<=o?t:e}function mN(n){var t=n.map(function(e){return e.reduce(function(r,a){return r+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Vm(n,t,e){var r=t*e,a=Math.floor(r/8),o=16-(r-8*a+e),u=(1<<e)-1;return E4(n,a)>>o&u}function K_(n,t,e,r){var a=e*r,o=Math.floor(a/8),u=16-(a-8*o+r),h=(1<<r)-1,f=(t&h)<<u;(function(p,v,A){if(v+1<p.byteLength)p.setUint16(v,A,!1);else{var N=A>>8&255;p.setUint8(v,N)}})(n,o,E4(n,o)&~(h<<u)&65535|f)}function E4(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function yN(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,a=n[t++],o=a>>7,u=1<<1+(7&a);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=u,t+=3*u);var p=!0,v=[],A=0,N=null,b=0,V=null;for(this.width=e,this.height=r;p&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,V=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var B=n[t++];A=n[t++]|n[t++]<<8,N=n[t++],1&B||(N=null),b=B>>2&7,t++;break;case 254:for(;;){if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var z=n[t++]|n[t++]<<8,U=n[t++]|n[t++]<<8,rt=n[t++]|n[t++]<<8,tt=n[t++]|n[t++]<<8,J=n[t++],vt=J>>6&1,pt=1<<1+(7&J),j=h,O=f,R=!1;J>>7&&(R=!0,j=t,O=pt,t+=3*pt);var F=t;for(t++;;){var S;if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}v.push({x:z,y:U,width:rt,height:tt,has_local_palette:R,palette_offset:j,palette_size:O,data_offset:F,data_length:t-F,transparent_index:N,interlaced:!!vt,delay:A,disposal:b});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return V},this.frameInfo=function(C){if(C<0||C>=v.length)throw new Error("Frame index out of range.");return v[C]},this.decodeAndBlitFrameBGRA=function(C,L){var Z=this.frameInfo(C),bt=Z.width*Z.height,st=new Uint8Array(bt);Q_(n,Z.data_offset,st,bt);var dt=Z.palette_offset,ht=Z.transparent_index;ht===null&&(ht=256);var Ct=Z.width,Ft=e-Ct,W=Ct,D=4*(Z.y*e+Z.x),Y=4*((Z.y+Z.height)*e+Z.x),$=D,ot=4*Ft;Z.interlaced===!0&&(ot+=4*e*7);for(var ut=8,mt=0,Nt=st.length;mt<Nt;++mt){var St=st[mt];if(W===0&&(W=Ct,($+=ot)>=Y&&(ot=4*Ft+4*e*(ut-1),$=D+(Ct+Ft)*(ut<<1),ut>>=1)),St===ht)$+=4;else{var Ut=n[dt+3*St],Wt=n[dt+3*St+1],ee=n[dt+3*St+2];L[$++]=ee,L[$++]=Wt,L[$++]=Ut,L[$++]=255}--W}},this.decodeAndBlitFrameRGBA=function(C,L){var Z=this.frameInfo(C),bt=Z.width*Z.height,st=new Uint8Array(bt);Q_(n,Z.data_offset,st,bt);var dt=Z.palette_offset,ht=Z.transparent_index;ht===null&&(ht=256);var Ct=Z.width,Ft=e-Ct,W=Ct,D=4*(Z.y*e+Z.x),Y=4*((Z.y+Z.height)*e+Z.x),$=D,ot=4*Ft;Z.interlaced===!0&&(ot+=4*e*7);for(var ut=8,mt=0,Nt=st.length;mt<Nt;++mt){var St=st[mt];if(W===0&&(W=Ct,($+=ot)>=Y&&(ot=4*Ft+4*e*(ut-1),$=D+(Ct+Ft)*(ut<<1),ut>>=1)),St===ht)$+=4;else{var Ut=n[dt+3*St],Wt=n[dt+3*St+1],ee=n[dt+3*St+2];L[$++]=Ut,L[$++]=Wt,L[$++]=ee,L[$++]=255}--W}}}function Q_(n,t,e,r){for(var a=n[t++],o=1<<a,u=o+1,h=u+1,f=a+1,p=(1<<f)-1,v=0,A=0,N=0,b=n[t++],V=new Int32Array(4096),B=null;;){for(;v<16&&b!==0;)A|=n[t++]<<v,v+=8,b===1?b=n[t++]:--b;if(v<f)break;var z=A&p;if(A>>=f,v-=f,z!==o){if(z===u)break;for(var U=z<h?z:B,rt=0,tt=U;tt>o;)tt=V[tt]>>8,++rt;var J=tt;if(N+rt+(U!==z?1:0)>r)return void li.log("Warning, gif stream longer than expected.");e[N++]=J;var vt=N+=rt;for(U!==z&&(e[N++]=J),tt=U;rt--;)tt=V[tt],e[--vt]=255&tt,tt>>=8;B!==null&&h<4096&&(V[h++]=B<<8|J,h>=p+1&&f<12&&(++f,p=p<<1|1)),B=z}else h=u+1,p=(1<<(f=a+1))-1,B=null}return N!==r&&li.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bm(n){var t,e,r,a,o,u=Math.floor,h=new Array(64),f=new Array(64),p=new Array(64),v=new Array(64),A=new Array(65535),N=new Array(65535),b=new Array(64),V=new Array(64),B=[],z=0,U=7,rt=new Array(64),tt=new Array(64),J=new Array(64),vt=new Array(256),pt=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],bt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function st(D,Y){for(var $=0,ot=0,ut=new Array,mt=1;mt<=16;mt++){for(var Nt=1;Nt<=D[mt];Nt++)ut[Y[ot]]=[],ut[Y[ot]][0]=$,ut[Y[ot]][1]=mt,ot++,$++;$*=2}return ut}function dt(D){for(var Y=D[0],$=D[1]-1;$>=0;)Y&1<<$&&(z|=1<<U),$--,--U<0&&(z==255?(ht(255),ht(0)):ht(z),U=7,z=0)}function ht(D){B.push(D)}function Ct(D){ht(D>>8&255),ht(255&D)}function Ft(D,Y,$,ot,ut){for(var mt,Nt=ut[0],St=ut[240],Ut=(function(Gt,ie){var te,Qe,ve,Ge,De,Ue,En,Pe,_e,ke,me=0;for(_e=0;_e<8;++_e){te=Gt[me],Qe=Gt[me+1],ve=Gt[me+2],Ge=Gt[me+3],De=Gt[me+4],Ue=Gt[me+5],En=Gt[me+6];var Mn=te+(Pe=Gt[me+7]),en=te-Pe,re=Qe+En,Ee=Qe-En,Ve=ve+Ue,Ne=ve-Ue,rn=Ge+De,ze=Ge-De,xn=Mn+rn,ri=Mn-rn,He=re+Ve,Se=re-Ve;Gt[me]=xn+He,Gt[me+4]=xn-He;var sn=.707106781*(Se+ri);Gt[me+2]=ri+sn,Gt[me+6]=ri-sn;var sr=.382683433*((xn=ze+Ne)-(Se=Ee+en)),Wi=.5411961*xn+sr,xs=1.306562965*Se+sr,qi=.707106781*(He=Ne+Ee),we=en+qi,ea=en-qi;Gt[me+5]=ea+Wi,Gt[me+3]=ea-Wi,Gt[me+1]=we+xs,Gt[me+7]=we-xs,me+=8}for(me=0,_e=0;_e<8;++_e){te=Gt[me],Qe=Gt[me+8],ve=Gt[me+16],Ge=Gt[me+24],De=Gt[me+32],Ue=Gt[me+40],En=Gt[me+48];var Vr=te+(Pe=Gt[me+56]),wr=te-Pe,Ar=Qe+En,jn=Qe-En,Wn=ve+Ue,ki=ve-Ue,ar=Ge+De,$i=Ge-De,Ln=Vr+ar,zn=Vr-ar,Oi=Ar+Wn,Er=Ar-Wn;Gt[me]=Ln+Oi,Gt[me+32]=Ln-Oi;var es=.707106781*(Er+zn);Gt[me+16]=zn+es,Gt[me+48]=zn-es;var va=.382683433*((Ln=$i+ki)-(Er=jn+wr)),ms=.5411961*Ln+va,Sr=1.306562965*Er+va,na=.707106781*(Oi=ki+jn),Br=wr+na,or=wr-na;Gt[me+40]=or+ms,Gt[me+24]=or-ms,Gt[me+8]=Br+Sr,Gt[me+56]=Br-Sr,me++}for(_e=0;_e<64;++_e)ke=Gt[_e]*ie[_e],b[_e]=ke>0?ke+.5|0:ke-.5|0;return b})(D,Y),Wt=0;Wt<64;++Wt)V[j[Wt]]=Ut[Wt];var ee=V[0]-$;$=V[0],ee==0?dt(ot[0]):(dt(ot[N[mt=32767+ee]]),dt(A[mt]));for(var ne=63;ne>0&&V[ne]==0;)ne--;if(ne==0)return dt(Nt),$;for(var Dt,at=1;at<=ne;){for(var We=at;V[at]==0&&at<=ne;)++at;var qe=at-We;if(qe>=16){Dt=qe>>4;for(var be=1;be<=Dt;++be)dt(St);qe&=15}mt=32767+V[at],dt(ut[(qe<<4)+N[mt]]),dt(A[mt]),at++}return ne!=63&&dt(Nt),$}function W(D){D=Math.min(Math.max(D,1),100),o!=D&&((function(Y){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ot=0;ot<64;ot++){var ut=u(($[ot]*Y+50)/100);ut=Math.min(Math.max(ut,1),255),h[j[ot]]=ut}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Nt=0;Nt<64;Nt++){var St=u((mt[Nt]*Y+50)/100);St=Math.min(Math.max(St,1),255),f[j[Nt]]=St}for(var Ut=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Wt=0,ee=0;ee<8;ee++)for(var ne=0;ne<8;ne++)p[Wt]=1/(h[j[Wt]]*Ut[ee]*Ut[ne]*8),v[Wt]=1/(f[j[Wt]]*Ut[ee]*Ut[ne]*8),Wt++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),o=D)}this.encode=function(D,Y){Y&&W(Y),B=new Array,z=0,U=7,Ct(65496),Ct(65504),Ct(16),ht(74),ht(70),ht(73),ht(70),ht(0),ht(1),ht(1),ht(0),Ct(1),Ct(1),ht(0),ht(0),(function(){Ct(65499),Ct(132),ht(0);for(var Qe=0;Qe<64;Qe++)ht(h[Qe]);ht(1);for(var ve=0;ve<64;ve++)ht(f[ve])})(),(function(Qe,ve){Ct(65472),Ct(17),ht(8),Ct(ve),Ct(Qe),ht(3),ht(1),ht(17),ht(0),ht(2),ht(17),ht(1),ht(3),ht(17),ht(1)})(D.width,D.height),(function(){Ct(65476),Ct(418),ht(0);for(var Qe=0;Qe<16;Qe++)ht(O[Qe+1]);for(var ve=0;ve<=11;ve++)ht(R[ve]);ht(16);for(var Ge=0;Ge<16;Ge++)ht(F[Ge+1]);for(var De=0;De<=161;De++)ht(S[De]);ht(1);for(var Ue=0;Ue<16;Ue++)ht(C[Ue+1]);for(var En=0;En<=11;En++)ht(L[En]);ht(17);for(var Pe=0;Pe<16;Pe++)ht(Z[Pe+1]);for(var _e=0;_e<=161;_e++)ht(bt[_e])})(),Ct(65498),Ct(12),ht(3),ht(1),ht(0),ht(2),ht(17),ht(3),ht(17),ht(0),ht(63),ht(0);var $=0,ot=0,ut=0;z=0,U=7,this.encode.displayName="_encode_";for(var mt,Nt,St,Ut,Wt,ee,ne,Dt,at,We=D.data,qe=D.width,be=D.height,Gt=4*qe,ie=0;ie<be;){for(mt=0;mt<Gt;){for(Wt=Gt*ie+mt,ne=-1,Dt=0,at=0;at<64;at++)ee=Wt+(Dt=at>>3)*Gt+(ne=4*(7&at)),ie+Dt>=be&&(ee-=Gt*(ie+1+Dt-be)),mt+ne>=Gt&&(ee-=mt+ne-Gt+4),Nt=We[ee++],St=We[ee++],Ut=We[ee++],rt[at]=(pt[Nt]+pt[St+256|0]+pt[Ut+512|0]>>16)-128,tt[at]=(pt[Nt+768|0]+pt[St+1024|0]+pt[Ut+1280|0]>>16)-128,J[at]=(pt[Nt+1280|0]+pt[St+1536|0]+pt[Ut+1792|0]>>16)-128;$=Ft(rt,p,$,t,r),ot=Ft(tt,v,ot,e,a),ut=Ft(J,v,ut,e,a),mt+=32}ie+=8}if(U>=0){var te=[];te[1]=U+1,te[0]=(1<<U+1)-1,dt(te)}return Ct(65497),new Uint8Array(B)},n=n||50,(function(){for(var D=String.fromCharCode,Y=0;Y<256;Y++)vt[Y]=D(Y)})(),t=st(O,R),e=st(C,L),r=st(F,S),a=st(Z,bt),(function(){for(var D=1,Y=2,$=1;$<=15;$++){for(var ot=D;ot<Y;ot++)N[32767+ot]=$,A[32767+ot]=[],A[32767+ot][1]=$,A[32767+ot][0]=ot;for(var ut=-(Y-1);ut<=-D;ut++)N[32767+ut]=$,A[32767+ut]=[],A[32767+ut][1]=$,A[32767+ut][0]=Y-1+ut;D<<=1,Y<<=1}})(),(function(){for(var D=0;D<256;D++)pt[D]=19595*D,pt[D+256|0]=38470*D,pt[D+512|0]=7471*D+32768,pt[D+768|0]=-11059*D,pt[D+1024|0]=-21709*D,pt[D+1280|0]=32768*D+8421375,pt[D+1536|0]=-27439*D,pt[D+1792|0]=-5329*D})(),W(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ro(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function X_(n){function t(R){if(!R)throw Error("assert :P")}function e(R,F,S){for(var C=0;4>C;C++)if(R[F+C]!=S.charCodeAt(C))return!0;return!1}function r(R,F,S,C,L){for(var Z=0;Z<L;Z++)R[F+Z]=S[C+Z]}function a(R,F,S,C){for(var L=0;L<C;L++)R[F+L]=S}function o(R){return new Int32Array(R)}function u(R,F){for(var S=[],C=0;C<R;C++)S.push(new F);return S}function h(R,F){var S=[];return(function C(L,Z,bt){for(var st=bt[Z],dt=0;dt<st&&(L.push(bt.length>Z+1?[]:new F),!(bt.length<Z+1));dt++)C(L[dt],Z+1,bt)})(S,0,R),S}var f=function(){var R=this;function F(d,y){for(var E=1<<y-1>>>0;d&E;)E>>>=1;return E?(d&E-1)+E:d}function S(d,y,E,I,M){t(!(I%E));do d[y+(I-=E)]=M;while(0<I)}function C(d,y,E,I,M){if(t(2328>=M),512>=M)var q=o(512);else if((q=o(M))==null)return 0;return(function(H,K,X,it,ft,It){var et,yt,Et=K,Mt=1<<X,Tt=o(16),Pt=o(16);for(t(ft!=0),t(it!=null),t(H!=null),t(0<X),yt=0;yt<ft;++yt){if(15<it[yt])return 0;++Tt[it[yt]]}if(Tt[0]==ft)return 0;for(Pt[1]=0,et=1;15>et;++et){if(Tt[et]>1<<et)return 0;Pt[et+1]=Pt[et]+Tt[et]}for(yt=0;yt<ft;++yt)et=it[yt],0<it[yt]&&(It[Pt[et]++]=yt);if(Pt[15]==1)return(it=new L).g=0,it.value=It[0],S(H,Et,1,Mt,it),Mt;var jt,$t=-1,Yt=Mt-1,fe=0,se=1,Ye=1,ue=1<<X;for(yt=0,et=1,ft=2;et<=X;++et,ft<<=1){if(se+=Ye<<=1,0>(Ye-=Tt[et]))return 0;for(;0<Tt[et];--Tt[et])(it=new L).g=et,it.value=It[yt++],S(H,Et+fe,ft,ue,it),fe=F(fe,et)}for(et=X+1,ft=2;15>=et;++et,ft<<=1){if(se+=Ye<<=1,0>(Ye-=Tt[et]))return 0;for(;0<Tt[et];--Tt[et]){if(it=new L,(fe&Yt)!=$t){for(Et+=ue,jt=1<<($t=et)-X;15>$t&&!(0>=(jt-=Tt[$t]));)++$t,jt<<=1;Mt+=ue=1<<(jt=$t-X),H[K+($t=fe&Yt)].g=jt+X,H[K+$t].value=Et-K-$t}it.g=et-X,it.value=It[yt++],S(H,Et+(fe>>X),ft,ue,it),fe=F(fe,et)}}return se!=2*Pt[15]-1?0:Mt})(d,y,E,I,M,q)}function L(){this.value=this.g=0}function Z(){this.value=this.g=0}function bt(){this.G=u(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(wo,Z)}function st(d,y,E,I){t(d!=null),t(y!=null),t(2147483648>I),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=y,d.pa=E,d.Jd=y,d.Yc=E+I,d.Zc=4<=I?E+I-4+1:E,Nt(d)}function dt(d,y){for(var E=0;0<y--;)E|=Ut(d,128)<<y;return E}function ht(d,y){var E=dt(d,y);return St(d)?-E:E}function Ct(d,y,E,I){var M,q=0;for(t(d!=null),t(y!=null),t(4294967288>I),d.Sb=I,d.Ra=0,d.u=0,d.h=0,4<I&&(I=4),M=0;M<I;++M)q+=y[E+M]<<8*M;d.Ra=q,d.bb=I,d.oa=y,d.pa=E}function Ft(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Sa-8>>>0,++d.bb,d.u-=8;ot(d)&&(d.h=1,d.u=0)}function W(d,y){if(t(0<=y),!d.h&&y<=Yr){var E=$(d)&ss[y];return d.u+=y,Ft(d),E}return d.h=1,d.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(d){return d.Ra>>>(d.u&Sa-1)>>>0}function ot(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Sa}function ut(d,y){d.u=y,d.h=ot(d)}function mt(d){d.u>=Ta&&(t(d.u>=Ta),Ft(d))}function Nt(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function St(d){return dt(d,1)}function Ut(d,y){var E=d.Ca;0>d.b&&Nt(d);var I=d.b,M=E*y>>>8,q=(d.I>>>I>M)+0;for(q?(E-=M,d.I-=M+1<<I>>>0):E=M+1,I=E,M=0;256<=I;)M+=8,I>>=8;return I=7^M+Ga[I],d.b-=I,d.Ca=(E<<I)-1,q}function Wt(d,y,E){d[y+0]=E>>24&255,d[y+1]=E>>16&255,d[y+2]=E>>8&255,d[y+3]=255&E}function ee(d,y){return d[y+0]|d[y+1]<<8}function ne(d,y){return ee(d,y)|d[y+2]<<16}function Dt(d,y){return ee(d,y)|ee(d,y+2)<<16}function at(d,y){var E=1<<y;return t(d!=null),t(0<y),d.X=o(E),d.X==null?0:(d.Mb=32-y,d.Xa=y,1)}function We(d,y){t(d!=null),t(y!=null),t(d.Xa==y.Xa),r(y.X,0,d.X,0,1<<y.Xa)}function qe(){this.X=[],this.Xa=this.Mb=0}function be(d,y,E,I){t(E!=null),t(I!=null);var M=E[0],q=I[0];return M==0&&(M=(d*q+y/2)/y),q==0&&(q=(y*M+d/2)/d),0>=M||0>=q?0:(E[0]=M,I[0]=q,1)}function Gt(d,y){return d+(1<<y)-1>>>y}function ie(d,y){return((4278255360&d)+(4278255360&y)>>>0&4278255360)+((16711935&d)+(16711935&y)>>>0&16711935)>>>0}function te(d,y){R[y]=function(E,I,M,q,H,K,X){var it;for(it=0;it<H;++it){var ft=R[d](K[X+it-1],M,q+it);K[X+it]=ie(E[I+it],ft)}}}function Qe(){this.ud=this.hd=this.jd=0}function ve(d,y){return((4278124286&(d^y))>>>1)+(d&y)>>>0}function Ge(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function De(d,y){return Ge(d+(d-y+.5>>1))}function Ue(d,y,E){return Math.abs(y-E)-Math.abs(d-E)}function En(d,y,E,I,M,q,H){for(I=q[H-1],E=0;E<M;++E)q[H+E]=I=ie(d[y+E],I)}function Pe(d,y,E,I,M){var q;for(q=0;q<E;++q){var H=d[y+q],K=H>>8&255,X=16711935&(X=(X=16711935&H)+((K<<16)+K));I[M+q]=(4278255360&H)+X>>>0}}function _e(d,y){y.jd=255&d,y.hd=d>>8&255,y.ud=d>>16&255}function ke(d,y,E,I,M,q){var H;for(H=0;H<I;++H){var K=y[E+H],X=K>>>8,it=K,ft=255&(ft=(ft=K>>>16)+((d.jd<<24>>24)*(X<<24>>24)>>>5));it=255&(it=(it+=(d.hd<<24>>24)*(X<<24>>24)>>>5)+((d.ud<<24>>24)*(ft<<24>>24)>>>5)),M[q+H]=(4278255360&K)+(ft<<16)+it}}function me(d,y,E,I,M){R[y]=function(q,H,K,X,it,ft,It,et,yt){for(X=It;X<et;++X)for(It=0;It<yt;++It)it[ft++]=M(K[I(q[H++])])},R[d]=function(q,H,K,X,it,ft,It){var et=8>>q.b,yt=q.Ea,Et=q.K[0],Mt=q.w;if(8>et)for(q=(1<<q.b)-1,Mt=(1<<et)-1;H<K;++H){var Tt,Pt=0;for(Tt=0;Tt<yt;++Tt)Tt&q||(Pt=I(X[it++])),ft[It++]=M(Et[Pt&Mt]),Pt>>=et}else R["VP8LMapColor"+E](X,it,Et,Mt,ft,It,H,K,yt)}}function Mn(d,y,E,I,M){for(E=y+E;y<E;){var q=d[y++];I[M++]=q>>16&255,I[M++]=q>>8&255,I[M++]=255&q}}function en(d,y,E,I,M){for(E=y+E;y<E;){var q=d[y++];I[M++]=q>>16&255,I[M++]=q>>8&255,I[M++]=255&q,I[M++]=q>>24&255}}function re(d,y,E,I,M){for(E=y+E;y<E;){var q=(H=d[y++])>>16&240|H>>12&15,H=240&H|H>>28&15;I[M++]=q,I[M++]=H}}function Ee(d,y,E,I,M){for(E=y+E;y<E;){var q=(H=d[y++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;I[M++]=q,I[M++]=H}}function Ve(d,y,E,I,M){for(E=y+E;y<E;){var q=d[y++];I[M++]=255&q,I[M++]=q>>8&255,I[M++]=q>>16&255}}function Ne(d,y,E,I,M,q){if(q==0)for(E=y+E;y<E;)Wt(I,((q=d[y++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),M+=32;else r(I,M,d,y,E)}function rn(d,y){R[y][0]=R[d+"0"],R[y][1]=R[d+"1"],R[y][2]=R[d+"2"],R[y][3]=R[d+"3"],R[y][4]=R[d+"4"],R[y][5]=R[d+"5"],R[y][6]=R[d+"6"],R[y][7]=R[d+"7"],R[y][8]=R[d+"8"],R[y][9]=R[d+"9"],R[y][10]=R[d+"10"],R[y][11]=R[d+"11"],R[y][12]=R[d+"12"],R[y][13]=R[d+"13"],R[y][14]=R[d+"0"],R[y][15]=R[d+"0"]}function ze(d){return d==Ku||d==xc||d==Hl||d==Lc}function xn(){this.eb=[],this.size=this.A=this.fb=0}function ri(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function He(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xn,this.f.kb=new ri,this.sd=null}function Se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function sr(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Wi(d,y){var E=d.T,I=y.ba.f.RGBA,M=I.eb,q=I.fb+d.ka*I.A,H=pr[y.ba.S],K=d.y,X=d.O,it=d.f,ft=d.N,It=d.ea,et=d.W,yt=y.cc,Et=y.dc,Mt=y.Mc,Tt=y.Nc,Pt=d.ka,jt=d.ka+d.T,$t=d.U,Yt=$t+1>>1;for(Pt==0?H(K,X,null,null,it,ft,It,et,it,ft,It,et,M,q,null,null,$t):(H(y.ec,y.fc,K,X,yt,Et,Mt,Tt,it,ft,It,et,M,q-I.A,M,q,$t),++E);Pt+2<jt;Pt+=2)yt=it,Et=ft,Mt=It,Tt=et,ft+=d.Rc,et+=d.Rc,q+=2*I.A,H(K,(X+=2*d.fa)-d.fa,K,X,yt,Et,Mt,Tt,it,ft,It,et,M,q-I.A,M,q,$t);return X+=d.fa,d.j+jt<d.o?(r(y.ec,y.fc,K,X,$t),r(y.cc,y.dc,it,ft,Yt),r(y.Mc,y.Nc,It,et,Yt),E--):1&jt||H(K,X,null,null,it,ft,It,et,it,ft,It,et,M,q+I.A,null,null,$t),E}function xs(d,y,E){var I=d.F,M=[d.J];if(I!=null){var q=d.U,H=y.ba.S,K=H==Yu||H==Hl;y=y.ba.f.RGBA;var X=[0],it=d.ka;X[0]=d.T,d.Kb&&(it==0?--X[0]:(--it,M[0]-=d.width),d.j+d.ka+d.T==d.o&&(X[0]=d.o-d.j-it));var ft=y.eb;it=y.fb+it*y.A,d=qu(I,M[0],d.width,q,X,ft,it+(K?0:3),y.A),t(E==X),d&&ze(H)&&ll(ft,it,K,q,X,y.A)}return 0}function qi(d){var y=d.ma,E=y.ba.S,I=11>E,M=E==kr||E==Vs||E==Yu||E==zl||E==12||ze(E);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Ha(y.Oa,d,M?11:12))return 0;if(M&&ze(E)&&Jt(),d.da)alert("todo:use_scaling");else{if(I){if(y.Ib=sr,d.Kb){if(E=d.U+1>>1,y.memory=o(d.U+2*E),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+d.U,y.Mc=y.cc,y.Nc=y.dc+E,y.Ib=Wi,Jt()}}else alert("todo:EmitYUV");M&&(y.Jb=xs,I&&At())}if(I&&!Co){for(d=0;256>d;++d)gr[d]=89858*(d-128)+Kl>>Hs,k1[d]=-22014*(d-128)+Kl,gd[d]=-45773*(d-128),Mc[d]=113618*(d-128)+Kl>>Hs;for(d=fl;d<Io;++d)y=76283*(d-16)+Kl>>Hs,O1[d-fl]=vi(y,255),D1[d-fl]=vi(y+8>>4,15);Co=1}return 1}function we(d){var y=d.ma,E=d.U,I=d.T;return t(!(1&d.ka)),0>=E||0>=I?0:(E=y.Ib(d,y),y.Jb!=null&&y.Jb(d,y,E),y.Dc+=E,1)}function ea(d){d.ma.memory=null}function Vr(d,y,E,I){return W(d,8)!=47?0:(y[0]=W(d,14)+1,E[0]=W(d,14)+1,I[0]=W(d,1),W(d,3)!=0?0:!d.h)}function wr(d,y){if(4>d)return d+1;var E=d-2>>1;return(2+(1&d)<<E)+W(y,E)+1}function Ar(d,y){return 120<y?y-120:1<=(E=((E=js[y-1])>>4)*d+(8-(15&E)))?E:1;var E}function jn(d,y,E){var I=$(E),M=d[y+=255&I].g-8;return 0<M&&(ut(E,E.u+8),I=$(E),y+=d[y].value,y+=I&(1<<M)-1),ut(E,E.u+d[y].g),d[y].value}function Wn(d,y,E){return E.g+=d.g,E.value+=d.value<<y>>>0,t(8>=E.g),d.g}function ki(d,y,E){var I=d.xc;return t((y=I==0?0:d.vc[d.md*(E>>I)+(y>>I)])<d.Wb),d.Ya[y]}function ar(d,y,E,I){var M=d.ab,q=d.c*y,H=d.C;y=H+y;var K=E,X=I;for(I=d.Ta,E=d.Ua;0<M--;){var it=d.gc[M],ft=H,It=y,et=K,yt=X,Et=(X=I,K=E,it.Ea);switch(t(ft<It),t(It<=it.nc),it.hc){case 2:Ii(et,yt,(It-ft)*Et,X,K);break;case 0:var Mt=ft,Tt=It,Pt=X,jt=K,$t=(ue=it).Ea;Mt==0&&(Bl(et,yt,null,null,1,Pt,jt),En(et,yt+1,0,0,$t-1,Pt,jt+1),yt+=$t,jt+=$t,++Mt);for(var Yt=1<<ue.b,fe=Yt-1,se=Gt($t,ue.b),Ye=ue.K,ue=ue.w+(Mt>>ue.b)*se;Mt<Tt;){var cn=Ye,ai=ue,$e=1;for(jl(et,yt,Pt,jt-$t,1,Pt,jt);$e<$t;){var ae=($e&~fe)+Yt;ae>$t&&(ae=$t),(0,Ya[cn[ai++]>>8&15])(et,yt+ +$e,Pt,jt+$e-$t,ae-$e,Pt,jt+$e),$e=ae}yt+=$t,jt+=$t,++Mt&fe||(ue+=se)}It!=it.nc&&r(X,K-Et,X,K+(It-ft-1)*Et,Et);break;case 1:for(Et=et,Tt=yt,$t=(et=it.Ea)-(jt=et&~(Pt=(yt=1<<it.b)-1)),Mt=Gt(et,it.b),Yt=it.K,it=it.w+(ft>>it.b)*Mt;ft<It;){for(fe=Yt,se=it,Ye=new Qe,ue=Tt+jt,cn=Tt+et;Tt<ue;)_e(fe[se++],Ye),Fl(Ye,Et,Tt,yt,X,K),Tt+=yt,K+=yt;Tt<cn&&(_e(fe[se++],Ye),Fl(Ye,Et,Tt,$t,X,K),Tt+=$t,K+=$t),++ft&Pt||(it+=Mt)}break;case 3:if(et==X&&yt==K&&0<it.b){for(Tt=X,et=Et=K+(It-ft)*Et-(jt=(It-ft)*Gt(it.Ea,it.b)),yt=X,Pt=K,Mt=[],jt=($t=jt)-1;0<=jt;--jt)Mt[jt]=yt[Pt+jt];for(jt=$t-1;0<=jt;--jt)Tt[et+jt]=Mt[jt];Tc(it,ft,It,X,Et,X,K)}else Tc(it,ft,It,et,yt,X,K)}K=I,X=E}X!=E&&r(I,E,K,X,q)}function $i(d,y){var E=d.V,I=d.Ba+d.c*d.C,M=y-d.C;if(t(y<=d.l.o),t(16>=M),0<M){var q=d.l,H=d.Ta,K=d.Ua,X=q.width;if(ar(d,M,E,I),M=K=[K],t((E=d.C)<(I=y)),t(q.v<q.va),I>q.o&&(I=q.o),E<q.j){var it=q.j-E;E=q.j,M[0]+=it*X}if(E>=I?E=0:(M[0]+=4*q.v,q.ka=E-q.j,q.U=q.va-q.v,q.T=I-E,E=1),E){if(K=K[0],11>(E=d.ca).S){var ft=E.f.RGBA,It=(I=E.S,M=q.U,q=q.T,it=ft.eb,ft.A),et=q;for(ft=ft.fb+d.Ma*ft.A;0<et--;){var yt=H,Et=K,Mt=M,Tt=it,Pt=ft;switch(I){case Cc:ql(yt,Et,Mt,Tt,Pt);break;case kr:Ka(yt,Et,Mt,Tt,Pt);break;case Ku:Ka(yt,Et,Mt,Tt,Pt),ll(Tt,Pt,0,Mt,1,0);break;case Rc:al(yt,Et,Mt,Tt,Pt);break;case Vs:Ne(yt,Et,Mt,Tt,Pt,1);break;case xc:Ne(yt,Et,Mt,Tt,Pt,1),ll(Tt,Pt,0,Mt,1,0);break;case Yu:Ne(yt,Et,Mt,Tt,Pt,0);break;case Hl:Ne(yt,Et,Mt,Tt,Pt,0),ll(Tt,Pt,1,Mt,1,0);break;case zl:Qa(yt,Et,Mt,Tt,Pt);break;case Lc:Qa(yt,Et,Mt,Tt,Pt),Us(Tt,Pt,Mt,1,0);break;case Ao:Ca(yt,Et,Mt,Tt,Pt);break;default:t(0)}K+=X,ft+=It}d.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=E.height)}}d.C=y,t(d.C<=d.i)}function Ln(d){var y;if(0<d.ua)return 0;for(y=0;y<d.Wb;++y){var E=d.Ya[y].G,I=d.Ya[y].H;if(0<E[1][I[1]+0].g||0<E[2][I[2]+0].g||0<E[3][I[3]+0].g)return 0}return 1}function zn(d,y,E,I,M,q){if(d.Z!=0){var H=d.qd,K=d.rd;for(t($a[d.Z]!=null);y<E;++y)$a[d.Z](H,K,I,M,I,M,q),H=I,K=M,M+=q;d.qd=H,d.rd=K}}function Oi(d,y){var E=d.l.ma,I=E.Z==0||E.Z==1?d.l.j:d.C;if(I=d.C<I?I:d.C,t(y<=d.l.o),y>I){var M=d.l.width,q=E.ca,H=E.tb+M*I,K=d.V,X=d.Ba+d.c*I,it=d.gc;t(d.ab==1),t(it[0].hc==3),Ia(it[0],I,y,K,X,q,H),zn(E,I,y,q,H,M)}d.C=d.Ma=y}function Er(d,y,E,I,M,q,H){var K=d.$/I,X=d.$%I,it=d.m,ft=d.s,It=E+d.$,et=It;M=E+I*M;var yt=E+I*q,Et=280+ft.ua,Mt=d.Pb?K:16777216,Tt=0<ft.ua?ft.Wa:null,Pt=ft.wc,jt=It<yt?ki(ft,X,K):null;t(d.C<q),t(yt<=M);var $t=!1;t:for(;;){for(;$t||It<yt;){var Yt=0;if(K>=Mt){var fe=It-E;t((Mt=d).Pb),Mt.wd=Mt.m,Mt.xd=fe,0<Mt.s.ua&&We(Mt.s.Wa,Mt.s.vb),Mt=K+Eo}if(X&Pt||(jt=ki(ft,X,K)),t(jt!=null),jt.Qb&&(y[It]=jt.qb,$t=!0),!$t)if(mt(it),jt.jc){Yt=it,fe=y;var se=It,Ye=jt.pd[$(Yt)&wo-1];t(jt.jc),256>Ye.g?(ut(Yt,Yt.u+Ye.g),fe[se]=Ye.value,Yt=0):(ut(Yt,Yt.u+Ye.g-256),t(256<=Ye.value),Yt=Ye.value),Yt==0&&($t=!0)}else Yt=jn(jt.G[0],jt.H[0],it);if(it.h)break;if($t||256>Yt){if(!$t)if(jt.nd)y[It]=(jt.qb|Yt<<8)>>>0;else{if(mt(it),$t=jn(jt.G[1],jt.H[1],it),mt(it),fe=jn(jt.G[2],jt.H[2],it),se=jn(jt.G[3],jt.H[3],it),it.h)break;y[It]=(se<<24|$t<<16|Yt<<8|fe)>>>0}if($t=!1,++It,++X>=I&&(X=0,++K,H!=null&&K<=q&&!(K%16)&&H(d,K),Tt!=null))for(;et<It;)Yt=y[et++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt}else if(280>Yt){if(Yt=wr(Yt-256,it),fe=jn(jt.G[4],jt.H[4],it),mt(it),fe=Ar(I,fe=wr(fe,it)),it.h)break;if(It-E<fe||M-It<Yt)break t;for(se=0;se<Yt;++se)y[It+se]=y[It+se-fe];for(It+=Yt,X+=Yt;X>=I;)X-=I,++K,H!=null&&K<=q&&!(K%16)&&H(d,K);if(t(It<=M),X&Pt&&(jt=ki(ft,X,K)),Tt!=null)for(;et<It;)Yt=y[et++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt}else{if(!(Yt<Et))break t;for($t=Yt-280,t(Tt!=null);et<It;)Yt=y[et++],Tt.X[(506832829*Yt&4294967295)>>>Tt.Mb]=Yt;Yt=It,t(!($t>>>(fe=Tt).Xa)),y[Yt]=fe.X[$t],$t=!0}$t||t(it.h==ot(it))}if(d.Pb&&it.h&&It<M)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&We(d.s.vb,d.s.Wa);else{if(it.h)break t;H?.(d,K>q?q:K),d.a=0,d.$=It-E}return 1}return d.a=3,0}function es(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var y=d.Wa;y!=null&&(y.X=null),d.vb=null,t(d!=null)}function va(){var d=new he;return d==null?null:(d.a=0,d.xb=qh,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),Ii=Pe,Fl=ke,ql=Mn,Ka=en,Qa=re,Ca=Ee,al=Ve,R.VP8LMapColor32b=Na,R.VP8LMapColor8b=hr,d)}function ms(d,y,E,I,M){var q=1,H=[d],K=[y],X=I.m,it=I.s,ft=null,It=0;t:for(;;){if(E)for(;q&&W(X,1);){var et=H,yt=K,Et=I,Mt=1,Tt=Et.m,Pt=Et.gc[Et.ab],jt=W(Tt,2);if(Et.Oc&1<<jt)q=0;else{switch(Et.Oc|=1<<jt,Pt.hc=jt,Pt.Ea=et[0],Pt.nc=yt[0],Pt.K=[null],++Et.ab,t(4>=Et.ab),jt){case 0:case 1:Pt.b=W(Tt,3)+2,Mt=ms(Gt(Pt.Ea,Pt.b),Gt(Pt.nc,Pt.b),0,Et,Pt.K),Pt.K=Pt.K[0];break;case 3:var $t,Yt=W(Tt,8)+1,fe=16<Yt?0:4<Yt?1:2<Yt?2:3;if(et[0]=Gt(Pt.Ea,fe),Pt.b=fe,$t=Mt=ms(Yt,1,0,Et,Pt.K)){var se,Ye=Yt,ue=Pt,cn=1<<(8>>ue.b),ai=o(cn);if(ai==null)$t=0;else{var $e=ue.K[0],ae=ue.w;for(ai[0]=ue.K[0][0],se=1;se<1*Ye;++se)ai[se]=ie($e[ae+se],ai[se-1]);for(;se<4*cn;++se)ai[se]=0;ue.K[0]=null,ue.K[0]=ai,$t=1}}Mt=$t;break;case 2:break;default:t(0)}q=Mt}}if(H=H[0],K=K[0],q&&W(X,1)&&!(q=1<=(It=W(X,4))&&11>=It)){I.a=3;break t}var Zt;if(Zt=q)e:{var hi,Oe,nn,Un=I,Hi=H,mr=K,ti=It,Pi=E,Or=Un.m,Mi=Un.s,un=[null],Sn=1,fi=0,Rn=Fs[ti];n:for(;;){if(Pi&&W(Or,1)){var Gi=W(Or,3)+2,di=Gt(Hi,Gi),Tn=Gt(mr,Gi),xi=di*Tn;if(!ms(di,Tn,0,Un,un))break n;for(un=un[0],Mi.xc=Gi,hi=0;hi<xi;++hi){var Vn=un[hi]>>8&65535;un[hi]=Vn,Vn>=Sn&&(Sn=Vn+1)}}if(Or.h)break n;for(Oe=0;5>Oe;++Oe){var Ui=cl[Oe];!Oe&&0<ti&&(Ui+=1<<ti),fi<Ui&&(fi=Ui)}var Vi=u(Sn*Rn,L),Yn=Sn,An=u(Yn,bt);if(An==null)var Dr=null;else t(65536>=Yn),Dr=An;var bi=o(fi);if(Dr==null||bi==null||Vi==null){Un.a=1;break n}var Te=Vi;for(hi=nn=0;hi<Sn;++hi){var Ce=Dr[hi],Nn=Ce.G,as=Ce.H,Gs=0,Qr=1,Bi=0;for(Oe=0;5>Oe;++Oe){Ui=cl[Oe],Nn[Oe]=Te,as[Oe]=nn,!Oe&&0<ti&&(Ui+=1<<ti);r:{var Ro,xo=Ui,Vc=Un,ei=bi,Hh=Te,Gh=nn,Bc=0,Ja=Vc.m,P1=W(Ja,1);if(a(ei,0,0,xo),P1){var Yh=W(Ja,1)+1,Kh=W(Ja,1),jc=W(Ja,Kh==0?1:8);ei[jc]=1,Yh==2&&(ei[jc=W(Ja,8)]=1);var tr=1}else{var wi=o(19),$u=W(Ja,4)+4;if(19<$u){Vc.a=3;var Lo=0;break r}for(Ro=0;Ro<$u;++Ro)wi[Qu[Ro]]=W(Ja,3);var Xl=void 0,dl=void 0,La=Vc,Fc=wi,Wl=xo,qc=ei,zc=0,Za=La.m,Qh=8,Xh=u(128,L);i:for(;C(Xh,0,7,Fc,19);){if(W(Za,1)){var md=2+2*W(Za,3);if((Xl=2+W(Za,md))>Wl)break i}else Xl=Wl;for(dl=0;dl<Wl&&Xl--;){mt(Za);var Wh=Xh[0+(127&$(Za))];ut(Za,Za.u+Wh.g);var ko=Wh.value;if(16>ko)qc[dl++]=ko,ko!=0&&(Qh=ko);else{var yd=ko==16,vd=ko-16,_d=Gl[vd],$h=W(Za,Bs[vd])+_d;if(dl+$h>Wl)break i;for(var bd=yd?Qh:0;0<$h--;)qc[dl++]=bd}}zc=1;break i}zc||(La.a=3),tr=zc}(tr=tr&&!Ja.h)&&(Bc=C(Hh,Gh,8,ei,xo)),tr&&Bc!=0?Lo=Bc:(Vc.a=3,Lo=0)}if(Lo==0)break n;if(Qr&&kc[Oe]==1&&(Qr=Te[nn].g==0),Gs+=Te[nn].g,nn+=Lo,3>=Oe){var pl,Hc=bi[0];for(pl=1;pl<Ui;++pl)bi[pl]>Hc&&(Hc=bi[pl]);Bi+=Hc}}if(Ce.nd=Qr,Ce.Qb=0,Qr&&(Ce.qb=(Nn[3][as[3]+0].value<<24|Nn[1][as[1]+0].value<<16|Nn[2][as[2]+0].value)>>>0,Gs==0&&256>Nn[0][as[0]+0].value&&(Ce.Qb=1,Ce.qb+=Nn[0][as[0]+0].value<<8)),Ce.jc=!Ce.Qb&&6>Bi,Ce.jc){var Ju,ka=Ce;for(Ju=0;Ju<wo;++Ju){var to=Ju,eo=ka.pd[to],Gc=ka.G[0][ka.H[0]+to];256<=Gc.value?(eo.g=Gc.g+256,eo.value=Gc.value):(eo.g=0,eo.value=0,to>>=Wn(Gc,8,eo),to>>=Wn(ka.G[1][ka.H[1]+to],16,eo),to>>=Wn(ka.G[2][ka.H[2]+to],0,eo),Wn(ka.G[3][ka.H[3]+to],24,eo))}}}Mi.vc=un,Mi.Wb=Sn,Mi.Ya=Dr,Mi.yc=Vi,Zt=1;break e}Zt=0}if(!(q=Zt)){I.a=3;break t}if(0<It){if(it.ua=1<<It,!at(it.Wa,It)){I.a=1,q=0;break t}}else it.ua=0;var Yc=I,gl=H,wd=K,$l=Yc.s,Jl=$l.xc;if(Yc.c=gl,Yc.i=wd,$l.md=Gt(gl,Jl),$l.wc=Jl==0?-1:(1<<Jl)-1,E){I.xb=So;break t}if((ft=o(H*K))==null){I.a=1,q=0;break t}q=(q=Er(I,ft,0,H,K,K,null))&&!X.h;break t}return q?(M!=null?M[0]=ft:(t(ft==null),t(E)),I.$=0,E||es(it)):es(it),q}function Sr(d,y){var E=d.c*d.i,I=E+y+16*y;return t(d.c<=y),d.V=o(I),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+E+y,1)}function na(d,y){var E=d.C,I=y-E,M=d.V,q=d.Ba+d.c*E;for(t(y<=d.l.o);0<I;){var H=16<I?16:I,K=d.l.ma,X=d.l.width,it=X*H,ft=K.ca,It=K.tb+X*E,et=d.Ta,yt=d.Ua;ar(d,H,M,q),Cs(et,yt,ft,It,it),zn(K,E,E+H,ft,It,X),I-=H,M+=H*d.c,E+=H}t(E==y),d.C=d.Ma=y}function Br(){this.ub=this.yd=this.td=this.Rb=0}function or(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ns(){this.Yb=(function(){var d=[];return(function y(E,I,M){for(var q=M[I],H=0;H<q&&(E.push(M.length>I+1?[]:0),!(M.length<I+1));H++)y(E[H],I+1,M)})(d,0,[3,11]),d})()}function ci(){this.jb=o(3),this.Wc=h([4,8],ns),this.Xc=h([4,17],ns)}function ho(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Tr(){this.ld=this.La=this.dd=this.tc=0}function is(){this.Na=this.la=0}function ys(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Va(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tr),this.Y=0,this.ya=Array(new Va),this.aa=0,this.l=new ia}function po(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Zo(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Br,this.Kc=new or,this.ed=new ho,this.Qa=new jr,this.Ic=this.$c=this.Aa=0,this.D=new fo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,D),this.ia=0,this.pb=u(4,ys),this.Pa=new ci,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new po),this.Hd=0,this.rb=Array(new is),this.sb=0,this.wa=Array(new Tr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Va),this.L=this.aa=0,this.gd=h([4,2],Tr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ia(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fr(){var d=new Zo;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Rs||(Rs=vs)),d}function an(d,y,E){return d.a==0&&(d.a=y,d.sc=E,d.cb=0),0}function Si(d,y,E){return 3<=E&&d[y+0]==157&&d[y+1]==1&&d[y+2]==42}function ra(d,y){if(d==null)return 0;if(d.a=0,d.sc="OK",y==null)return an(d,2,"null VP8Io passed to VP8GetHeaders()");var E=y.data,I=y.w,M=y.ha;if(4>M)return an(d,7,"Truncated header.");var q=E[I+0]|E[I+1]<<8|E[I+2]<<16,H=d.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return an(d,3,"Incorrect keyframe parameters.");if(!H.yd)return an(d,4,"Frame not displayable.");I+=3,M-=3;var K=d.Kc;if(H.Rb){if(7>M)return an(d,7,"cannot parse picture header");if(!Si(E,I,M))return an(d,3,"Bad code word");K.c=16383&(E[I+4]<<8|E[I+3]),K.Td=E[I+4]>>6,K.i=16383&(E[I+6]<<8|E[I+5]),K.Ud=E[I+6]>>6,I+=7,M-=7,d.za=K.c+15>>4,d.Ub=K.i+15>>4,y.width=K.c,y.height=K.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((q=d.Pa).jb,0,255,q.jb.length),t((q=d.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(H.ub>M)return an(d,7,"bad partition length");st(q=d.m,E,I,H.ub),I+=H.ub,M-=H.ub,H.Rb&&(K.Ld=St(q),K.Kd=St(q)),K=d.Qa;var X,it=d.Pa;if(t(q!=null),t(K!=null),K.Cb=St(q),K.Cb){if(K.Bb=St(q),St(q)){for(K.Fb=St(q),X=0;4>X;++X)K.Zb[X]=St(q)?ht(q,7):0;for(X=0;4>X;++X)K.Lb[X]=St(q)?ht(q,6):0}if(K.Bb)for(X=0;3>X;++X)it.jb[X]=St(q)?dt(q,8):255}else K.Bb=0;if(q.Ka)return an(d,3,"cannot parse segment header");if((K=d.ed).zd=St(q),K.Tb=dt(q,6),K.wb=dt(q,3),K.Pc=St(q),K.Pc&&St(q)){for(it=0;4>it;++it)St(q)&&(K.vd[it]=ht(q,6));for(it=0;4>it;++it)St(q)&&(K.od[it]=ht(q,6))}if(d.L=K.Tb==0?0:K.zd?1:2,q.Ka)return an(d,3,"cannot parse filter header");var ft=M;if(M=X=I,I=X+ft,K=ft,d.Xb=(1<<dt(d.m,2))-1,ft<3*(it=d.Xb))E=7;else{for(X+=3*it,K-=3*it,ft=0;ft<it;++ft){var It=E[M+0]|E[M+1]<<8|E[M+2]<<16;It>K&&(It=K),st(d.Jc[+ft],E,X,It),X+=It,K-=It,M+=3}st(d.Jc[+it],E,X,K),E=X<I?0:5}if(E!=0)return an(d,E,"cannot parse partitions");for(E=dt(X=d.m,7),M=St(X)?ht(X,4):0,I=St(X)?ht(X,4):0,K=St(X)?ht(X,4):0,it=St(X)?ht(X,4):0,X=St(X)?ht(X,4):0,ft=d.Qa,It=0;4>It;++It){if(ft.Cb){var et=ft.Zb[It];ft.Fb||(et+=E)}else{if(0<It){d.pb[It]=d.pb[0];continue}et=E}var yt=d.pb[It];yt.Sc[0]=qs[vi(et+M,127)],yt.Sc[1]=zs[vi(et+0,127)],yt.Eb[0]=2*qs[vi(et+I,127)],yt.Eb[1]=101581*zs[vi(et+K,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=qs[vi(et+it,117)],yt.Qc[1]=zs[vi(et+X,127)],yt.lc=et+X}if(!H.Rb)return an(d,4,"Not a key frame.");for(St(q),H=d.Pa,E=0;4>E;++E){for(M=0;8>M;++M)for(I=0;3>I;++I)for(K=0;11>K;++K)it=Ut(q,si[E][M][I][K])?dt(q,8):pd[E][M][I][K],H.Wc[E][M].Yb[I][K]=it;for(M=0;17>M;++M)H.Xc[E][M]=H.Wc[E][fn[M]]}return d.kc=St(q),d.kc&&(d.Bd=dt(q,8)),d.cb=1}function vs(d,y,E,I,M,q,H){var K=y[M].Yb[E];for(E=0;16>M;++M){if(!Ut(d,K[E+0]))return M;for(;!Ut(d,K[E+1]);)if(K=y[++M].Yb[0],E=0,M==16)return 16;var X=y[M+1].Yb;if(Ut(d,K[E+2])){var it=d,ft=0;if(Ut(it,(et=K)[(It=E)+3]))if(Ut(it,et[It+6])){for(K=0,It=2*(ft=Ut(it,et[It+8]))+(et=Ut(it,et[It+9+ft])),ft=0,et=dd[It];et[K];++K)ft+=ft+Ut(it,et[K]);ft+=3+(8<<It)}else Ut(it,et[It+7])?(ft=7+2*Ut(it,165),ft+=Ut(it,145)):ft=5+Ut(it,159);else ft=Ut(it,et[It+4])?3+Ut(it,et[It+5]):2;K=X[2]}else ft=1,K=X[1];X=H+Fh[M],0>(it=d).b&&Nt(it);var It,et=it.b,yt=(It=it.Ca>>1)-(it.I>>et)>>31;--it.b,it.Ca+=yt,it.Ca|=1,it.I-=(It+1&yt)<<et,q[X]=((ft^yt)-yt)*I[(0<M)+0]}return 16}function hn(d){var y=d.rb[d.sb-1];y.la=0,y.Na=0,a(d.zc,0,0,d.zc.length),d.ja=0}function lr(d,y,E,I,M){M=d[y+E+32*I]+(M>>3),d[y+E+32*I]=-256&M?0>M?0:255:M}function Nr(d,y,E,I,M,q){lr(d,y,0,E,I+M),lr(d,y,1,E,I+q),lr(d,y,2,E,I-q),lr(d,y,3,E,I-M)}function Hn(d){return(20091*d>>16)+d}function Ji(d,y,E,I){var M,q=0,H=o(16);for(M=0;4>M;++M){var K=d[y+0]+d[y+8],X=d[y+0]-d[y+8],it=(35468*d[y+4]>>16)-Hn(d[y+12]),ft=Hn(d[y+4])+(35468*d[y+12]>>16);H[q+0]=K+ft,H[q+1]=X+it,H[q+2]=X-it,H[q+3]=K-ft,q+=4,y++}for(M=q=0;4>M;++M)K=(d=H[q+0]+4)+H[q+8],X=d-H[q+8],it=(35468*H[q+4]>>16)-Hn(H[q+12]),lr(E,I,0,0,K+(ft=Hn(H[q+4])+(35468*H[q+12]>>16))),lr(E,I,1,0,X+it),lr(E,I,2,0,X-it),lr(E,I,3,0,K-ft),q++,I+=32}function go(d,y,E,I){var M=d[y+0]+4,q=35468*d[y+4]>>16,H=Hn(d[y+4]),K=35468*d[y+1]>>16;Nr(E,I,0,M+H,d=Hn(d[y+1]),K),Nr(E,I,1,M+q,d,K),Nr(E,I,2,M-q,d,K),Nr(E,I,3,M-H,d,K)}function Ul(d,y,E,I,M){Ji(d,y,E,I),M&&Ji(d,y+16,E,I+4)}function tl(d,y,E,I){Xa(d,y+0,E,I,1),Xa(d,y+32,E,I+128,1)}function ur(d,y,E,I){var M;for(d=d[y+0]+4,M=0;4>M;++M)for(y=0;4>y;++y)lr(E,I,y,M,d)}function el(d,y,E,I){d[y+0]&&Cn(d,y+0,E,I),d[y+16]&&Cn(d,y+16,E,I+4),d[y+32]&&Cn(d,y+32,E,I+128),d[y+48]&&Cn(d,y+48,E,I+128+4)}function sa(d,y,E,I){var M,q=o(16);for(M=0;4>M;++M){var H=d[y+0+M]+d[y+12+M],K=d[y+4+M]+d[y+8+M],X=d[y+4+M]-d[y+8+M],it=d[y+0+M]-d[y+12+M];q[0+M]=H+K,q[8+M]=H-K,q[4+M]=it+X,q[12+M]=it-X}for(M=0;4>M;++M)H=(d=q[0+4*M]+3)+q[3+4*M],K=q[1+4*M]+q[2+4*M],X=q[1+4*M]-q[2+4*M],it=d-q[3+4*M],E[I+0]=H+K>>3,E[I+16]=it+X>>3,E[I+32]=H-K>>3,E[I+48]=it-X>>3,I+=64}function Ti(d,y,E){var I,M=y-32,q=Lr,H=255-d[M-1];for(I=0;I<E;++I){var K,X=q,it=H+d[y-1];for(K=0;K<E;++K)d[y+K]=X[it+d[M+K]];y+=32}}function mo(d,y){Ti(d,y,4)}function nl(d,y){Ti(d,y,8)}function il(d,y){Ti(d,y,16)}function yo(d,y){var E;for(E=0;16>E;++E)r(d,y+32*E,d,y-32,16)}function vo(d,y){var E;for(E=16;0<E;--E)a(d,y,d[y-1],16),y+=32}function rs(d,y,E){var I;for(I=0;16>I;++I)a(y,E+32*I,d,16)}function _s(d,y){var E,I=16;for(E=0;16>E;++E)I+=d[y-1+32*E]+d[y+E-32];rs(I>>5,d,y)}function bs(d,y){var E,I=8;for(E=0;16>E;++E)I+=d[y-1+32*E];rs(I>>4,d,y)}function aa(d,y){var E,I=8;for(E=0;16>E;++E)I+=d[y+E-32];rs(I>>4,d,y)}function Ir(d,y){rs(128,d,y)}function xe(d,y,E){return d+2*y+E+2>>2}function Ls(d,y){var E,I=y-32;for(I=new Uint8Array([xe(d[I-1],d[I+0],d[I+1]),xe(d[I+0],d[I+1],d[I+2]),xe(d[I+1],d[I+2],d[I+3]),xe(d[I+2],d[I+3],d[I+4])]),E=0;4>E;++E)r(d,y+32*E,I,0,I.length)}function Ba(d,y){var E=d[y-1],I=d[y-1+32],M=d[y-1+64],q=d[y-1+96];Wt(d,y+0,16843009*xe(d[y-1-32],E,I)),Wt(d,y+32,16843009*xe(E,I,M)),Wt(d,y+64,16843009*xe(I,M,q)),Wt(d,y+96,16843009*xe(M,q,q))}function _o(d,y){var E,I=4;for(E=0;4>E;++E)I+=d[y+E-32]+d[y-1+32*E];for(I>>=3,E=0;4>E;++E)a(d,y+32*E,I,4)}function _a(d,y){var E=d[y-1+0],I=d[y-1+32],M=d[y-1+64],q=d[y-1-32],H=d[y+0-32],K=d[y+1-32],X=d[y+2-32],it=d[y+3-32];d[y+0+96]=xe(I,M,d[y-1+96]),d[y+1+96]=d[y+0+64]=xe(E,I,M),d[y+2+96]=d[y+1+64]=d[y+0+32]=xe(q,E,I),d[y+3+96]=d[y+2+64]=d[y+1+32]=d[y+0+0]=xe(H,q,E),d[y+3+64]=d[y+2+32]=d[y+1+0]=xe(K,H,q),d[y+3+32]=d[y+2+0]=xe(X,K,H),d[y+3+0]=xe(it,X,K)}function zi(d,y){var E=d[y+1-32],I=d[y+2-32],M=d[y+3-32],q=d[y+4-32],H=d[y+5-32],K=d[y+6-32],X=d[y+7-32];d[y+0+0]=xe(d[y+0-32],E,I),d[y+1+0]=d[y+0+32]=xe(E,I,M),d[y+2+0]=d[y+1+32]=d[y+0+64]=xe(I,M,q),d[y+3+0]=d[y+2+32]=d[y+1+64]=d[y+0+96]=xe(M,q,H),d[y+3+32]=d[y+2+64]=d[y+1+96]=xe(q,H,K),d[y+3+64]=d[y+2+96]=xe(H,K,X),d[y+3+96]=xe(K,X,X)}function Di(d,y){var E=d[y-1+0],I=d[y-1+32],M=d[y-1+64],q=d[y-1-32],H=d[y+0-32],K=d[y+1-32],X=d[y+2-32],it=d[y+3-32];d[y+0+0]=d[y+1+64]=q+H+1>>1,d[y+1+0]=d[y+2+64]=H+K+1>>1,d[y+2+0]=d[y+3+64]=K+X+1>>1,d[y+3+0]=X+it+1>>1,d[y+0+96]=xe(M,I,E),d[y+0+64]=xe(I,E,q),d[y+0+32]=d[y+1+96]=xe(E,q,H),d[y+1+32]=d[y+2+96]=xe(q,H,K),d[y+2+32]=d[y+3+96]=xe(H,K,X),d[y+3+32]=xe(K,X,it)}function ja(d,y){var E=d[y+0-32],I=d[y+1-32],M=d[y+2-32],q=d[y+3-32],H=d[y+4-32],K=d[y+5-32],X=d[y+6-32],it=d[y+7-32];d[y+0+0]=E+I+1>>1,d[y+1+0]=d[y+0+64]=I+M+1>>1,d[y+2+0]=d[y+1+64]=M+q+1>>1,d[y+3+0]=d[y+2+64]=q+H+1>>1,d[y+0+32]=xe(E,I,M),d[y+1+32]=d[y+0+96]=xe(I,M,q),d[y+2+32]=d[y+1+96]=xe(M,q,H),d[y+3+32]=d[y+2+96]=xe(q,H,K),d[y+3+64]=xe(H,K,X),d[y+3+96]=xe(K,X,it)}function kn(d,y){var E=d[y-1+0],I=d[y-1+32],M=d[y-1+64],q=d[y-1+96];d[y+0+0]=E+I+1>>1,d[y+2+0]=d[y+0+32]=I+M+1>>1,d[y+2+32]=d[y+0+64]=M+q+1>>1,d[y+1+0]=xe(E,I,M),d[y+3+0]=d[y+1+32]=xe(I,M,q),d[y+3+32]=d[y+1+64]=xe(M,q,q),d[y+3+64]=d[y+2+64]=d[y+0+96]=d[y+1+96]=d[y+2+96]=d[y+3+96]=q}function qr(d,y){var E=d[y-1+0],I=d[y-1+32],M=d[y-1+64],q=d[y-1+96],H=d[y-1-32],K=d[y+0-32],X=d[y+1-32],it=d[y+2-32];d[y+0+0]=d[y+2+32]=E+H+1>>1,d[y+0+32]=d[y+2+64]=I+E+1>>1,d[y+0+64]=d[y+2+96]=M+I+1>>1,d[y+0+96]=q+M+1>>1,d[y+3+0]=xe(K,X,it),d[y+2+0]=xe(H,K,X),d[y+1+0]=d[y+3+32]=xe(E,H,K),d[y+1+32]=d[y+3+64]=xe(I,E,H),d[y+1+64]=d[y+3+96]=xe(M,I,E),d[y+1+96]=xe(q,M,I)}function Fa(d,y){var E;for(E=0;8>E;++E)r(d,y+32*E,d,y-32,8)}function ws(d,y){var E;for(E=0;8>E;++E)a(d,y,d[y-1],8),y+=32}function ba(d,y,E){var I;for(I=0;8>I;++I)a(y,E+32*I,d,8)}function ks(d,y){var E,I=8;for(E=0;8>E;++E)I+=d[y+E-32]+d[y-1+32*E];ba(I>>4,d,y)}function oa(d,y){var E,I=4;for(E=0;8>E;++E)I+=d[y+E-32];ba(I>>3,d,y)}function zr(d,y){var E,I=4;for(E=0;8>E;++E)I+=d[y-1+32*E];ba(I>>3,d,y)}function Ni(d,y){ba(128,d,y)}function Hr(d,y,E){var I=d[y-E],M=d[y+0],q=3*(M-I)+Wa[1020+d[y-2*E]-d[y+E]],H=Gu[112+(q+4>>3)];d[y-E]=Lr[255+I+Gu[112+(q+3>>3)]],d[y+0]=Lr[255+M-H]}function Cr(d,y,E,I){var M=d[y+0],q=d[y+E];return fr[255+d[y-2*E]-d[y-E]]>I||fr[255+q-M]>I}function Os(d,y,E,I){return 4*fr[255+d[y-E]-d[y+0]]+fr[255+d[y-2*E]-d[y+E]]<=I}function wa(d,y,E,I,M){var q=d[y-3*E],H=d[y-2*E],K=d[y-E],X=d[y+0],it=d[y+E],ft=d[y+2*E],It=d[y+3*E];return 4*fr[255+K-X]+fr[255+H-it]>I?0:fr[255+d[y-4*E]-q]<=M&&fr[255+q-H]<=M&&fr[255+H-K]<=M&&fr[255+It-ft]<=M&&fr[255+ft-it]<=M&&fr[255+it-X]<=M}function Ds(d,y,E,I){var M=2*I+1;for(I=0;16>I;++I)Os(d,y+I,E,M)&&Hr(d,y+I,E)}function Ps(d,y,E,I){var M=2*I+1;for(I=0;16>I;++I)Os(d,y+I*E,1,M)&&Hr(d,y+I*E,1)}function As(d,y,E,I){var M;for(M=3;0<M;--M)Ds(d,y+=4*E,E,I)}function qa(d,y,E,I){var M;for(M=3;0<M;--M)Ps(d,y+=4,E,I)}function Es(d,y,E,I,M,q,H,K){for(q=2*q+1;0<M--;){if(wa(d,y,E,q,H))if(Cr(d,y,E,K))Hr(d,y,E);else{var X=d,it=y,ft=E,It=X[it-2*ft],et=X[it-ft],yt=X[it+0],Et=X[it+ft],Mt=X[it+2*ft],Tt=27*(jt=Wa[1020+3*(yt-et)+Wa[1020+It-Et]])+63>>7,Pt=18*jt+63>>7,jt=9*jt+63>>7;X[it-3*ft]=Lr[255+X[it-3*ft]+jt],X[it-2*ft]=Lr[255+It+Pt],X[it-ft]=Lr[255+et+Tt],X[it+0]=Lr[255+yt-Tt],X[it+ft]=Lr[255+Et-Pt],X[it+2*ft]=Lr[255+Mt-jt]}y+=I}}function Gr(d,y,E,I,M,q,H,K){for(q=2*q+1;0<M--;){if(wa(d,y,E,q,H))if(Cr(d,y,E,K))Hr(d,y,E);else{var X=d,it=y,ft=E,It=X[it-ft],et=X[it+0],yt=X[it+ft],Et=Gu[112+(4+(Mt=3*(et-It))>>3)],Mt=Gu[112+(Mt+3>>3)],Tt=Et+1>>1;X[it-2*ft]=Lr[255+X[it-2*ft]+Tt],X[it-ft]=Lr[255+It+Mt],X[it+0]=Lr[255+et-Et],X[it+ft]=Lr[255+yt-Tt]}y+=I}}function rl(d,y,E,I,M,q){Es(d,y,E,1,16,I,M,q)}function sl(d,y,E,I,M,q){Es(d,y,1,E,16,I,M,q)}function Ss(d,y,E,I,M,q){var H;for(H=3;0<H;--H)Gr(d,y+=4*E,E,1,16,I,M,q)}function bo(d,y,E,I,M,q){var H;for(H=3;0<H;--H)Gr(d,y+=4,1,E,16,I,M,q)}function w(d,y,E,I,M,q,H,K){Es(d,y,M,1,8,q,H,K),Es(E,I,M,1,8,q,H,K)}function P(d,y,E,I,M,q,H,K){Es(d,y,1,M,8,q,H,K),Es(E,I,1,M,8,q,H,K)}function nt(d,y,E,I,M,q,H,K){Gr(d,y+4*M,M,1,8,q,H,K),Gr(E,I+4*M,M,1,8,q,H,K)}function ct(d,y,E,I,M,q,H,K){Gr(d,y+4,1,M,8,q,H,K),Gr(E,I+4,1,M,8,q,H,K)}function _t(){this.ba=new He,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Vt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function oe(){this.ua=0,this.Wa=new qe,this.vb=new qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new bt,this.yc=new L}function he(){this.xb=this.a=0,this.l=new ia,this.ca=new He,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new oe,this.ab=0,this.gc=u(4,Qt),this.Oc=0}function Ie(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ia,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ye(d,y,E,I,M,q,H){for(d=d==null?0:d[y+0],y=0;y<H;++y)M[q+y]=d+E[I+y]&255,d=M[q+y]}function gn(d,y,E,I,M,q,H){var K;if(d==null)ye(null,null,E,I,M,q,H);else for(K=0;K<H;++K)M[q+K]=d[y+K]+E[I+K]&255}function $n(d,y,E,I,M,q,H){if(d==null)ye(null,null,E,I,M,q,H);else{var K,X=d[y+0],it=X,ft=X;for(K=0;K<H;++K)it=ft+(X=d[y+K])-it,ft=E[I+K]+(-256&it?0>it?0:255:it)&255,it=X,M[q+K]=ft}}function Fn(d,y,E,I){var M=y.width,q=y.o;if(t(d!=null&&y!=null),0>E||0>=I||E+I>q)return null;if(!d.Cc){if(d.ga==null){var H;if(d.ga=new Ie,(H=d.ga==null)||(H=y.width*y.o,t(d.Gb.length==0),d.Gb=o(H),d.Uc=0,d.Gb==null?H=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,H=1),H=!H),!H){H=d.ga;var K=d.Fa,X=d.P,it=d.qc,ft=d.mb,It=d.nb,et=X+1,yt=it-1,Et=H.l;if(t(K!=null&&ft!=null&&y!=null),$a[0]=null,$a[1]=ye,$a[2]=gn,$a[3]=$n,H.ca=ft,H.tb=It,H.c=y.width,H.i=y.height,t(0<H.c&&0<H.i),1>=it)y=0;else if(H.$a=3&K[X+0],H.Z=K[X+0]>>2&3,H.Lc=K[X+0]>>4&3,X=K[X+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||X)y=0;else if(Et.put=we,Et.ac=qi,Et.bc=ea,Et.ma=H,Et.width=y.width,Et.height=y.height,Et.Da=y.Da,Et.v=y.v,Et.va=y.va,Et.j=y.j,Et.o=y.o,H.$a)t:{t(H.$a==1),y=va();e:for(;;){if(y==null){y=0;break t}if(t(H!=null),H.mc=y,y.c=H.c,y.i=H.i,y.l=H.l,y.l.ma=H,y.l.width=H.c,y.l.height=H.i,y.a=0,Ct(y.m,K,et,yt),!ms(H.c,H.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Ln(y.s)?(H.ic=1,K=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(K),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(H.ic=0,y=Sr(y,H.c)),!y))break e;y=1;break t}H.mc=null,y=0}else y=yt>=H.c*H.i;H=!y}if(H)return null;d.ga.Lc!=1?d.Ga=0:I=q-E}t(d.ga!=null),t(E+I<=q);t:{if(y=(K=d.ga).c,q=K.l.o,K.$a==0){if(et=d.rc,yt=d.Vc,Et=d.Fa,X=d.P+1+E*y,it=d.mb,ft=d.nb+E*y,t(X<=d.P+d.qc),K.Z!=0)for(t($a[K.Z]!=null),H=0;H<I;++H)$a[K.Z](et,yt,Et,X,it,ft,y),et=it,yt=ft,ft+=y,X+=y;else for(H=0;H<I;++H)r(it,ft,Et,X,y),et=it,yt=ft,ft+=y,X+=y;d.rc=et,d.Vc=yt}else{if(t(K.mc!=null),y=E+I,t((H=K.mc)!=null),t(y<=H.i),H.C>=y)y=1;else if(K.ic||At(),K.ic){K=H.V,et=H.Ba,yt=H.c;var Mt=H.i,Tt=(Et=1,X=H.$/yt,it=H.$%yt,ft=H.m,It=H.s,H.$),Pt=yt*Mt,jt=yt*y,$t=It.wc,Yt=Tt<jt?ki(It,it,X):null;t(Tt<=Pt),t(y<=Mt),t(Ln(It));e:for(;;){for(;!ft.h&&Tt<jt;){if(it&$t||(Yt=ki(It,it,X)),t(Yt!=null),mt(ft),256>(Mt=jn(Yt.G[0],Yt.H[0],ft)))K[et+Tt]=Mt,++Tt,++it>=yt&&(it=0,++X<=y&&!(X%16)&&Oi(H,X));else{if(!(280>Mt)){Et=0;break e}Mt=wr(Mt-256,ft);var fe,se=jn(Yt.G[4],Yt.H[4],ft);if(mt(ft),!(Tt>=(se=Ar(yt,se=wr(se,ft)))&&Pt-Tt>=Mt)){Et=0;break e}for(fe=0;fe<Mt;++fe)K[et+Tt+fe]=K[et+Tt+fe-se];for(Tt+=Mt,it+=Mt;it>=yt;)it-=yt,++X<=y&&!(X%16)&&Oi(H,X);Tt<jt&&it&$t&&(Yt=ki(It,it,X))}t(ft.h==ot(ft))}Oi(H,X>y?y:X);break e}!Et||ft.h&&Tt<Pt?(Et=0,H.a=ft.h?5:3):H.$=Tt,y=Et}else y=Er(H,H.V,H.Ba,H.c,H.i,y,na);if(!y){I=0;break t}}E+I>=q&&(d.Cc=1),I=1}if(!I)return null;if(d.Cc&&((I=d.ga)!=null&&(I.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+E*M}function g(d,y,E,I,M,q){for(;0<M--;){var H,K=d,X=y+(E?1:0),it=d,ft=y+(E?0:3);for(H=0;H<I;++H){var It=it[ft+4*H];It!=255&&(It*=32897,K[X+4*H+0]=K[X+4*H+0]*It>>23,K[X+4*H+1]=K[X+4*H+1]*It>>23,K[X+4*H+2]=K[X+4*H+2]*It>>23)}y+=q}}function T(d,y,E,I,M){for(;0<I--;){var q;for(q=0;q<E;++q){var H=d[y+2*q+0],K=15&(it=d[y+2*q+1]),X=4369*K,it=(240&it|it>>4)*X>>16;d[y+2*q+0]=(240&H|H>>4)*X>>16&240|(15&H|H<<4)*X>>16>>4&15,d[y+2*q+1]=240&it|K}y+=M}}function k(d,y,E,I,M,q,H,K){var X,it,ft=255;for(it=0;it<M;++it){for(X=0;X<I;++X){var It=d[y+X];q[H+4*X]=It,ft&=It}y+=E,H+=K}return ft!=255}function Q(d,y,E,I,M){var q;for(q=0;q<M;++q)E[I+q]=d[y+q]>>8}function At(){ll=g,Us=T,qu=k,Cs=Q}function xt(d,y,E){R[d]=function(I,M,q,H,K,X,it,ft,It,et,yt,Et,Mt,Tt,Pt,jt,$t){var Yt,fe=$t-1>>1,se=K[X+0]|it[ft+0]<<16,Ye=It[et+0]|yt[Et+0]<<16;t(I!=null);var ue=3*se+Ye+131074>>2;for(y(I[M+0],255&ue,ue>>16,Mt,Tt),q!=null&&(ue=3*Ye+se+131074>>2,y(q[H+0],255&ue,ue>>16,Pt,jt)),Yt=1;Yt<=fe;++Yt){var cn=K[X+Yt]|it[ft+Yt]<<16,ai=It[et+Yt]|yt[Et+Yt]<<16,$e=se+cn+Ye+ai+524296,ae=$e+2*(cn+Ye)>>3;ue=ae+se>>1,se=($e=$e+2*(se+ai)>>3)+cn>>1,y(I[M+2*Yt-1],255&ue,ue>>16,Mt,Tt+(2*Yt-1)*E),y(I[M+2*Yt-0],255&se,se>>16,Mt,Tt+(2*Yt-0)*E),q!=null&&(ue=$e+Ye>>1,se=ae+ai>>1,y(q[H+2*Yt-1],255&ue,ue>>16,Pt,jt+(2*Yt-1)*E),y(q[H+2*Yt+0],255&se,se>>16,Pt,jt+(2*Yt+0)*E)),se=cn,Ye=ai}1&$t||(ue=3*se+Ye+131074>>2,y(I[M+$t-1],255&ue,ue>>16,Mt,Tt+($t-1)*E),q!=null&&(ue=3*Ye+se+131074>>2,y(q[H+$t-1],255&ue,ue>>16,Pt,jt+($t-1)*E)))}}function Jt(){pr[Cc]=hl,pr[kr]=Yl,pr[Rc]=zh,pr[Vs]=Dc,pr[Yu]=To,pr[zl]=xa,pr[Ao]=No,pr[Ku]=Yl,pr[xc]=Dc,pr[Hl]=To,pr[Lc]=xa}function Be(d){return d&-16384?0>d?0:255:d>>Pc}function Gn(d,y){return Be((19077*d>>8)+(26149*y>>8)-14234)}function ln(d,y,E){return Be((19077*d>>8)-(6419*y>>8)-(13320*E>>8)+8708)}function On(d,y){return Be((19077*d>>8)+(33050*y>>8)-17685)}function Zi(d,y,E,I,M){I[M+0]=Gn(d,E),I[M+1]=ln(d,y,E),I[M+2]=On(d,y)}function Rr(d,y,E,I,M){I[M+0]=On(d,y),I[M+1]=ln(d,y,E),I[M+2]=Gn(d,E)}function Jn(d,y,E,I,M){var q=ln(d,y,E);y=q<<3&224|On(d,y)>>3,I[M+0]=248&Gn(d,E)|q>>5,I[M+1]=y}function cr(d,y,E,I,M){var q=240&On(d,y)|15;I[M+0]=240&Gn(d,E)|ln(d,y,E)>>4,I[M+1]=q}function Ts(d,y,E,I,M){I[M+0]=255,Zi(d,y,E,I,M+1)}function Aa(d,y,E,I,M){Rr(d,y,E,I,M),I[M+3]=255}function Ea(d,y,E,I,M){Zi(d,y,E,I,M),I[M+3]=255}function vi(d,y){return 0>d?0:d>y?y:d}function za(d,y,E){R[d]=function(I,M,q,H,K,X,it,ft,It){for(var et=ft+(-2&It)*E;ft!=et;)y(I[M+0],q[H+0],K[X+0],it,ft),y(I[M+1],q[H+0],K[X+0],it,ft+E),M+=2,++H,++X,ft+=2*E;1&It&&y(I[M+0],q[H+0],K[X+0],it,ft)}}function Vl(d,y,E){return E==0?d==0?y==0?6:5:y==0?4:0:E}function Bu(d,y,E,I,M){switch(d>>>30){case 3:Xa(y,E,I,M,0);break;case 2:xr(y,E,I,M);break;case 1:Cn(y,E,I,M)}}function Ns(d,y){var E,I,M=y.M,q=y.Nb,H=d.oc,K=d.pc+40,X=d.oc,it=d.pc+584,ft=d.oc,It=d.pc+600;for(E=0;16>E;++E)H[K+32*E-1]=129;for(E=0;8>E;++E)X[it+32*E-1]=129,ft[It+32*E-1]=129;for(0<M?H[K-1-32]=X[it-1-32]=ft[It-1-32]=129:(a(H,K-32-1,127,21),a(X,it-32-1,127,9),a(ft,It-32-1,127,9)),I=0;I<d.za;++I){var et=y.ya[y.aa+I];if(0<I){for(E=-1;16>E;++E)r(H,K+32*E-4,H,K+32*E+12,4);for(E=-1;8>E;++E)r(X,it+32*E-4,X,it+32*E+4,4),r(ft,It+32*E-4,ft,It+32*E+4,4)}var yt=d.Gd,Et=d.Hd+I,Mt=et.ad,Tt=et.Hc;if(0<M&&(r(H,K-32,yt[Et].y,0,16),r(X,it-32,yt[Et].f,0,8),r(ft,It-32,yt[Et].ea,0,8)),et.Za){var Pt=H,jt=K-32+16;for(0<M&&(I>=d.za-1?a(Pt,jt,yt[Et].y[15],4):r(Pt,jt,yt[Et+1].y,0,4)),E=0;4>E;E++)Pt[jt+128+E]=Pt[jt+256+E]=Pt[jt+384+E]=Pt[jt+0+E];for(E=0;16>E;++E,Tt<<=2)Pt=H,jt=K+Ri[E],_i[et.Ob[E]](Pt,jt),Bu(Tt,Mt,16*+E,Pt,jt)}else if(Pt=Vl(I,M,et.Ob[0]),Kr[Pt](H,K),Tt!=0)for(E=0;16>E;++E,Tt<<=2)Bu(Tt,Mt,16*+E,H,K+Ri[E]);for(E=et.Gc,Pt=Vl(I,M,et.Dd),ha[Pt](X,it),ha[Pt](ft,It),Tt=Mt,Pt=X,jt=it,255&(et=0|E)&&(170&et?Ms(Tt,256,Pt,jt):wn(Tt,256,Pt,jt)),et=ft,Tt=It,255&(E>>=8)&&(170&E?Ms(Mt,320,et,Tt):wn(Mt,320,et,Tt)),M<d.Ub-1&&(r(yt[Et].y,0,H,K+480,16),r(yt[Et].f,0,X,it+224,8),r(yt[Et].ea,0,ft,It+224,8)),E=8*q*d.B,yt=d.sa,Et=d.ta+16*I+16*q*d.R,Mt=d.qa,et=d.ra+8*I+E,Tt=d.Ha,Pt=d.Ia+8*I+E,E=0;16>E;++E)r(yt,Et+E*d.R,H,K+32*E,16);for(E=0;8>E;++E)r(Mt,et+E*d.B,X,it+32*E,8),r(Tt,Pt+E*d.B,ft,It+32*E,8)}}function la(d,y,E,I,M,q,H,K,X){var it=[0],ft=[0],It=0,et=X!=null?X.kd:0,yt=X??new Vt;if(d==null||12>E)return 7;yt.data=d,yt.w=y,yt.ha=E,y=[y],E=[E],yt.gb=[yt.gb];t:{var Et=y,Mt=E,Tt=yt.gb;if(t(d!=null),t(Mt!=null),t(Tt!=null),Tt[0]=0,12<=Mt[0]&&!e(d,Et[0],"RIFF")){if(e(d,Et[0]+8,"WEBP")){Tt=3;break t}var Pt=Dt(d,Et[0]+4);if(12>Pt||4294967286<Pt){Tt=3;break t}if(et&&Pt>Mt[0]-8){Tt=7;break t}Tt[0]=Pt,Et[0]+=12,Mt[0]-=12}Tt=0}if(Tt!=0)return Tt;for(Pt=0<yt.gb[0],E=E[0];;){t:{var jt=d;Mt=y,Tt=E;var $t=it,Yt=ft,fe=Et=[0];if((ue=It=[It])[0]=0,8>Tt[0])Tt=7;else{if(!e(jt,Mt[0],"VP8X")){if(Dt(jt,Mt[0]+4)!=10){Tt=3;break t}if(18>Tt[0]){Tt=7;break t}var se=Dt(jt,Mt[0]+8),Ye=1+ne(jt,Mt[0]+12);if(2147483648<=Ye*(jt=1+ne(jt,Mt[0]+15))){Tt=3;break t}fe!=null&&(fe[0]=se),$t!=null&&($t[0]=Ye),Yt!=null&&(Yt[0]=jt),Mt[0]+=18,Tt[0]-=18,ue[0]=1}Tt=0}}if(It=It[0],Et=Et[0],Tt!=0)return Tt;if(Mt=!!(2&Et),!Pt&&It)return 3;if(q!=null&&(q[0]=!!(16&Et)),H!=null&&(H[0]=Mt),K!=null&&(K[0]=0),H=it[0],Et=ft[0],It&&Mt&&X==null){Tt=0;break}if(4>E){Tt=7;break}if(Pt&&It||!Pt&&!It&&!e(d,y[0],"ALPH")){E=[E],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{se=d,Tt=y,Pt=E;var ue=yt.gb;$t=yt.na,Yt=yt.P,fe=yt.Sa,Ye=22,t(se!=null),t(Pt!=null),jt=Tt[0];var cn=Pt[0];for(t($t!=null),t(fe!=null),$t[0]=null,Yt[0]=null,fe[0]=0;;){if(Tt[0]=jt,Pt[0]=cn,8>cn){Tt=7;break t}var ai=Dt(se,jt+4);if(4294967286<ai){Tt=3;break t}var $e=8+ai+1&-2;if(Ye+=$e,0<ue&&Ye>ue){Tt=3;break t}if(!e(se,jt,"VP8 ")||!e(se,jt,"VP8L")){Tt=0;break t}if(cn[0]<$e){Tt=7;break t}e(se,jt,"ALPH")||($t[0]=se,Yt[0]=jt+8,fe[0]=ai),jt+=$e,cn-=$e}}if(E=E[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],Tt!=0)break}E=[E],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(ue=d,Tt=y,Pt=E,$t=yt.gb[0],Yt=yt.Ja,fe=yt.xa,se=Tt[0],jt=!e(ue,se,"VP8 "),Ye=!e(ue,se,"VP8L"),t(ue!=null),t(Pt!=null),t(Yt!=null),t(fe!=null),8>Pt[0])Tt=7;else{if(jt||Ye){if(ue=Dt(ue,se+4),12<=$t&&ue>$t-12){Tt=3;break t}if(et&&ue>Pt[0]-8){Tt=7;break t}Yt[0]=ue,Tt[0]+=8,Pt[0]-=8,fe[0]=Ye}else fe[0]=5<=Pt[0]&&ue[se+0]==47&&!(ue[se+4]>>5),Yt[0]=Pt[0];Tt=0}if(E=E[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],y=y[0],Tt!=0)break;if(4294967286<yt.Ja)return 3;if(K==null||Mt||(K[0]=yt.xa?2:1),H=[H],Et=[Et],yt.xa){if(5>E){Tt=7;break}K=H,et=Et,Mt=q,d==null||5>E?d=0:5<=E&&d[y+0]==47&&!(d[y+4]>>5)?(Pt=[0],ue=[0],$t=[0],Ct(Yt=new Y,d,y,E),Vr(Yt,Pt,ue,$t)?(K!=null&&(K[0]=Pt[0]),et!=null&&(et[0]=ue[0]),Mt!=null&&(Mt[0]=$t[0]),d=1):d=0):d=0}else{if(10>E){Tt=7;break}K=Et,d==null||10>E||!Si(d,y+3,E-3)?d=0:(et=d[y+0]|d[y+1]<<8|d[y+2]<<16,Mt=16383&(d[y+7]<<8|d[y+6]),d=16383&(d[y+9]<<8|d[y+8]),1&et||3<(et>>1&7)||!(et>>4&1)||et>>5>=yt.Ja||!Mt||!d?d=0:(H&&(H[0]=Mt),K&&(K[0]=d),d=1))}if(!d||(H=H[0],Et=Et[0],It&&(it[0]!=H||ft[0]!=Et)))return 3;X!=null&&(X[0]=yt,X.offset=y-X.w,t(4294967286>y-X.w),t(X.offset==X.ha-E));break}return Tt==0||Tt==7&&It&&X==null?(q!=null&&(q[0]|=yt.na!=null&&0<yt.na.length),I!=null&&(I[0]=H),M!=null&&(M[0]=Et),0):Tt}function Ha(d,y,E){var I=y.width,M=y.height,q=0,H=0,K=I,X=M;if(y.Da=d!=null&&0<d.Da,y.Da&&(K=d.cd,X=d.bd,q=d.v,H=d.j,11>E||(q&=-2,H&=-2),0>q||0>H||0>=K||0>=X||q+K>I||H+X>M))return 0;if(y.v=q,y.j=H,y.va=q+K,y.o=H+X,y.U=K,y.T=X,y.da=d!=null&&0<d.da,y.da){if(!be(K,X,E=[d.ib],q=[d.hb]))return 0;y.ib=E[0],y.hb=q[0]}return y.ob=d!=null&&d.ob,y.Kb=d==null||!d.Sd,y.da&&(y.ob=y.ib<3*I/4&&y.hb<3*M/4,y.Kb=0),1}function ju(d){if(d==null)return 2;if(11>d.S){var y=d.f.RGBA;y.fb+=(d.height-1)*y.A,y.A=-y.A}else y=d.f.kb,d=d.height,y.O+=(d-1)*y.fa,y.fa=-y.fa,y.N+=(d-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(d-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(d-1)*y.lb,y.lb=-y.lb);return 0}function ua(d,y,E,I){if(I==null||0>=d||0>=y)return 2;if(E!=null){if(E.Da){var M=E.cd,q=E.bd,H=-2&E.v,K=-2&E.j;if(0>H||0>K||0>=M||0>=q||H+M>d||K+q>y)return 2;d=M,y=q}if(E.da){if(!be(d,y,M=[E.ib],q=[E.hb]))return 2;d=M[0],y=q[0]}}I.width=d,I.height=y;t:{var X=I.width,it=I.height;if(d=I.S,0>=X||0>=it||!(d>=Cc&&13>d))d=2;else{if(0>=I.Rd&&I.sd==null){H=q=M=y=0;var ft=(K=X*Uc[d])*it;if(11>d||(q=(it+1)/2*(y=(X+1)/2),d==12&&(H=(M=X)*it)),(it=o(ft+2*q+H))==null){d=1;break t}I.sd=it,11>d?((X=I.f.RGBA).eb=it,X.fb=0,X.A=K,X.size=ft):((X=I.f.kb).y=it,X.O=0,X.fa=K,X.Fd=ft,X.f=it,X.N=0+ft,X.Ab=y,X.Cd=q,X.ea=it,X.W=0+ft+q,X.Db=y,X.Ed=q,d==12&&(X.F=it,X.J=0+ft+2*q),X.Tc=H,X.lb=M)}if(y=1,M=I.S,q=I.width,H=I.height,M>=Cc&&13>M)if(11>M)d=I.f.RGBA,y&=(K=Math.abs(d.A))*(H-1)+q<=d.size,y&=K>=q*Uc[M],y&=d.eb!=null;else{d=I.f.kb,K=(q+1)/2,ft=(H+1)/2,X=Math.abs(d.fa),it=Math.abs(d.Ab);var It=Math.abs(d.Db),et=Math.abs(d.lb),yt=et*(H-1)+q;y&=X*(H-1)+q<=d.Fd,y&=it*(ft-1)+K<=d.Cd,y=(y&=It*(ft-1)+K<=d.Ed)&X>=q&it>=K&It>=K,y&=d.y!=null,y&=d.f!=null,y&=d.ea!=null,M==12&&(y&=et>=q,y&=yt<=d.Tc,y&=d.F!=null)}else y=0;d=y?0:2}}return d!=0||E!=null&&E.fd&&(d=ju(I)),d}var wo=64,ss=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yr=24,Sa=32,Ta=8,Ga=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];te("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(d){return d},R.Predictor2=function(d,y,E){return y[E+0]},R.Predictor3=function(d,y,E){return y[E+1]},R.Predictor4=function(d,y,E){return y[E-1]},R.Predictor5=function(d,y,E){return ve(ve(d,y[E+1]),y[E+0])},R.Predictor6=function(d,y,E){return ve(d,y[E-1])},R.Predictor7=function(d,y,E){return ve(d,y[E+0])},R.Predictor8=function(d,y,E){return ve(y[E-1],y[E+0])},R.Predictor9=function(d,y,E){return ve(y[E+0],y[E+1])},R.Predictor10=function(d,y,E){return ve(ve(d,y[E-1]),ve(y[E+0],y[E+1]))},R.Predictor11=function(d,y,E){var I=y[E+0];return 0>=Ue(I>>24&255,d>>24&255,(y=y[E-1])>>24&255)+Ue(I>>16&255,d>>16&255,y>>16&255)+Ue(I>>8&255,d>>8&255,y>>8&255)+Ue(255&I,255&d,255&y)?I:d},R.Predictor12=function(d,y,E){var I=y[E+0];return(Ge((d>>24&255)+(I>>24&255)-((y=y[E-1])>>24&255))<<24|Ge((d>>16&255)+(I>>16&255)-(y>>16&255))<<16|Ge((d>>8&255)+(I>>8&255)-(y>>8&255))<<8|Ge((255&d)+(255&I)-(255&y)))>>>0},R.Predictor13=function(d,y,E){var I=y[E-1];return(De((d=ve(d,y[E+0]))>>24&255,I>>24&255)<<24|De(d>>16&255,I>>16&255)<<16|De(d>>8&255,I>>8&255)<<8|De(255&d,255&I))>>>0};var Bl=R.PredictorAdd0;R.PredictorAdd1=En,te("Predictor2","PredictorAdd2"),te("Predictor3","PredictorAdd3"),te("Predictor4","PredictorAdd4"),te("Predictor5","PredictorAdd5"),te("Predictor6","PredictorAdd6"),te("Predictor7","PredictorAdd7"),te("Predictor8","PredictorAdd8"),te("Predictor9","PredictorAdd9"),te("Predictor10","PredictorAdd10"),te("Predictor11","PredictorAdd11"),te("Predictor12","PredictorAdd12"),te("Predictor13","PredictorAdd13");var jl=R.PredictorAdd2;me("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Ii,Tc=R.ColorIndexInverseTransform,Na=R.MapARGB,Ia=R.VP8LColorIndexInverseTransformAlpha,hr=R.MapAlpha,Ya=R.VP8LPredictorsAdd=[];Ya.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Fl,ql,Ka,Qa,Ca,al,Is,Xa,xr,Ms,Cn,wn,Zn,Ci,Ra,ca,ol,Fu,Vh,cd,hd,fd,Bh,jh,ll,Us,qu,Cs,ul=o(511),Nc=o(2041),zu=o(225),Hu=o(767),Ic=0,Wa=Nc,Gu=zu,Lr=Hu,fr=ul,Cc=0,kr=1,Rc=2,Vs=3,Yu=4,zl=5,Ao=6,Ku=7,xc=8,Hl=9,Lc=10,Bs=[2,3,7],Gl=[3,3,11],cl=[280,256,256,256,40],kc=[0,1,1,1,0],Qu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],js=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Eo=8,qs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rs=null,dd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],si=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Kr=[],_i=[],ha=[],So=1,qh=2,$a=[],pr=[];xt("UpsampleRgbLinePair",Zi,3),xt("UpsampleBgrLinePair",Rr,3),xt("UpsampleRgbaLinePair",Ea,4),xt("UpsampleBgraLinePair",Aa,4),xt("UpsampleArgbLinePair",Ts,4),xt("UpsampleRgba4444LinePair",cr,2),xt("UpsampleRgb565LinePair",Jn,2);var hl=R.UpsampleRgbLinePair,zh=R.UpsampleBgrLinePair,Yl=R.UpsampleRgbaLinePair,Dc=R.UpsampleBgraLinePair,To=R.UpsampleArgbLinePair,xa=R.UpsampleRgba4444LinePair,No=R.UpsampleRgb565LinePair,Hs=16,Kl=1<<Hs-1,fl=-227,Io=482,Pc=6,Co=0,gr=o(256),Mc=o(256),gd=o(256),k1=o(256),O1=o(Io-fl),D1=o(Io-fl);za("YuvToRgbRow",Zi,3),za("YuvToBgrRow",Rr,3),za("YuvToRgbaRow",Ea,4),za("YuvToBgraRow",Aa,4),za("YuvToArgbRow",Ts,4),za("YuvToRgba4444Row",cr,2),za("YuvToRgb565Row",Jn,2);var Ri=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ql=[0,2,8],Xu=[8,7,6,4,4,2,2,2,1,1,1,1],Wu=1;this.WebPDecodeRGBA=function(d,y,E,I,M){var q=kr,H=new _t,K=new He;H.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var X=K.width,it=K.height,ft=new Se;if(ft==null||d==null)var It=2;else t(ft!=null),It=la(d,y,E,ft.width,ft.height,ft.Pd,ft.Qd,ft.format,null);if(It!=0?X=0:(X!=null&&(X[0]=ft.width[0]),it!=null&&(it[0]=ft.height[0]),X=1),X){K.width=K.width[0],K.height=K.height[0],I!=null&&(I[0]=K.width),M!=null&&(M[0]=K.height);t:{if(I=new ia,(M=new Vt).data=d,M.w=y,M.ha=E,M.kd=1,y=[0],t(M!=null),((d=la(M.data,M.w,M.ha,null,null,null,y,null,M))==0||d==7)&&y[0]&&(d=4),(y=d)==0){if(t(H!=null),I.data=M.data,I.w=M.w+M.offset,I.ha=M.ha-M.offset,I.put=we,I.ac=qi,I.bc=ea,I.ma=H,M.xa){if((d=va())==null){H=1;break t}if((function(et,yt){var Et=[0],Mt=[0],Tt=[0];e:for(;;){if(et==null)return 0;if(yt==null)return et.a=2,0;if(et.l=yt,et.a=0,Ct(et.m,yt.data,yt.w,yt.ha),!Vr(et.m,Et,Mt,Tt)){et.a=3;break e}if(et.xb=qh,yt.width=Et[0],yt.height=Mt[0],!ms(Et[0],Mt[0],1,et,null))break e;return 1}return t(et.a!=0),0})(d,I)){if(I=(y=ua(I.width,I.height,H.Oa,H.ba))==0){e:{I=d;n:for(;;){if(I==null){I=0;break e}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((E=I.l)!=null),t((M=E.ma)!=null),I.xb!=0){if(I.ca=M.ba,I.tb=M.tb,t(I.ca!=null),!Ha(M.Oa,E,Vs)){I.a=2;break n}if(!Sr(I,E.width)||E.da)break n;if((E.da||ze(I.ca.S))&&At(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&At()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!at(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Er(I,I.V,I.Ba,I.c,I.i,E.o,$i))break n;M.Dc=I.Ma,I=1;break e}t(I.a!=0),I=0}I=!I}I&&(y=d.a)}else y=d.a}else{if((d=new Fr)==null){H=1;break t}if(d.Fa=M.na,d.P=M.P,d.qc=M.Sa,ra(d,I)){if((y=ua(I.width,I.height,H.Oa,H.ba))==0){if(d.Aa=0,E=H.Oa,t((M=d)!=null),E!=null){if(0<(X=0>(X=E.Md)?0:100<X?255:255*X/100)){for(it=ft=0;4>it;++it)12>(It=M.pb[it]).lc&&(It.ia=X*Xu[0>It.lc?0:It.lc]>>3),ft|=It.ia;ft&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=E.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(et,yt){if(et==null)return 0;if(yt==null)return an(et,2,"NULL VP8Io parameter in VP8Decode().");if(!et.cb&&!ra(et,yt))return 0;if(t(et.cb),yt.ac==null||yt.ac(yt)){yt.ob&&(et.L=0);var Et=Ql[et.L];if(et.L==2?(et.yb=0,et.zb=0):(et.yb=yt.v-Et>>4,et.zb=yt.j-Et>>4,0>et.yb&&(et.yb=0),0>et.zb&&(et.zb=0)),et.Va=yt.o+15+Et>>4,et.Hb=yt.va+15+Et>>4,et.Hb>et.za&&(et.Hb=et.za),et.Va>et.Ub&&(et.Va=et.Ub),0<et.L){var Mt=et.ed;for(Et=0;4>Et;++Et){var Tt;if(et.Qa.Cb){var Pt=et.Qa.Lb[Et];et.Qa.Fb||(Pt+=Mt.Tb)}else Pt=Mt.Tb;for(Tt=0;1>=Tt;++Tt){var jt=et.gd[Et][Tt],$t=Pt;if(Mt.Pc&&($t+=Mt.vd[0],Tt&&($t+=Mt.od[0])),0<($t=0>$t?0:63<$t?63:$t)){var Yt=$t;0<Mt.wb&&(Yt=4<Mt.wb?Yt>>2:Yt>>1)>9-Mt.wb&&(Yt=9-Mt.wb),1>Yt&&(Yt=1),jt.dd=Yt,jt.tc=2*$t+Yt,jt.ld=40<=$t?2:15<=$t?1:0}else jt.tc=0;jt.La=Tt}}}Et=0}else an(et,6,"Frame setup failed"),Et=et.a;if(Et=Et==0){if(Et){et.$c=0,0<et.Aa||(et.Ic=Wu);e:{Et=et.Ic,Mt=4*(Yt=et.za);var fe=32*Yt,se=Yt+1,Ye=0<et.L?Yt*(0<et.Aa?2:1):0,ue=(et.Aa==2?2:1)*Yt;if((jt=Mt+832+(Tt=3*(16*Et+Ql[et.L])/2*fe)+(Pt=et.Fa!=null&&0<et.Fa.length?et.Kc.c*et.Kc.i:0))!=jt)Et=0;else{if(jt>et.Vb){if(et.Vb=0,et.Ec=o(jt),et.Fc=0,et.Ec==null){Et=an(et,1,"no memory during frame initialization.");break e}et.Vb=jt}jt=et.Ec,$t=et.Fc,et.Ac=jt,et.Bc=$t,$t+=Mt,et.Gd=u(fe,po),et.Hd=0,et.rb=u(se+1,is),et.sb=1,et.wa=Ye?u(Ye,Tr):null,et.Y=0,et.D.Nb=0,et.D.wa=et.wa,et.D.Y=et.Y,0<et.Aa&&(et.D.Y+=Yt),t(!0),et.oc=jt,et.pc=$t,$t+=832,et.ya=u(ue,Va),et.aa=0,et.D.ya=et.ya,et.D.aa=et.aa,et.Aa==2&&(et.D.aa+=Yt),et.R=16*Yt,et.B=8*Yt,Yt=(fe=Ql[et.L])*et.R,fe=fe/2*et.B,et.sa=jt,et.ta=$t+Yt,et.qa=et.sa,et.ra=et.ta+16*Et*et.R+fe,et.Ha=et.qa,et.Ia=et.ra+8*Et*et.B+fe,et.$c=0,$t+=Tt,et.mb=Pt?jt:null,et.nb=Pt?$t:null,t($t+Pt<=et.Fc+et.Vb),hn(et),a(et.Ac,et.Bc,0,Mt),Et=1}}if(Et){if(yt.ka=0,yt.y=et.sa,yt.O=et.ta,yt.f=et.qa,yt.N=et.ra,yt.ea=et.Ha,yt.Vd=et.Ia,yt.fa=et.R,yt.Rc=et.B,yt.F=null,yt.J=0,!Ic){for(Et=-255;255>=Et;++Et)ul[255+Et]=0>Et?-Et:Et;for(Et=-1020;1020>=Et;++Et)Nc[1020+Et]=-128>Et?-128:127<Et?127:Et;for(Et=-112;112>=Et;++Et)zu[112+Et]=-16>Et?-16:15<Et?15:Et;for(Et=-255;510>=Et;++Et)Hu[255+Et]=0>Et?0:255<Et?255:Et;Ic=1}Is=sa,Xa=Ul,Ms=tl,Cn=ur,wn=el,xr=go,Zn=rl,Ci=sl,Ra=w,ca=P,ol=Ss,Fu=bo,Vh=nt,cd=ct,hd=Ds,fd=Ps,Bh=As,jh=qa,_i[0]=_o,_i[1]=mo,_i[2]=Ls,_i[3]=Ba,_i[4]=_a,_i[5]=Di,_i[6]=zi,_i[7]=ja,_i[8]=qr,_i[9]=kn,Kr[0]=_s,Kr[1]=il,Kr[2]=yo,Kr[3]=vo,Kr[4]=bs,Kr[5]=aa,Kr[6]=Ir,ha[0]=ks,ha[1]=nl,ha[2]=Fa,ha[3]=ws,ha[4]=zr,ha[5]=oa,ha[6]=Ni,Et=1}else Et=0}Et&&(Et=(function(cn,ai){for(cn.M=0;cn.M<cn.Va;++cn.M){var $e,ae=cn.Jc[cn.M&cn.Xb],Zt=cn.m,hi=cn;for($e=0;$e<hi.za;++$e){var Oe=Zt,nn=hi,Un=nn.Ac,Hi=nn.Bc+4*$e,mr=nn.zc,ti=nn.ya[nn.aa+$e];if(nn.Qa.Bb?ti.$b=Ut(Oe,nn.Pa.jb[0])?2+Ut(Oe,nn.Pa.jb[2]):Ut(Oe,nn.Pa.jb[1]):ti.$b=0,nn.kc&&(ti.Ad=Ut(Oe,nn.Bd)),ti.Za=!Ut(Oe,145)+0,ti.Za){var Pi=ti.Ob,Or=0;for(nn=0;4>nn;++nn){var Mi,un=mr[0+nn];for(Mi=0;4>Mi;++Mi){un=dr[Un[Hi+Mi]][un];for(var Sn=Oc[Ut(Oe,un[0])];0<Sn;)Sn=Oc[2*Sn+Ut(Oe,un[Sn])];un=-Sn,Un[Hi+Mi]=un}r(Pi,Or,Un,Hi,4),Or+=4,mr[0+nn]=un}}else un=Ut(Oe,156)?Ut(Oe,128)?1:3:Ut(Oe,163)?2:0,ti.Ob[0]=un,a(Un,Hi,un,4),a(mr,0,un,4);ti.Dd=Ut(Oe,142)?Ut(Oe,114)?Ut(Oe,183)?1:3:2:0}if(hi.m.Ka)return an(cn,7,"Premature end-of-partition0 encountered.");for(;cn.ja<cn.za;++cn.ja){if(hi=ae,Oe=(Zt=cn).rb[Zt.sb-1],Un=Zt.rb[Zt.sb+Zt.ja],$e=Zt.ya[Zt.aa+Zt.ja],Hi=Zt.kc?$e.Ad:0)Oe.la=Un.la=0,$e.Za||(Oe.Na=Un.Na=0),$e.Hc=0,$e.Gc=0,$e.ia=0;else{var fi,Rn;if(Oe=Un,Un=hi,Hi=Zt.Pa.Xc,mr=Zt.ya[Zt.aa+Zt.ja],ti=Zt.pb[mr.$b],nn=mr.ad,Pi=0,Or=Zt.rb[Zt.sb-1],un=Mi=0,a(nn,Pi,0,384),mr.Za)var Gi=0,di=Hi[3];else{Sn=o(16);var Tn=Oe.Na+Or.Na;if(Tn=Rs(Un,Hi[1],Tn,ti.Eb,0,Sn,0),Oe.Na=Or.Na=(0<Tn)+0,1<Tn)Is(Sn,0,nn,Pi);else{var xi=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)nn[Pi+Sn]=xi}Gi=1,di=Hi[0]}var Vn=15&Oe.la,Ui=15&Or.la;for(Sn=0;4>Sn;++Sn){var Vi=1&Ui;for(xi=Rn=0;4>xi;++xi)Vn=Vn>>1|(Vi=(Tn=Rs(Un,di,Tn=Vi+(1&Vn),ti.Sc,Gi,nn,Pi))>Gi)<<7,Rn=Rn<<2|(3<Tn?3:1<Tn?2:nn[Pi+0]!=0),Pi+=16;Vn>>=4,Ui=Ui>>1|Vi<<7,Mi=(Mi<<8|Rn)>>>0}for(di=Vn,Gi=Ui>>4,fi=0;4>fi;fi+=2){for(Rn=0,Vn=Oe.la>>4+fi,Ui=Or.la>>4+fi,Sn=0;2>Sn;++Sn){for(Vi=1&Ui,xi=0;2>xi;++xi)Tn=Vi+(1&Vn),Vn=Vn>>1|(Vi=0<(Tn=Rs(Un,Hi[2],Tn,ti.Qc,0,nn,Pi)))<<3,Rn=Rn<<2|(3<Tn?3:1<Tn?2:nn[Pi+0]!=0),Pi+=16;Vn>>=2,Ui=Ui>>1|Vi<<5}un|=Rn<<4*fi,di|=Vn<<4<<fi,Gi|=(240&Ui)<<fi}Oe.la=di,Or.la=Gi,mr.Hc=Mi,mr.Gc=un,mr.ia=43690&un?0:ti.ia,Hi=!(Mi|un)}if(0<Zt.L&&(Zt.wa[Zt.Y+Zt.ja]=Zt.gd[$e.$b][$e.Za],Zt.wa[Zt.Y+Zt.ja].La|=!Hi),hi.Ka)return an(cn,7,"Premature end-of-file encountered.")}if(hn(cn),Zt=ai,hi=1,$e=(ae=cn).D,Oe=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if($e.M=ae.M,$e.uc=Oe,Ns(ae,$e),hi=1,$e=(Rn=ae.D).Nb,Oe=(un=Ql[ae.L])*ae.R,Un=un/2*ae.B,Sn=16*$e*ae.R,xi=8*$e*ae.B,Hi=ae.sa,mr=ae.ta-Oe+Sn,ti=ae.qa,nn=ae.ra-Un+xi,Pi=ae.Ha,Or=ae.Ia-Un+xi,Ui=(Vn=Rn.M)==0,Mi=Vn>=ae.Va-1,ae.Aa==2&&Ns(ae,Rn),Rn.uc)for(Vi=(Tn=ae).D.M,t(Tn.D.uc),Rn=Tn.yb;Rn<Tn.Hb;++Rn){Gi=Rn,di=Vi;var Yn=(An=(Bi=Tn).D).Nb;fi=Bi.R;var An=An.wa[An.Y+Gi],Dr=Bi.sa,bi=Bi.ta+16*Yn*fi+16*Gi,Te=An.dd,Ce=An.tc;if(Ce!=0)if(t(3<=Ce),Bi.L==1)0<Gi&&fd(Dr,bi,fi,Ce+4),An.La&&jh(Dr,bi,fi,Ce),0<di&&hd(Dr,bi,fi,Ce+4),An.La&&Bh(Dr,bi,fi,Ce);else{var Nn=Bi.B,as=Bi.qa,Gs=Bi.ra+8*Yn*Nn+8*Gi,Qr=Bi.Ha,Bi=Bi.Ia+8*Yn*Nn+8*Gi;Yn=An.ld,0<Gi&&(Ci(Dr,bi,fi,Ce+4,Te,Yn),ca(as,Gs,Qr,Bi,Nn,Ce+4,Te,Yn)),An.La&&(Fu(Dr,bi,fi,Ce,Te,Yn),cd(as,Gs,Qr,Bi,Nn,Ce,Te,Yn)),0<di&&(Zn(Dr,bi,fi,Ce+4,Te,Yn),Ra(as,Gs,Qr,Bi,Nn,Ce+4,Te,Yn)),An.La&&(ol(Dr,bi,fi,Ce,Te,Yn),Vh(as,Gs,Qr,Bi,Nn,Ce,Te,Yn))}}if(ae.ia&&alert("todo:DitherRow"),Zt.put!=null){if(Rn=16*Vn,Vn=16*(Vn+1),Ui?(Zt.y=ae.sa,Zt.O=ae.ta+Sn,Zt.f=ae.qa,Zt.N=ae.ra+xi,Zt.ea=ae.Ha,Zt.W=ae.Ia+xi):(Rn-=un,Zt.y=Hi,Zt.O=mr,Zt.f=ti,Zt.N=nn,Zt.ea=Pi,Zt.W=Or),Mi||(Vn-=un),Vn>Zt.o&&(Vn=Zt.o),Zt.F=null,Zt.J=null,ae.Fa!=null&&0<ae.Fa.length&&Rn<Vn&&(Zt.J=Fn(ae,Zt,Rn,Vn-Rn),Zt.F=ae.mb,Zt.F==null&&Zt.F.length==0)){hi=an(ae,3,"Could not decode alpha data.");break e}Rn<Zt.j&&(un=Zt.j-Rn,Rn=Zt.j,t(!(1&un)),Zt.O+=ae.R*un,Zt.N+=ae.B*(un>>1),Zt.W+=ae.B*(un>>1),Zt.F!=null&&(Zt.J+=Zt.width*un)),Rn<Vn&&(Zt.O+=Zt.v,Zt.N+=Zt.v>>1,Zt.W+=Zt.v>>1,Zt.F!=null&&(Zt.J+=Zt.v),Zt.ka=Rn-Zt.j,Zt.U=Zt.va-Zt.v,Zt.T=Vn-Rn,hi=Zt.put(Zt))}$e+1!=ae.Ic||Mi||(r(ae.sa,ae.ta-Oe,Hi,mr+16*ae.R,Oe),r(ae.qa,ae.ra-Un,ti,nn+8*ae.B,Un),r(ae.Ha,ae.Ia-Un,Pi,Or+8*ae.B,Un))}if(!hi)return an(cn,6,"Output aborted.")}return 1})(et,yt)),yt.bc!=null&&yt.bc(yt),Et&=1}return Et?(et.cb=0,Et):0})(d,I)||(y=d.a)}}else y=d.a}y==0&&H.Oa!=null&&H.Oa.fd&&(y=ju(H.ba))}H=y}q=H!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var Uc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(R,F){for(var S="",C=0;C<4;C++)S+=String.fromCharCode(R[F++]);return S}function v(R,F){return R[F+0]|R[F+1]<<8}function A(R,F){return(R[F+0]|R[F+1]<<8|R[F+2]<<16)>>>0}function N(R,F){return(R[F+0]|R[F+1]<<8|R[F+2]<<16|R[F+3]<<24)>>>0}new f;var b=[0],V=[0],B=[],z=new f,U=n,rt=(function(R,F){var S={},C=0,L=!1,Z=0,bt=0;if(S.frames=[],!(function(D,Y){for(var $=0;$<4;$++)if(D[Y+$]!="RIFF".charCodeAt($))return!0;return!1})(R,F)){for(N(R,F+=4),F+=8;F<R.length;){var st=p(R,F),dt=N(R,F+=4);F+=4;var ht=dt+(1&dt);switch(st){case"VP8 ":case"VP8L":S.frames[C]===void 0&&(S.frames[C]={}),(W=S.frames[C]).src_off=L?bt:F-8,W.src_size=Z+dt+8,C++,L&&(L=!1,Z=0,bt=0);break;case"VP8X":(W=S.header={}).feature_flags=R[F];var Ct=F+4;W.canvas_width=1+A(R,Ct),Ct+=3,W.canvas_height=1+A(R,Ct),Ct+=3;break;case"ALPH":L=!0,Z=ht+8,bt=F-8;break;case"ANIM":(W=S.header).bgcolor=N(R,F),Ct=F+4,W.loop_count=v(R,Ct),Ct+=2;break;case"ANMF":var Ft,W;(W=S.frames[C]={}).offset_x=2*A(R,F),F+=3,W.offset_y=2*A(R,F),F+=3,W.width=1+A(R,F),F+=3,W.height=1+A(R,F),F+=3,W.duration=A(R,F),F+=3,Ft=R[F++],W.dispose=1&Ft,W.blend=Ft>>1&1}st!="ANMF"&&(F+=ht)}return S}})(U,0);rt.response=U,rt.rgbaoutput=!0,rt.dataurl=!1;var tt=rt.header?rt.header:null,J=rt.frames?rt.frames:null;if(tt){tt.loop_counter=tt.loop_count,b=[tt.canvas_height],V=[tt.canvas_width];for(var vt=0;vt<J.length&&J[vt].blend!=0;vt++);}var pt=J[0],j=z.WebPDecodeRGBA(U,pt.src_off,pt.src_size,V,b);pt.rgba=j,pt.imgwidth=V[0],pt.imgheight=b[0];for(var O=0;O<V[0]*b[0]*4;O++)B[O]=j[O];return this.width=V,this.height=b,this.data=B,this}(function(n){var t,e,r,a,o,u,h,f,p,v=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new f,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new u,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new u,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,p=new v}]);var A=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=D;Object.defineProperty(this,"pdf",{get:function(){return Y}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(Dt){$=!!Dt}});var ot=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ot},set:function(Dt){ot=!!Dt}});var ut=0;Object.defineProperty(this,"posX",{get:function(){return ut},set:function(Dt){isNaN(Dt)||(ut=Dt)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(Dt){isNaN(Dt)||(mt=Dt)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Dt){var at;typeof Dt=="number"?at=[Dt,Dt,Dt,Dt]:((at=new Array(4))[0]=Dt[0],at[1]=Dt.length>=2?Dt[1]:at[0],at[2]=Dt.length>=3?Dt[2]:at[0],at[3]=Dt.length>=4?Dt[3]:at[1]),p.margin=at}});var Nt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Nt},set:function(Dt){Nt=Dt}});var St=0;Object.defineProperty(this,"lastBreak",{get:function(){return St},set:function(Dt){St=Dt}});var Ut=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ut},set:function(Dt){Ut=Dt}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Dt){Dt instanceof v&&(p=Dt)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Dt){p.path=Dt}});var Wt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Wt},set:function(Dt){Wt=Dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Dt){var at;at=N(Dt),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Dt){var at=N(Dt);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Dt){["butt","round","square"].indexOf(Dt)!==-1&&(this.ctx.lineCap=Dt,this.pdf.setLineCap(Dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Dt){isNaN(Dt)||(this.ctx.lineWidth=Dt,this.pdf.setLineWidth(Dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Dt){["bevel","round","miter"].indexOf(Dt)!==-1&&(this.ctx.lineJoin=Dt,this.pdf.setLineJoin(Dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Dt){isNaN(Dt)||(this.ctx.miterLimit=Dt,this.pdf.setMiterLimit(Dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Dt){this.ctx.textBaseline=Dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Dt){["right","end","center","left","start"].indexOf(Dt)!==-1&&(this.ctx.textAlign=Dt)}});var ee=null,ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(Dt){ee=null,ne=Dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Dt){var at;if(this.ctx.font=Dt,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Dt))!==null){var We=at[1];at[2];var qe=at[3],be=at[4];at[5];var Gt=at[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(be)[2];be=Math.floor(ie==="px"?parseFloat(be)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(be)*this.pdf.getFontSize():parseFloat(be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(be);var te=(function(ke){var me,Mn,en=[],re=ke.trim();if(re==="")return Um;if(re in D_)return[D_[re]];for(;re!=="";){switch(Mn=null,me=(re=M_(re)).charAt(0)){case'"':case"'":Mn=fN(re.substring(1),me);break;default:Mn=dN(re)}if(Mn===null||(en.push(Mn[0]),(re=M_(Mn[1]))!==""&&re.charAt(0)!==","))return Um;re=re.replace(/^,/,"")}return en})(Gt);if(this.fontFaces){var Qe=(function(ke,me){if(ee===null){var Mn=(function(en){var re=[];return Object.keys(en).forEach(function(Ee){en[Ee].forEach(function(Ve){var Ne=null;switch(Ve){case"bold":Ne={family:Ee,weight:"bold"};break;case"italic":Ne={family:Ee,style:"italic"};break;case"bolditalic":Ne={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:Ee}}Ne!==null&&(Ne.ref={name:Ee,style:Ve},re.push(Ne))})}),re})(ke.getFontList());ee=(function(en){for(var re={},Ee=0;Ee<en.length;++Ee){var Ve=Mm(en[Ee]),Ne=Ve.family,rn=Ve.stretch,ze=Ve.style,xn=Ve.weight;re[Ne]=re[Ne]||{},re[Ne][rn]=re[Ne][rn]||{},re[Ne][rn][ze]=re[Ne][rn][ze]||{},re[Ne][rn][ze][xn]=Ve}return re})(Mn.concat(me))}return ee})(this.pdf,this.fontFaces),ve=te.map(function(ke){return{family:ke,stretch:"normal",weight:qe,style:We}}),Ge=(function(ke,me,Mn){for(var en=(Mn=Mn||{}).defaultFontFamily||"times",re=Object.assign({},hN,Mn.genericFontFamilies||{}),Ee=null,Ve=null,Ne=0;Ne<me.length;++Ne)if(re[(Ee=Mm(me[Ne])).family]&&(Ee.family=re[Ee.family]),ke.hasOwnProperty(Ee.family)){Ve=ke[Ee.family];break}if(!(Ve=Ve||ke[en]))throw new Error("Could not find a font-family for the rule '"+P_(Ee)+"' and default family '"+en+"'.");if(Ve=(function(rn,ze){if(ze[rn])return ze[rn];var xn=u0[rn],ri=xn<=u0.normal?-1:1,He=O_(ze,w4,xn,ri);if(!He)throw new Error("Could not find a matching font-stretch value for "+rn);return He})(Ee.stretch,Ve),Ve=(function(rn,ze){if(ze[rn])return ze[rn];for(var xn=b4[rn],ri=0;ri<xn.length;++ri)if(ze[xn[ri]])return ze[xn[ri]];throw new Error("Could not find a matching font-style for "+rn)})(Ee.style,Ve),!(Ve=(function(rn,ze){if(ze[rn])return ze[rn];if(rn===400&&ze[500])return ze[500];if(rn===500&&ze[400])return ze[400];var xn=cN[rn],ri=O_(ze,A4,xn,rn<400?-1:1);if(!ri)throw new Error("Could not find a matching font-weight for value "+rn);return ri})(Ee.weight,Ve)))throw new Error("Failed to resolve a font for the rule '"+P_(Ee)+"'.");return Ve})(Qe,ve);this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var De="";(qe==="bold"||parseInt(qe,10)>=700||We==="bold")&&(De="bold"),We==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var Ue="",En={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pe=0;Pe<te.length;Pe++){if(this.pdf.internal.getFont(te[Pe],De,{noFallback:!0,disableWarning:!0})!==void 0){Ue=te[Pe];break}if(De==="bolditalic"&&this.pdf.internal.getFont(te[Pe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=te[Pe],De="bold";else if(this.pdf.internal.getFont(te[Pe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=te[Pe],De="normal";break}}if(Ue===""){for(var _e=0;_e<te.length;_e++)if(En[te[_e]]){Ue=En[te[_e]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Dt){this.ctx.globalCompositeOperation=Dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Dt){this.ctx.globalAlpha=Dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Dt){this.ctx.lineDashOffset=Dt,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Dt){this.ctx.lineDash=Dt,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Dt){this.ctx.ignoreClearRect=!!Dt}})};A.prototype.setLineDash=function(D){this.lineDash=D},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){J.call(this,"fill",!1)},A.prototype.stroke=function(){J.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(D,Y){if(isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new u(D,Y));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new u(D,Y)},A.prototype.closePath=function(){var D=new u(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Xn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){D=new u(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(D.x,D.y)},A.prototype.lineTo=function(D,Y){if(isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new u(D,Y));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new u($.x,$.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},A.prototype.quadraticCurveTo=function(D,Y,$,ot){if(isNaN($)||isNaN(ot)||isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ut=this.ctx.transform.applyToPoint(new u($,ot)),mt=this.ctx.transform.applyToPoint(new u(D,Y));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new u(ut.x,ut.y)},A.prototype.bezierCurveTo=function(D,Y,$,ot,ut,mt){if(isNaN(ut)||isNaN(mt)||isNaN(D)||isNaN(Y)||isNaN($)||isNaN(ot))throw li.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Nt=this.ctx.transform.applyToPoint(new u(ut,mt)),St=this.ctx.transform.applyToPoint(new u(D,Y)),Ut=this.ctx.transform.applyToPoint(new u($,ot));this.path.push({type:"bct",x1:St.x,y1:St.y,x2:Ut.x,y2:Ut.y,x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new u(Nt.x,Nt.y)},A.prototype.arc=function(D,Y,$,ot,ut,mt){if(isNaN(D)||isNaN(Y)||isNaN($)||isNaN(ot)||isNaN(ut))throw li.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=!!mt,!this.ctx.transform.isIdentity){var Nt=this.ctx.transform.applyToPoint(new u(D,Y));D=Nt.x,Y=Nt.y;var St=this.ctx.transform.applyToPoint(new u(0,$)),Ut=this.ctx.transform.applyToPoint(new u(0,0));$=Math.sqrt(Math.pow(St.x-Ut.x,2)+Math.pow(St.y-Ut.y,2))}Math.abs(ut-ot)>=2*Math.PI&&(ot=0,ut=2*Math.PI),this.path.push({type:"arc",x:D,y:Y,radius:$,startAngle:ot,endAngle:ut,counterclockwise:mt})},A.prototype.arcTo=function(D,Y,$,ot,ut){throw new Error("arcTo not implemented.")},A.prototype.rect=function(D,Y,$,ot){if(isNaN(D)||isNaN(Y)||isNaN($)||isNaN(ot))throw li.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,Y),this.lineTo(D+$,Y),this.lineTo(D+$,Y+ot),this.lineTo(D,Y+ot),this.lineTo(D,Y),this.lineTo(D+$,Y),this.lineTo(D,Y)},A.prototype.fillRect=function(D,Y,$,ot){if(isNaN(D)||isNaN(Y)||isNaN($)||isNaN(ot))throw li.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ut={};this.lineCap!=="butt"&&(ut.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,Y,$,ot),this.fill(),ut.hasOwnProperty("lineCap")&&(this.lineCap=ut.lineCap),ut.hasOwnProperty("lineJoin")&&(this.lineJoin=ut.lineJoin)}},A.prototype.strokeRect=function(D,Y,$,ot){if(isNaN(D)||isNaN(Y)||isNaN($)||isNaN(ot))throw li.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");V.call(this)||(this.beginPath(),this.rect(D,Y,$,ot),this.stroke())},A.prototype.clearRect=function(D,Y,$,ot){if(isNaN(D)||isNaN(Y)||isNaN($)||isNaN(ot))throw li.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,Y,$,ot))},A.prototype.save=function(D){D=typeof D!="boolean"||D;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ot=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ot}},A.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(D){var Y,$,ot,ut;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))Y=0,$=0,ot=0,ut=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(mt!==null)Y=parseInt(mt[1]),$=parseInt(mt[2]),ot=parseInt(mt[3]),ut=1;else if((mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)Y=parseInt(mt[1]),$=parseInt(mt[2]),ot=parseInt(mt[3]),ut=parseFloat(mt[4]);else{if(ut=1,typeof D=="string"&&D.charAt(0)!=="#"){var Nt=new d4(D);D=Nt.ok?Nt.toHex():"#000000"}D.length===4?(Y=D.substring(1,2),Y+=Y,$=D.substring(2,3),$+=$,ot=D.substring(3,4),ot+=ot):(Y=D.substring(1,3),$=D.substring(3,5),ot=D.substring(5,7)),Y=parseInt(Y,16),$=parseInt($,16),ot=parseInt(ot,16)}}return{r:Y,g:$,b:ot,a:ut,style:D}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},V=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(D,Y,$,ot){if(isNaN(Y)||isNaN($)||typeof D!="string")throw li.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ot=isNaN(ot)?void 0:ot,!b.call(this)){var ut=ht(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;C.call(this,{text:D,x:Y,y:$,scale:mt,angle:ut,align:this.textAlign,maxWidth:ot})}},A.prototype.strokeText=function(D,Y,$,ot){if(isNaN(Y)||isNaN($)||typeof D!="string")throw li.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!V.call(this)){ot=isNaN(ot)?void 0:ot;var ut=ht(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;C.call(this,{text:D,x:Y,y:$,scale:mt,renderingMode:"stroke",angle:ut,align:this.textAlign,maxWidth:ot})}},A.prototype.measureText=function(D){if(typeof D!="string")throw li.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,$=this.pdf.internal.scaleFactor,ot=Y.internal.getFontSize(),ut=Y.getStringUnitWidth(D)*ot/Y.internal.scaleFactor;return new function(mt){var Nt=(mt=mt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Nt}}),this}({width:ut*=Math.round(96*$/72*1e4)/1e4})},A.prototype.scale=function(D,Y){if(isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new f(D,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply($)},A.prototype.rotate=function(D){if(isNaN(D))throw li.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new f(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.translate=function(D,Y){if(isNaN(D)||isNaN(Y))throw li.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new f(1,0,0,1,D,Y);this.ctx.transform=this.ctx.transform.multiply($)},A.prototype.transform=function(D,Y,$,ot,ut,mt){if(isNaN(D)||isNaN(Y)||isNaN($)||isNaN(ot)||isNaN(ut)||isNaN(mt))throw li.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Nt=new f(D,Y,$,ot,ut,mt);this.ctx.transform=this.ctx.transform.multiply(Nt)},A.prototype.setTransform=function(D,Y,$,ot,ut,mt){D=isNaN(D)?1:D,Y=isNaN(Y)?0:Y,$=isNaN($)?0:$,ot=isNaN(ot)?1:ot,ut=isNaN(ut)?0:ut,mt=isNaN(mt)?0:mt,this.ctx.transform=new f(D,Y,$,ot,ut,mt)};var B=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(D,Y,$,ot,ut,mt,Nt,St,Ut){var Wt=this.pdf.getImageProperties(D),ee=1,ne=1,Dt=1,at=1;ot!==void 0&&St!==void 0&&(Dt=St/ot,at=Ut/ut,ee=Wt.width/ot*St/ot,ne=Wt.height/ut*Ut/ut),mt===void 0&&(mt=Y,Nt=$,Y=0,$=0),ot!==void 0&&St===void 0&&(St=ot,Ut=ut),ot===void 0&&St===void 0&&(St=Wt.width,Ut=Wt.height);for(var We,qe=this.ctx.transform.decompose(),be=ht(qe.rotate.shx),Gt=new f,ie=(Gt=(Gt=(Gt=Gt.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale)).applyToRectangle(new h(mt-Y*Dt,Nt-$*at,ot*ee,ut*ne)),te=z.call(this,ie),Qe=[],ve=0;ve<te.length;ve+=1)Qe.indexOf(te[ve])===-1&&Qe.push(te[ve]);if(tt(Qe),this.autoPaging)for(var Ge=Qe[0],De=Qe[Qe.length-1],Ue=Ge;Ue<De+1;Ue++){this.pdf.setPage(Ue);var En=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=Ue===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],me=Ue===1?0:_e+(Ue-2)*ke;if(this.ctx.clip_path.length!==0){var Mn=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rt(We,this.posX+this.margin[3],-me+Pe+this.ctx.prevPageLastElemOffset),vt.call(this,"fill",!0),this.path=Mn}var en=JSON.parse(JSON.stringify(ie));en=rt([en],this.posX+this.margin[3],-me+Pe+this.ctx.prevPageLastElemOffset)[0];var re=(Ue>Ge||Ue<De)&&B.call(this);re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],En,ke,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",en.x,en.y,en.w,en.h,null,null,be),re&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",ie.x,ie.y,ie.w,ie.h,null,null,be)};var z=function(D,Y,$){var ot=[];Y=Y||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ut=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ot.push(Math.floor((D.y+ut)/$)+1);break;case"arc":ot.push(Math.floor((D.y+ut-D.radius)/$)+1),ot.push(Math.floor((D.y+ut+D.radius)/$)+1);break;case"qct":var mt=Ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ot.push(Math.floor((mt.y+ut)/$)+1),ot.push(Math.floor((mt.y+mt.h+ut)/$)+1);break;case"bct":var Nt=Ft(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ot.push(Math.floor((Nt.y+ut)/$)+1),ot.push(Math.floor((Nt.y+Nt.h+ut)/$)+1);break;case"rect":ot.push(Math.floor((D.y+ut)/$)+1),ot.push(Math.floor((D.y+D.h+ut)/$)+1)}for(var St=0;St<ot.length;St+=1)for(;this.pdf.internal.getNumberOfPages()<ot[St];)U.call(this);return ot},U=function(){var D=this.fillStyle,Y=this.strokeStyle,$=this.font,ot=this.lineCap,ut=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=Y,this.font=$,this.lineCap=ot,this.lineWidth=ut,this.lineJoin=mt},rt=function(D,Y,$){for(var ot=0;ot<D.length;ot++)switch(D[ot].type){case"bct":D[ot].x2+=Y,D[ot].y2+=$;case"qct":D[ot].x1+=Y,D[ot].y1+=$;default:D[ot].x+=Y,D[ot].y+=$}return D},tt=function(D){return D.sort(function(Y,$){return Y-$})},J=function(D,Y){for(var $,ot,ut=this.fillStyle,mt=this.strokeStyle,Nt=this.lineCap,St=this.lineWidth,Ut=Math.abs(St*this.ctx.transform.scaleX),Wt=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),ne=JSON.parse(JSON.stringify(this.path)),Dt=[],at=0;at<ne.length;at++)if(ne[at].x!==void 0)for(var We=z.call(this,ne[at]),qe=0;qe<We.length;qe+=1)Dt.indexOf(We[qe])===-1&&Dt.push(We[qe]);for(var be=0;be<Dt.length;be++)for(;this.pdf.internal.getNumberOfPages()<Dt[be];)U.call(this);if(tt(Dt),this.autoPaging)for(var Gt=Dt[0],ie=Dt[Dt.length-1],te=Gt;te<ie+1;te++){this.pdf.setPage(te),this.fillStyle=ut,this.strokeStyle=mt,this.lineCap=Nt,this.lineWidth=Ut,this.lineJoin=Wt;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=te===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=te===1?0:Ge+(te-2)*De;if(this.ctx.clip_path.length!==0){var En=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rt($,this.posX+this.margin[3],-Ue+ve+this.ctx.prevPageLastElemOffset),vt.call(this,D,!0),this.path=En}if(ot=JSON.parse(JSON.stringify(ee)),this.path=rt(ot,this.posX+this.margin[3],-Ue+ve+this.ctx.prevPageLastElemOffset),Y===!1||te===0){var Pe=(te>Gt||te<ie)&&B.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,De,null).clip().discardPath()),vt.call(this,D,Y),Pe&&this.pdf.restoreGraphicsState()}this.lineWidth=St}else this.lineWidth=Ut,vt.call(this,D,Y),this.lineWidth=St;this.path=ee},vt=function(D,Y){if((D!=="stroke"||Y||!V.call(this))&&(D==="stroke"||Y||!b.call(this))){for(var $,ot,ut=[],mt=this.path,Nt=0;Nt<mt.length;Nt++){var St=mt[Nt];switch(St.type){case"begin":ut.push({begin:!0});break;case"close":ut.push({close:!0});break;case"mt":ut.push({start:St,deltas:[],abs:[]});break;case"lt":var Ut=ut.length;if(mt[Nt-1]&&!isNaN(mt[Nt-1].x)&&($=[St.x-mt[Nt-1].x,St.y-mt[Nt-1].y],Ut>0)){for(;Ut>=0;Ut--)if(ut[Ut-1].close!==!0&&ut[Ut-1].begin!==!0){ut[Ut-1].deltas.push($),ut[Ut-1].abs.push(St);break}}break;case"bct":$=[St.x1-mt[Nt-1].x,St.y1-mt[Nt-1].y,St.x2-mt[Nt-1].x,St.y2-mt[Nt-1].y,St.x-mt[Nt-1].x,St.y-mt[Nt-1].y],ut[ut.length-1].deltas.push($);break;case"qct":var Wt=mt[Nt-1].x+2/3*(St.x1-mt[Nt-1].x),ee=mt[Nt-1].y+2/3*(St.y1-mt[Nt-1].y),ne=St.x+2/3*(St.x1-St.x),Dt=St.y+2/3*(St.y1-St.y),at=St.x,We=St.y;$=[Wt-mt[Nt-1].x,ee-mt[Nt-1].y,ne-mt[Nt-1].x,Dt-mt[Nt-1].y,at-mt[Nt-1].x,We-mt[Nt-1].y],ut[ut.length-1].deltas.push($);break;case"arc":ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(ut[ut.length-1].abs)&&ut[ut.length-1].abs.push(St)}}ot=Y?null:D==="stroke"?"stroke":"fill";for(var qe=!1,be=0;be<ut.length;be++)if(ut[be].arc)for(var Gt=ut[be].abs,ie=0;ie<Gt.length;ie++){var te=Gt[ie];te.type==="arc"?O.call(this,te.x,te.y,te.radius,te.startAngle,te.endAngle,te.counterclockwise,void 0,Y,!qe):L.call(this,te.x,te.y),qe=!0}else if(ut[be].close===!0)this.pdf.internal.out("h"),qe=!1;else if(ut[be].begin!==!0){var Qe=ut[be].start.x,ve=ut[be].start.y;Z.call(this,ut[be].deltas,Qe,ve),qe=!0}ot&&R.call(this,ot),Y&&F.call(this)}},pt=function(D){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-$;case"top":return D+Y-$;case"hanging":return D+Y-2*$;case"middle":return D+Y/2-$;default:return D}},j=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(Y,$){this.colorStops.push([Y,$])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(D,Y,$,ot,ut,mt,Nt,St,Ut){for(var Wt=st.call(this,$,ot,ut,mt),ee=0;ee<Wt.length;ee++){var ne=Wt[ee];ee===0&&(Ut?S.call(this,ne.x1+D,ne.y1+Y):L.call(this,ne.x1+D,ne.y1+Y)),bt.call(this,D,Y,ne.x2,ne.y2,ne.x3,ne.y3,ne.x4,ne.y4)}St?F.call(this):R.call(this,Nt)},R=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(D,Y){this.pdf.internal.out(e(D)+" "+r(Y)+" m")},C=function(D){var Y;switch(D.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var $=this.pdf.getTextDimensions(D.text),ot=pt.call(this,D.y),ut=j.call(this,ot)-$.h,mt=this.ctx.transform.applyToPoint(new u(D.x,ot)),Nt=this.ctx.transform.decompose(),St=new f;St=(St=(St=St.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale);for(var Ut,Wt,ee,ne=this.ctx.transform.applyToRectangle(new h(D.x,ot,$.w,$.h)),Dt=St.applyToRectangle(new h(D.x,ut,$.w,$.h)),at=z.call(this,Dt),We=[],qe=0;qe<at.length;qe+=1)We.indexOf(at[qe])===-1&&We.push(at[qe]);if(tt(We),this.autoPaging)for(var be=We[0],Gt=We[We.length-1],ie=be;ie<Gt+1;ie++){this.pdf.setPage(ie);var te=ie===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],Ge=ve-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],Ue=De-this.margin[3],En=ie===1?0:Qe+(ie-2)*Ge;if(this.ctx.clip_path.length!==0){var Pe=this.path;Ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rt(Ut,this.posX+this.margin[3],-1*En+te),vt.call(this,"fill",!0),this.path=Pe}var _e=rt([JSON.parse(JSON.stringify(Dt))],this.posX+this.margin[3],-En+te+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*D.scale),ee=this.lineWidth,this.lineWidth=ee*D.scale);var ke=this.autoPaging!=="text";if(ke||_e.y+_e.h<=ve){if(ke||_e.y>=te&&_e.x<=De){var me=ke?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||De-_e.x)[0],Mn=rt([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-En+te+this.ctx.prevPageLastElemOffset)[0],en=ke&&(ie>be||ie<Gt)&&B.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Ge,null).clip().discardPath()),this.pdf.text(me,Mn.x,Mn.y,{angle:D.angle,align:Y,renderingMode:D.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else _e.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-_e.y);D.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=ee)}else D.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*D.scale),ee=this.lineWidth,this.lineWidth=ee*D.scale),this.pdf.text(D.text,mt.x+this.posX,mt.y+this.posY,{angle:D.angle,align:Y,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=ee)},L=function(D,Y,$,ot){$=$||0,ot=ot||0,this.pdf.internal.out(e(D+$)+" "+r(Y+ot)+" l")},Z=function(D,Y,$){return this.pdf.lines(D,Y,$,null,null)},bt=function(D,Y,$,ot,ut,mt,Nt,St){this.pdf.internal.out([t(a($+D)),t(o(ot+Y)),t(a(ut+D)),t(o(mt+Y)),t(a(Nt+D)),t(o(St+Y)),"c"].join(" "))},st=function(D,Y,$,ot){for(var ut=2*Math.PI,mt=Math.PI/2;Y>$;)Y-=ut;var Nt=Math.abs($-Y);Nt<ut&&ot&&(Nt=ut-Nt);for(var St=[],Ut=ot?-1:1,Wt=Y;Nt>1e-5;){var ee=Wt+Ut*Math.min(Nt,mt);St.push(dt.call(this,D,Wt,ee)),Nt-=Math.abs(ee-Wt),Wt=ee}return St},dt=function(D,Y,$){var ot=($-Y)/2,ut=D*Math.cos(ot),mt=D*Math.sin(ot),Nt=ut,St=-mt,Ut=Nt*Nt+St*St,Wt=Ut+Nt*ut+St*mt,ee=4/3*(Math.sqrt(2*Ut*Wt)-Wt)/(Nt*mt-St*ut),ne=Nt-ee*St,Dt=St+ee*Nt,at=ne,We=-Dt,qe=ot+Y,be=Math.cos(qe),Gt=Math.sin(qe);return{x1:D*Math.cos(Y),y1:D*Math.sin(Y),x2:ne*be-Dt*Gt,y2:ne*Gt+Dt*be,x3:at*be-We*Gt,y3:at*Gt+We*be,x4:D*Math.cos($),y4:D*Math.sin($)}},ht=function(D){return 180*D/Math.PI},Ct=function(D,Y,$,ot,ut,mt){var Nt=D+.5*($-D),St=Y+.5*(ot-Y),Ut=ut+.5*($-ut),Wt=mt+.5*(ot-mt),ee=Math.min(D,ut,Nt,Ut),ne=Math.max(D,ut,Nt,Ut),Dt=Math.min(Y,mt,St,Wt),at=Math.max(Y,mt,St,Wt);return new h(ee,Dt,ne-ee,at-Dt)},Ft=function(D,Y,$,ot,ut,mt,Nt,St){var Ut,Wt,ee,ne,Dt,at,We,qe,be,Gt,ie,te,Qe,ve,Ge=$-D,De=ot-Y,Ue=ut-$,En=mt-ot,Pe=Nt-ut,_e=St-mt;for(Wt=0;Wt<41;Wt++)be=(We=(ee=D+(Ut=Wt/40)*Ge)+Ut*((Dt=$+Ut*Ue)-ee))+Ut*(Dt+Ut*(ut+Ut*Pe-Dt)-We),Gt=(qe=(ne=Y+Ut*De)+Ut*((at=ot+Ut*En)-ne))+Ut*(at+Ut*(mt+Ut*_e-at)-qe),Wt==0?(ie=be,te=Gt,Qe=be,ve=Gt):(ie=Math.min(ie,be),te=Math.min(te,Gt),Qe=Math.max(Qe,be),ve=Math.max(ve,Gt));return new h(Math.round(ie),Math.round(te),Math.round(Qe-ie),Math.round(ve-te))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,Y,$=(D=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:Y}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Ae.API),(function(n){var t=function(u){var h,f,p,v,A,N,b,V,B,z;for(f=[],p=0,v=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;v>p;p+=4)(A=(u.charCodeAt(p)<<24)+(u.charCodeAt(p+1)<<16)+(u.charCodeAt(p+2)<<8)+u.charCodeAt(p+3))!==0?(N=(A=((A=((A=((A=(A-(z=A%85))/85)-(B=A%85))/85)-(V=A%85))/85)-(b=A%85))/85)%85,f.push(N+33,b+33,V+33,B+33,z+33)):f.push(122);return(function(U,rt){for(var tt=rt;tt>0;tt--)U.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(u){var h,f,p,v,A,N=String,b="length",V=255,B="charCodeAt",z="slice",U="replace";for(u[z](-2),u=u[z](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),p=[],v=0,A=(u+=h="uuuuu"[z](u[b]%5||5))[b];A>v;v+=5)f=52200625*(u[B](v)-33)+614125*(u[B](v+1)-33)+7225*(u[B](v+2)-33)+85*(u[B](v+3)-33)+(u[B](v+4)-33),p.push(V&f>>24,V&f>>16,V&f>>8,V&f);return(function(rt,tt){for(var J=tt;J>0;J--)rt.pop()})(p,h[b]),N.fromCharCode.apply(N,p)},r=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",p=0;p<u.length;p+=2)f+=String.fromCharCode("0x"+(u[p]+u[p+1]));return f},o=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=n0(h)).reduce(function(p,v){return p+String.fromCharCode(v)},"")};n.processDataByFilters=function(u,h){var f=0,p=u||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":p=e(p),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=a(p),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=r(p),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=o(p),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:p,reverseChain:v.reverse().join(" ")}}})(Ae.API),(function(n){n.loadFile=function(t,e,r){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,p,v){var A=new XMLHttpRequest,N=0,b=function(V){var B=V.length,z=[],U=String.fromCharCode;for(N=0;N<B;N+=1)z.push(U(255&V.charCodeAt(N)));return z.join("")};if(A.open("GET",f,!p),A.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(A.onload=function(){A.status===200?v(b(this.responseText)):v(void 0)}),A.send(null),p&&A.status===200)return b(A.responseText)})(a,o,u)}catch{}return h})(t,e,r)},n.loadImageFile=n.loadFile})(Ae.API),(function(n){function t(){return(Ke.html2canvas?Promise.resolve(Ke.html2canvas):vm(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(Ke.DOMPurify?Promise.resolve(Ke.DOMPurify):vm(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Xn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(h,f){var p=document.createElement(h);for(var v in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[v]=f.style[v];return p},o=function h(f,p){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)p!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(h(A,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},u=function h(f){var p=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),p);return(v=v.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(p){return this.set({src:a("div",{innerHTML:h,dompurify:p})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var p=this.opt.jsPDF,v=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=v,v)for(var b=0;b<v.length;++b){var V=v[b],B=V.src.find(function(z){return z.format==="truetype"});B&&p.addFont(B.url,V.ref.name,V.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,p.context2d.save(!0),f(this.prop.container,N)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(p){if(p in u.template.prop)return function(){this.prop[p]=h[p]};switch(p){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[p]=h[p]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var p=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(p):p})},u.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(p,v){return Math.floor(p*v/72*96)}return this.then(function(){(h=h||Ae.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,p,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,p,v){return this.setProgress(h?this.progress.val+h:null,f||null,p?this.progress.n+p:null,v?this.progress.stack.concat(v):null)},u.prototype.then=function(h,f){var p=this;return this.thenCore(h,f,function(v,A){return p.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(N){return p.updateProgress(null,v),N}).then(v,A).then(function(N){return p.updateProgress(1),N})})},u.prototype.thenCore=function(h,f,p){p=p||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:u.convert(Object.assign({},v),Promise.prototype),N=p.call(A,h,f);return u.convert(N,v.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(p){f=f.thenCore(p)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Ae.getPageSize=function(h,f,p){if(Xn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,p=v.format||p}f=f||"mm",p=p||"a4",h=(""+(h||"P")).toLowerCase();var A,N=(""+p).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var V,B=0,z=0;if(b.hasOwnProperty(N))B=b[N][1]/A,z=b[N][0]/A;else try{B=p[1],z=p[0]}catch{throw new Error("Invalid format: "+p)}if(h==="p"||h==="portrait")h="p",z>B&&(V=z,z=B,B=V);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",B>z&&(V=z,z=B,B=V)}return{width:z,height:B,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Mm):null;var p=new u(f);return f.worker?p:p.from(h).doCallback()}})(Ae.API),Ae.API.addJS=function(n){return V_=n,this.internal.events.subscribe("postPutResources",function(){cp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),U_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+V_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cp!==void 0&&U_!==void 0&&this.internal.out("/Names <</JavaScript "+cp+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],h=r.exec(u);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,v=[];for(o=0;o<p;o++){var A=e.internal.newObject();v.push(A);var N=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var b=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<v.length;o++)e.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+b+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,o){var u={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=e.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Ae.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,a,o,u,h){var f,p=this.decode.DCT_DECODE,v=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=u||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(A){for(var N,b=256*A.charCodeAt(4)+A.charCodeAt(5),V=A.length,B={width:0,height:0,numcomponents:1},z=4;z<V;z+=2){if(z+=b,t.indexOf(A.charCodeAt(z+1))!==-1){N=256*A.charCodeAt(z+5)+A.charCodeAt(z+6),B={width:256*A.charCodeAt(z+7)+A.charCodeAt(z+8),height:N,numcomponents:A.charCodeAt(z+9)};break}b=256*A.charCodeAt(z+2)+A.charCodeAt(z+3)}return B})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:p,index:r,alias:a}}return v}})(Ae.API),Ae.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=WT(n,{checkCrc:!0}),u=o.width,h=o.height,f=o.channels,p=o.palette,v=o.depth;a=p&&f===1?(function(O){for(var R=O.width,F=O.height,S=O.data,C=O.palette,L=O.depth,Z=!1,bt=[],st=[],dt=void 0,ht=!1,Ct=0,Ft=0;Ft<C.length;Ft++){var W=qv(C[Ft],4),D=W[0],Y=W[1],$=W[2],ot=W[3];bt.push(D,Y,$),ot!=null&&(ot===0?(Ct++,st.length<1&&st.push(Ft)):ot<255&&(ht=!0))}if(ht||Ct>1){Z=!0,st=void 0;var ut=R*F;dt=new Uint8Array(ut);for(var mt=new DataView(S.buffer),Nt=0;Nt<ut;Nt++){var St=Vm(mt,Nt,L),Ut=qv(C[St],4)[3];dt[Nt]=Ut}}else Ct===0&&(st=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:S,alphaBytes:dt,needSMask:Z,palette:bt,mask:st}})(o):f===2||f===4?(function(O){for(var R=O.data,F=O.width,S=O.height,C=O.channels,L=O.depth,Z=C===2?"DeviceGray":"DeviceRGB",bt=C-1,st=F*S,dt=bt,ht=st*dt,Ct=1*st,Ft=Math.ceil(ht*L/8),W=Math.ceil(Ct*L/8),D=new Uint8Array(Ft),Y=new Uint8Array(W),$=new DataView(R.buffer),ot=new DataView(D.buffer),ut=new DataView(Y.buffer),mt=!1,Nt=0;Nt<st;Nt++){for(var St=Nt*C,Ut=0;Ut<dt;Ut++)K_(ot,Vm($,St+Ut,L),Nt*dt+Ut,L);var Wt=Vm($,St+dt,L);Wt<(1<<L)-1&&(mt=!0),K_(ut,Wt,1*Nt,L)}return{colorSpace:Z,colorsPerPixel:bt,sMaskBitsPerComponent:mt?L:void 0,colorBytes:D,alphaBytes:Y,needSMask:mt}})(o):(function(O){var R=O.data,F=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(S){for(var C=S.length,L=new Uint8Array(2*C),Z=new DataView(L.buffer,L.byteOffset,L.byteLength),bt=0;bt<C;bt++)Z.setUint16(2*bt,S[bt],!1);return L})(R):R,needSMask:!1}})(o);var A,N,b,V=a,B=V.colorSpace,z=V.colorsPerPixel,U=V.sMaskBitsPerComponent,rt=V.colorBytes,tt=V.alphaBytes,J=V.needSMask,vt=V.palette,pt=V.mask,j=null;return r!==Ae.API.image_compression.NONE&&typeof n0=="function"?(j=(function(O){var R;switch(O){case Ae.API.image_compression.FAST:R=11;break;case Ae.API.image_compression.MEDIUM:R=13;break;case Ae.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),A=this.decode.FLATE_DECODE,N="/Predictor ".concat(j," /Colors ").concat(z," /BitsPerComponent ").concat(v," /Columns ").concat(u),n=q_(rt,Math.ceil(u*z*v/8),z,v,r),J&&(b=q_(tt,Math.ceil(u*U/8),1,U,r))):(A=void 0,N=void 0,n=rt,J&&(b=tt)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:e,data:n,index:t,filter:A,decodeParameters:N,transparency:pt,palette:vt,sMask:b,predictor:j,width:u,height:h,bitsPerComponent:v,sMaskBitsPerComponent:U,colorSpace:B}}},(function(n){n.processGIF89A=function(t,e,r,a){var o=new yN(t),u=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var p={data:f,width:u,height:h},v=new Bm(100).encode(p,100);return n.processJPEG.call(this,v,e,r,a)},n.processGIF87A=n.processGIF89A})(Ae.API),ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ro.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){li.log("bit decode error:"+e)}},ro.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}e!==0&&(this.pos+=4-e)}},ro.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*a*4,h=o>>4,f=15&o,p=this.palette[h];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*a+1>=this.width)break;p=this.palette[f],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},ro.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},ro.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,p=o>>15?255:0,v=r*this.width*4+4*a;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=u,this.data[v+3]=p}this.pos+=n}},ro.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&t)/t*255|0,f=(u>>5&e)/e*255|0,p=(u>>11)/t*255|0,v=a*this.width*4+4*o;this.data[v]=p,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},ro.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},ro.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=u}},ro.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,a){var o=new ro(t,!1),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},p=new Bm(100).encode(f,100);return n.processJPEG.call(this,p,e,r,a)}})(Ae.API),X_.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,a){var o=new X_(t),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},p=new Bm(100).encode(f,100);return n.processJPEG.call(this,p,e,r,a)}})(Ae.API),Ae.API.processRGBA=function(n,t,e){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),h=0,f=0,p=0;p<a;p+=4){var v=r[p],A=r[p+1],N=r[p+2],b=r[p+3];o[h++]=v,o[h++]=A,o[h++]=N,u[f++]=b}var V=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:V,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ae.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lh=Ae.API,hp=lh.getCharWidthsArray=function(n,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:a.metadata.Unicode.widths,f=h.fof?h.fof:1,p=t.kerning?t.kerning:a.metadata.Unicode.kerning,v=p.fof?p.fof:1,A=t.doKerning!==!1,N=0,b=n.length,V=0,B=h[0]||f,z=[];for(e=0;e<b;e++)r=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?z.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(N=A&&Xn(p[r])==="object"&&!isNaN(parseInt(p[r][V],10))?p[r][V]/v:0,z.push((h[r]||B)/f+N)),V=r;return z},B_=lh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return lh.processArabic&&(n=lh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,a)/e:hp.apply(this,arguments).reduce(function(o,u){return o+u},0)},j_=function(n,t,e,r){for(var a=[],o=0,u=n.length,h=0;o!==u&&h+t[o]<e;)h+=t[o],o++;a.push(n.slice(0,o));var f=o;for(h=0;o!==u;)h+t[o]>r&&(a.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&a.push(n.slice(f,o)),a},F_=function(n,t,e){e||(e={});var r,a,o,u,h,f,p,v=[],A=[v],N=e.textIndent||0,b=0,V=0,B=n.split(" "),z=hp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?B[0].length+2:e.lineIndent||0){var U=Array(f).join(" "),rt=[];B.map(function(J){(J=J.split(/\s*\n/)).length>1?rt=rt.concat(J.map(function(vt,pt){return(pt&&vt.length?`
`:"")+vt})):rt.push(J[0])}),B=rt,f=B_.apply(this,[U,e])}for(o=0,u=B.length;o<u;o++){var tt=0;if(r=B[o],f&&r[0]==`
`&&(r=r.substr(1),tt=1),N+b+(V=(a=hp.apply(this,[r,e])).reduce(function(J,vt){return J+vt},0))>t||tt){if(V>t){for(h=j_.apply(this,[r,a,t-(N+b),t]),v.push(h.shift()),v=[h.pop()];h.length;)A.push([h.shift()]);V=a.slice(r.length-(v[0]?v[0].length:0)).reduce(function(J,vt){return J+vt},0)}else v=[r];A.push(v),N=V+f,b=z}else v.push(r),N+=b+V,b=z}return p=f?function(J,vt){return(vt?U:"")+J.join(" ")}:function(J){return J.join(" ")},A.map(p)},lh.splitTextToSize=function(n,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var A=this.internal.getFont(v.fontName,v.fontStyle),N="Unicode";return A.metadata[N]?{widths:A.metadata[N].widths||{0:1},kerning:A.metadata[N].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var h,f,p=[];for(h=0,f=r.length;h<f;h++)p=p.concat(F_.apply(this,[r[h],u,o]));return p},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[e[o]]=t[o],a[t[o]]=e[o];var u=function(N){return"0x"+parseInt(N,10).toString(16)},h=n.__fontmetrics__.compress=function(N){var b,V,B,z,U=["{"];for(var rt in N){if(b=N[rt],isNaN(parseInt(rt,10))?V="'"+rt+"'":(rt=parseInt(rt,10),V=(V=u(rt).slice(2)).slice(0,-1)+a[V.slice(-1)]),typeof b=="number")b<0?(B=u(b).slice(3),z="-"):(B=u(b).slice(2),z=""),B=z+B.slice(0,-1)+a[B.slice(-1)];else{if(Xn(b)!=="object")throw new Error("Don't know what to do with value type "+Xn(b)+".");B=h(b)}U.push(V+B)}return U.push("}"),U.join("")},f=n.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,V,B,z,U={},rt=1,tt=U,J=[],vt="",pt="",j=N.length-1,O=1;O<j;O+=1)(z=N[O])=="'"?b?(B=b.join(""),b=void 0):b=[]:b?b.push(z):z=="{"?(J.push([tt,B]),tt={},B=void 0):z=="}"?((V=J.pop())[0][V[1]]=tt,B=void 0,tt=V[0]):z=="-"?rt=-1:B===void 0?r.hasOwnProperty(z)?(vt+=r[z],B=parseInt(vt,16)*rt,rt=1,vt=""):vt+=z:r.hasOwnProperty(z)?(pt+=r[z],tt[B]=parseInt(pt,16)*rt,rt=1,B=void 0,pt=""):pt+=z;return U},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(N){var b=N.font,V=A.Unicode[b.postScriptName];V&&(b.metadata.Unicode={},b.metadata.Unicode.widths=V.widths,b.metadata.Unicode.kerning=V.kerning);var B=v.Unicode[b.postScriptName];B&&(b.metadata.Unicode.encoding=B,b.encoding=B.codePages[0])}])})(Ae.API),(function(n){var t=function(e){for(var r=e.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=e.charCodeAt(o);return a};n.API.events.push(["addFont",function(e){var r=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(bp(h)),u.metadata=n.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,r)}}])})(Ae),Ae.API.addSvgAsImage=function(n,t,e,r,a,o,u,h){if(isNaN(t)||isNaN(e))throw li.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw li.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Ke.canvg?Promise.resolve(Ke.canvg):vm(()=>import("./index.es-Cl-bIxAu.js"),[])).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(p,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(v)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),t,e,r,a,u,h)})},Ae.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},Ae.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],p=0,v=0,A=0;function N(V,B){var z,U=!1;for(z=0;z<V.length;z+=1)V[z]===B&&(U=!0);return U}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var b=h.length;for(A=0;A<b;A+=1)e[h[A]].value=e[h[A]].defaultValue,e[h[A]].explicitSet=!1}if(Xn(n)==="object"){for(a in n)if(o=n[a],N(h,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&N(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(p=0;p<o.length;p+=1)if(r=!0,o[p].length===1&&typeof o[p][0]=="number")f.push(String(o[p]-1));else if(o[p].length>1){for(v=0;v<o[p].length;v+=1)typeof o[p][v]!="number"&&(r=!1);r===!0&&f.push([o[p][0]-1,o[p][1]-1].join(" "))}e[a].value="["+f.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var V,B=[];for(V in e)e[V].explicitSet===!0&&(e[V].type==="name"?B.push("/"+V+" /"+e[V].value):B.push("/"+V+" "+e[V].value));B.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+B.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+u.length+h.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Ae.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,u){for(var h,f=u.metadata.Unicode.widths,p=["","0","00","000","0000"],v=[""],A=0,N=o.length;A<N;++A){if(h=u.metadata.characterToGlyph(o.charCodeAt(A)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(p[4-h.length],h)}return v.join("")},r=function(o){var u,h,f,p,v,A,N;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,N=(h=Object.keys(o).sort(function(b,V){return b-V})).length;A<N;A++)u=h[A],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(p=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+p+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,p=u.newObject,v=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,N=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),b="",V=0;V<N.length;V++)b+=String.fromCharCode(N[V]);var B=p();v({data:b,addLength1:!0,objectId:B}),f("endobj");var z=p();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:z}),f("endobj");var U=p();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+ch(h.fontName)),f("/FontFile2 "+B+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var rt=p();f("<<"),f("/Type /Font"),f("/BaseFont /"+ch(h.fontName)),f("/FontDescriptor "+U+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=p(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+z+" 0 R"),f("/BaseFont /"+ch(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+rt+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,p=u.newObject,v=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,N="",b=0;b<A.length;b++)N+=String.fromCharCode(A[b]);var V=p();v({data:N,addLength1:!0,objectId:V}),f("endobj");var B=p();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:B}),f("endobj");var z=p();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+V+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+ch(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=p();for(var U=0;U<h.metadata.hmtx.widths.length;U++)h.metadata.hmtx.widths[U]=parseInt(h.metadata.hmtx.widths[U]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+B+" 0 R/BaseFont/"+ch(h.fontName)+"/FontDescriptor "+z+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,h=o.text||"",f=o.x,p=o.y,v=o.options||{},A=o.mutex||{},N=A.pdfEscape,b=A.activeFontKey,V=A.fonts,B=b,z="",U=0,rt="",tt=V[B].encoding;if(V[B].encoding!=="Identity-H")return{text:h,x:f,y:p,options:v,mutex:A};for(rt=h,B=b,Array.isArray(h)&&(rt=h[0]),U=0;U<rt.length;U+=1)V[B].metadata.hasOwnProperty("cmap")&&(u=V[B].metadata.cmap.unicode.codeMap[rt[U].charCodeAt(0)]),u||rt[U].charCodeAt(0)<256&&V[B].metadata.hasOwnProperty("Unicode")?z+=rt[U]:z+="";var J="";return parseInt(B.slice(1))<14||tt==="WinAnsiEncoding"?J=N(z,B).split("").map(function(vt){return vt.charCodeAt(0).toString(16)}).join(""):tt==="Identity-H"&&(J=e(z,V[B])),A.isHex=!0,{text:J,x:f,y:p,options:v,mutex:A}};t.events.push(["postProcessText",function(o){var u=o.text||"",h=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?h.push([a(Object.assign({},f,{text:u[p][0]})).text,u[p][1],u[p][2]]):h.push(a(Object.assign({},f,{text:u[p]})).text);o.text=h}else o.text=a(Object.assign({},f,{text:u})).text}])})(Ae),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Ae.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,u,h,f,p,v,A=t,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],V={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},B={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},z=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],U=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),rt=!1,tt=0;this.__bidiEngine__={};var J=function(S){var C=S.charCodeAt(),L=C>>8,Z=B[L];return Z!==void 0?A[256*Z+(255&C)]:L===252||L===253?"AL":U.test(L)?"L":L===8?"R":"N"},vt=function(S){for(var C,L=0;L<S.length;L++){if((C=J(S.charAt(L)))==="L")return!1;if(C==="R")return!0}return!1},pt=function(S,C,L,Z){var bt,st,dt,ht,Ct=C[Z];switch(Ct){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":rt=!1;break;case"N":case"AN":break;case"EN":rt&&(Ct="AN");break;case"AL":rt=!0,Ct="R";break;case"WS":case"BN":Ct="N";break;case"CS":Z<1||Z+1>=C.length||(bt=L[Z-1])!=="EN"&&bt!=="AN"||(st=C[Z+1])!=="EN"&&st!=="AN"?Ct="N":rt&&(st="AN"),Ct=st===bt?st:"N";break;case"ES":Ct=(bt=Z>0?L[Z-1]:"B")==="EN"&&Z+1<C.length&&C[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&L[Z-1]==="EN"){Ct="EN";break}if(rt){Ct="N";break}for(dt=Z+1,ht=C.length;dt<ht&&C[dt]==="ET";)dt++;Ct=dt<ht&&C[dt]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(ht=C.length,dt=Z+1;dt<ht&&C[dt]==="NSM";)dt++;if(dt<ht){var Ft=S[Z],W=Ft>=1425&&Ft<=2303||Ft===64286;if(bt=C[dt],W&&(bt==="R"||bt==="AL")){Ct="R";break}}}Ct=Z<1||(bt=C[Z-1])==="B"?"N":L[Z-1];break;case"B":rt=!1,a=!0,Ct=tt;break;case"S":o=!0,Ct="N"}return Ct},j=function(S,C,L){var Z=S.split("");return L&&O(Z,L,{hiLevel:tt}),Z.reverse(),C&&C.reverse(),Z.join("")},O=function(S,C,L){var Z,bt,st,dt,ht,Ct=-1,Ft=S.length,W=0,D=[],Y=tt?b:N,$=[];for(rt=!1,a=!1,o=!1,bt=0;bt<Ft;bt++)$[bt]=J(S[bt]);for(st=0;st<Ft;st++){if(ht=W,D[st]=pt(S,$,D,st),Z=240&(W=Y[ht][V[D[st]]]),W&=15,C[st]=dt=Y[W][5],Z>0)if(Z===16){for(bt=Ct;bt<st;bt++)C[bt]=1;Ct=-1}else Ct=-1;if(Y[W][6])Ct===-1&&(Ct=st);else if(Ct>-1){for(bt=Ct;bt<st;bt++)C[bt]=dt;Ct=-1}$[st]==="B"&&(C[st]=0),L.hiLevel|=dt}o&&(function(ot,ut,mt){for(var Nt=0;Nt<mt;Nt++)if(ot[Nt]==="S"){ut[Nt]=tt;for(var St=Nt-1;St>=0&&ot[St]==="WS";St--)ut[St]=tt}})($,C,Ft)},R=function(S,C,L,Z,bt){if(!(bt.hiLevel<S)){if(S===1&&tt===1&&!a)return C.reverse(),void(L&&L.reverse());for(var st,dt,ht,Ct,Ft=C.length,W=0;W<Ft;){if(Z[W]>=S){for(ht=W+1;ht<Ft&&Z[ht]>=S;)ht++;for(Ct=W,dt=ht-1;Ct<dt;Ct++,dt--)st=C[Ct],C[Ct]=C[dt],C[dt]=st,L&&(st=L[Ct],L[Ct]=L[dt],L[dt]=st);W=ht}W++}}},F=function(S,C,L){var Z=S.split(""),bt={hiLevel:tt};return L||(L=[]),O(Z,L,bt),(function(st,dt,ht){if(ht.hiLevel!==0&&v)for(var Ct,Ft=0;Ft<st.length;Ft++)dt[Ft]===1&&(Ct=z.indexOf(st[Ft]))>=0&&(st[Ft]=z[Ct+1])})(Z,L,bt),R(2,Z,C,L,bt),R(1,Z,C,L,bt),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(S,C,L){if((function(bt,st){if(st)for(var dt=0;dt<bt.length;dt++)st[dt]=dt;h===void 0&&(h=vt(bt)),p===void 0&&(p=vt(bt))})(S,C),u||!f||p)if(u&&f&&h^p)tt=h?1:0,S=j(S,C,L);else if(!u&&f&&p)tt=h?1:0,S=F(S,C,L),S=j(S,C);else if(!u||h||f||p){if(u&&!f&&h^p)S=j(S,C),h?(tt=0,S=F(S,C,L)):(tt=1,S=F(S,C,L),S=j(S,C));else if(u&&h&&!f&&p)tt=1,S=F(S,C,L),S=j(S,C);else if(!u&&!f&&h^p){var Z=v;h?(tt=1,S=F(S,C,L),tt=0,v=!1,S=F(S,C,L),v=Z):(tt=0,S=F(S,C,L),S=j(S,C),tt=1,v=!1,S=F(S,C,L),v=Z,S=j(S,C))}}else tt=0,S=F(S,C,L);else tt=h?1:0,S=F(S,C,L);return S},this.__bidiEngine__.setOptions=function(S){S&&(u=S.isInputVisual,f=S.isOutputVisual,h=S.isInputRtl,p=S.isOutputRtl,v=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(u=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?u.push([e.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):u.push([e.doBidiReorder(a[h])]);r.text=u}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(Ae),Ae.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Tu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new kN(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new vN(this.contents),this.head=new bN(this),this.name=new TN(this),this.cmap=new S4(this),this.toUnicode={},this.hhea=new wN(this),this.maxp=new NN(this),this.hmtx=new IN(this),this.post=new EN(this),this.os2=new AN(this),this.loca=new LN(this),this.glyf=new CN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,p;for(p=[],u=0,h=(f=this.bbox).length;u<h;u++)t=f[u],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var a,o,u,h;for(u=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=t.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return u*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var co,Tu=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,a,o,u,h,f;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*o+65536*u+256*h+f},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,a,o;for(o=[],r=0,a=t.length;r<a;r++)e=t[r],o.push(this.writeByte(e));return o},n})(),vN=(function(){var n;function t(e){var r,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,o,u,h,f,p,v,A,N,b,V,B;for(B in b=Object.keys(e).length,f=Math.log(2),A=16*Math.floor(Math.log(b)/f),u=Math.floor(A/f),v=16*b-A,(a=new Tu).writeInt(this.scalarType),a.writeShort(b),a.writeShort(A),a.writeShort(u),a.writeShort(v),o=16*b,p=a.pos+o,h=null,V=[],e)for(N=e[B],a.writeString(B),a.writeInt(n(N)),a.writeInt(p),a.writeInt(N.length),V=V.concat(N),B==="head"&&(h=p),p+=N.length;p%4;)V.push(0),p++;return a.write(V),r=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(r),a.data},n=function(e){var r,a,o,u;for(e=T4.call(e);e.length%4;)e.push(0);for(o=new Tu(e),a=0,r=0,u=e.length;r<u;r=r+=4)a+=o.readUInt32();return 4294967295&a},t})(),_N={}.hasOwnProperty,Wo=function(n,t){for(var e in t)_N.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};co=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var bN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Tu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),W_=(function(){function n(t,e){var r,a,o,u,h,f,p,v,A,N,b,V,B,z,U,rt,tt;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(b=t.readUInt16(),N=b/2,t.pos+=6,o=(function(){var J,vt;for(vt=[],f=J=0;0<=N?J<N:J>N;f=0<=N?++J:--J)vt.push(t.readUInt16());return vt})(),t.pos+=2,B=(function(){var J,vt;for(vt=[],f=J=0;0<=N?J<N:J>N;f=0<=N?++J:--J)vt.push(t.readUInt16());return vt})(),p=(function(){var J,vt;for(vt=[],f=J=0;0<=N?J<N:J>N;f=0<=N?++J:--J)vt.push(t.readUInt16());return vt})(),v=(function(){var J,vt;for(vt=[],f=J=0;0<=N?J<N:J>N;f=0<=N?++J:--J)vt.push(t.readUInt16());return vt})(),a=(this.length-t.pos+this.offset)/2,h=(function(){var J,vt;for(vt=[],f=J=0;0<=a?J<a:J>a;f=0<=a?++J:--J)vt.push(t.readUInt16());return vt})(),f=U=0,tt=o.length;U<tt;f=++U)for(z=o[f],r=rt=V=B[f];V<=z?rt<=z:rt>=z;r=V<=z?++rt:--rt)v[f]===0?u=r+p[f]:(u=h[v[f]/2+(r-V)-(N-f)]||0)!==0&&(u+=p[f]),this.codeMap[r]=65535&u}t.pos=A}return n.encode=function(t,e){var r,a,o,u,h,f,p,v,A,N,b,V,B,z,U,rt,tt,J,vt,pt,j,O,R,F,S,C,L,Z,bt,st,dt,ht,Ct,Ft,W,D,Y,$,ot,ut,mt,Nt,St,Ut,Wt,ee;switch(Z=new Tu,u=Object.keys(t).sort(function(ne,Dt){return ne-Dt}),e){case"macroman":for(B=0,z=(function(){var ne=[];for(V=0;V<256;++V)ne.push(0);return ne})(),rt={0:0},o={},bt=0,Ct=u.length;bt<Ct;bt++)rt[St=t[a=u[bt]]]==null&&(rt[St]=++B),o[a]={old:t[a],new:rt[t[a]]},z[a]=rt[t[a]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(z),{charMap:o,subtable:Z.data,maxGlyphID:B+1};case"unicode":for(C=[],A=[],tt=0,rt={},r={},U=p=null,st=0,Ft=u.length;st<Ft;st++)rt[vt=t[a=u[st]]]==null&&(rt[vt]=++tt),r[a]={old:vt,new:rt[vt]},h=rt[vt]-a,U!=null&&h===p||(U&&A.push(U),C.push(a),p=h),U=a;for(U&&A.push(U),A.push(65535),C.push(65535),F=2*(R=C.length),O=2*Math.pow(Math.log(R)/Math.LN2,2),N=Math.log(O/2)/Math.LN2,j=2*R-O,f=[],pt=[],b=[],V=dt=0,W=C.length;dt<W;V=++dt){if(S=C[V],v=A[V],S===65535){f.push(0),pt.push(0);break}if(S-(L=r[S].new)>=32768)for(f.push(0),pt.push(2*(b.length+R-V)),a=ht=S;S<=v?ht<=v:ht>=v;a=S<=v?++ht:--ht)b.push(r[a].new);else f.push(L-S),pt.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*R+2*b.length),Z.writeUInt16(0),Z.writeUInt16(F),Z.writeUInt16(O),Z.writeUInt16(N),Z.writeUInt16(j),mt=0,D=A.length;mt<D;mt++)a=A[mt],Z.writeUInt16(a);for(Z.writeUInt16(0),Nt=0,Y=C.length;Nt<Y;Nt++)a=C[Nt],Z.writeUInt16(a);for(Ut=0,$=f.length;Ut<$;Ut++)h=f[Ut],Z.writeUInt16(h);for(Wt=0,ot=pt.length;Wt<ot;Wt++)J=pt[Wt],Z.writeUInt16(J);for(ee=0,ut=b.length;ee<ut;ee++)B=b[ee],Z.writeUInt16(B);return{charMap:r,subtable:Z.data,maxGlyphID:tt+1}}},n})(),S4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)e=new W_(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,a;return e==null&&(e="macroman"),r=W_.encode(t,e),(a=new Tu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),wN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),AN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),EN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var u,h,f;for(f=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)f.push(t.readUInt32());return f}).call(this)}},n})(),SN=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},TN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,a,o,u,h,f,p,v,A,N;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=v=0,A=r.length;v<A;o=++v)a=r[o],t.pos=a.offset,p=t.readString(a.length),u=new SN(p,a),f[N=a.nameID]==null&&(f[N]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),NN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),IN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,a,o,u,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,v;for(v=[],e=p=0;0<=a?p<a:p>a;e=0<=a?++p:--p)v.push(t.readInt16());return v})(),this.widths=(function(){var p,v,A,N;for(N=[],p=0,v=(A=this.metrics).length;p<v;p++)o=A[p],N.push(o.advance);return N}).call(this),r=this.widths[this.widths.length-1],f=[],e=u=0;0<=a?u<a:u>a;e=0<=a?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),T4=[].slice,CN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,a,o,u,h,f,p,v,A;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,u=(h=new Tu(e.read(a))).readShort(),p=h.readShort(),A=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[t]=u===-1?new xN(h,p,A,f,v):new RN(h,u,p,A,f,v),this.cache[t]))},n.prototype.encode=function(t,e,r){var a,o,u,h,f;for(u=[],o=[],h=0,f=e.length;h<f;h++)a=t[e[h]],o.push(u.length),a&&(u=u.concat(a.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),RN=(function(){function n(t,e,r,a,o,u){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),xN=(function(){function n(t,e,r,a,o){var u,h;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Tu(T4.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),LN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wo(n,co),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<r.length;++u)if(r[u]=a,o<e.length&&e[o]==u){++o,r[u]=a;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(a+=f)}for(var p=new Array(4*r.length),v=0;v<r.length;++v)p[4*v+3]=255&r[v],p[4*v+2]=(65280&r[v])>>8,p[4*v+1]=(16711680&r[v])>>16,p[4*v]=(4278190080&r[v])>>24;return p},n})(),kN=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=a[r];return t},n.prototype.glyphsFor=function(t){var e,r,a,o,u,h,f;for(a={},u=0,h=t.length;u<h;u++)a[o=t[u]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(r=a[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))r=f[o],a[o]=r;return a},n.prototype.encode=function(t,e){var r,a,o,u,h,f,p,v,A,N,b,V,B,z,U;for(a in r=S4.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),b={0:0},U=r.charMap)b[(f=U[a]).old]=f.new;for(V in N=r.maxGlyphID,u)V in b||(b[V]=N++);return v=(function(rt){var tt,J;for(tt in J={},rt)J[rt[tt]]=tt;return J})(b),A=Object.keys(v).sort(function(rt,tt){return rt-tt}),B=(function(){var rt,tt,J;for(J=[],rt=0,tt=A.length;rt<tt;rt++)h=A[rt],J.push(v[h]);return J})(),o=this.font.glyf.encode(u,B,b),p=this.font.loca.encode(o.offsets,B),z={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(z)},n})();Ae.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,o,u;if(Array.isArray(e))return"["+(function(){var h,f,p;for(p=[],h=0,f=e.length;h<f;h++)r=e[h],p.push(t.convert(r));return p})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)u=e[a],o.push("/"+a+" "+t.convert(u));return o.push(">>"),o.join(`
`)}return""+e},t})();const ON=ui.forwardRef((n,t)=>{const[e,r]=ui.useState(null),[a,o]=ui.useState([]),[u,h]=ui.useState([]),[f,p]=ui.useState(null),[v,A]=ui.useState({}),N=async()=>{const S={};for(const C of a){const L=JSON.stringify({n:C.id,b:"BLDG_A",f:1});S[C.id]=await qS.toDataURL(L,{width:128,margin:1})}A(S)},b=async()=>{ui.useImperativeHandle(t,()=>({handleGenerateQRCodes:N,handleExportQRCodesPDF:b})),Object.keys(v).length===0&&await N();const S=new Ae;let C=10,L=0;for(const Z of Object.keys(v))L>0&&L%4===0&&(S.addPage(),C=10),S.text(Z,10,C+5),S.addImage(v[Z],"PNG",10,C+10,40,40),C+=55,L++;S.save("etigah-qrcodes.pdf")},[V,B]=ui.useState({x:0,y:0}),[z,U]=ui.useState([]),rt=ui.useRef(null),tt=ui.useRef(null),J=()=>{rt.current?.click()},vt=S=>{const C=S.target.files?.[0];if(C){const L=new FileReader;L.onload=Z=>{r(Z.target?.result)},L.readAsDataURL(C)}},pt=S=>{if(!e||f)return;const C=S.target.getBoundingClientRect(),L=S.clientX-C.left,Z=S.clientY-C.top;o(bt=>[...bt,{id:`node-${Date.now()}`,x:L,y:Z}])},j=(S,C)=>{C.stopPropagation(),p(S),B({x:C.nativeEvent.offsetX,y:C.nativeEvent.offsetY}),z.length===0?U([S]):z.length===1&&z[0]!==S?(h(L=>[...L,{from:z[0],to:S}]),U([])):U([])},O=S=>{if(!f)return;const C=tt.current?.getBoundingClientRect();if(!C)return;const L=S.clientX-C.left-V.x,Z=S.clientY-C.top-V.y;o(bt=>bt.map(st=>st.id===f?{...st,x:L,y:Z}:st))},R=()=>{p(null)},F=()=>U([]);return zt.jsxs("div",{className:"map-editor-root",children:[zt.jsxs("aside",{className:"map-editor-sidebar",children:[zt.jsx("h3",{children:"Map Layers"}),zt.jsx("button",{className:"upload-btn",onClick:J,children:"Upload Floorplan"}),zt.jsx("input",{type:"file",accept:"image/*,image/svg+xml",style:{display:"none"},ref:rt,onChange:vt}),zt.jsxs("div",{className:"sidebar-section",children:[zt.jsx("h4",{children:"Nodes"}),zt.jsx("ul",{className:"node-list",children:a.map(S=>zt.jsxs("li",{children:[S.id," (",Math.round(S.x),", ",Math.round(S.y),")"]},S.id))})]}),zt.jsxs("div",{className:"sidebar-section",children:[zt.jsx("h4",{children:"Edges"}),zt.jsxs("ul",{className:"edge-list",children:[u.map((S,C)=>zt.jsxs("li",{children:[S.from," ↔ ",S.to]},C)),u.length===0&&zt.jsx("li",{children:"No edges yet"})]}),zt.jsx("button",{className:"add-btn",onClick:F,style:{marginTop:4},children:"Add Edge"})]}),zt.jsxs("div",{className:"sidebar-section",children:[zt.jsx("h4",{children:"QR Codes"}),zt.jsx("button",{className:"qr-btn",onClick:N,children:"Generate All"}),zt.jsx("button",{className:"qr-btn",onClick:b,style:{marginTop:4},children:"Export as PDF"}),zt.jsx("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:8},children:Object.entries(v).map(([S,C])=>zt.jsxs("div",{style:{textAlign:"center"},children:[zt.jsx("img",{src:C,alt:`QR for ${S}`,style:{width:48,height:48}}),zt.jsx("div",{style:{fontSize:10},children:S})]},S))})]})]}),zt.jsx("section",{className:"map-editor-canvas",ref:tt,onClick:pt,onMouseMove:O,onMouseUp:R,style:{cursor:f?"grabbing":"crosshair"},children:e?zt.jsxs(zt.Fragment,{children:[zt.jsx("img",{src:e,alt:"Floorplan",style:{maxWidth:"100%",maxHeight:"100%",borderRadius:"1rem",boxShadow:"0 2px 16px #cbd5e1",position:"absolute",left:0,top:0,width:"100%",height:"100%",objectFit:"contain",zIndex:1}}),zt.jsx("svg",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:1,pointerEvents:"none"},children:u.map((S,C)=>{const L=a.find(bt=>bt.id===S.from),Z=a.find(bt=>bt.id===S.to);return!L||!Z?null:zt.jsx("line",{x1:L.x,y1:L.y,x2:Z.x,y2:Z.y,stroke:"#2563eb",strokeWidth:4},C)})}),a.map(S=>zt.jsx("div",{className:"editor-node",style:{left:S.x,top:S.y,zIndex:2,position:"absolute",border:z.includes(S.id)?"2px solid #fbbf24":void 0},onMouseDown:C=>j(S.id,C),children:zt.jsx("span",{role:"img","aria-label":"Node",children:"🔵"})},S.id))]}):zt.jsx("div",{className:"canvas-placeholder",children:zt.jsx("span",{children:"Upload a floorplan to start editing"})})})]})}),DN=()=>{};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},PN=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],u=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return t.join("")},I4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,v=o>>2,A=(o&3)<<4|h>>4;let N=(h&15)<<2|p>>6,b=p&63;f||(b=64,u||(N=64)),r.push(e[v],e[A],e[N],e[b])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(N4(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):PN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const A=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||p==null||A==null)throw new MN;const N=o<<2|h>>4;if(r.push(N),p!==64){const b=h<<4&240|p>>2;if(r.push(b),A!==64){const V=p<<6&192|A;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UN=function(n){const t=N4(n);return I4.encodeByteArray(t,!0)},Bp=function(n){return UN(n).replace(/\./g,"")},C4=function(n){try{return I4.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=()=>VN().__FIREBASE_DEFAULTS__,jN=()=>{if(typeof process>"u"||typeof $_>"u")return;const n=$_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&C4(n[1]);return t&&JSON.parse(t)},c1=()=>{try{return DN()||BN()||jN()||FN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R4=n=>c1()?.emulatorHosts?.[n],x4=n=>{const t=R4(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},L4=()=>c1()?.config,k4=n=>c1()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bp(JSON.stringify(e)),Bp(JSON.stringify(u)),""].join(".")}const Df={};function zN(){const n={prod:[],emulator:[]};for(const t of Object.keys(Df))Df[t]?n.emulator.push(t):n.prod.push(t);return n}function HN(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let J_=!1;function H0(n,t){if(typeof window>"u"||typeof document>"u"||!wc(window.location.host)||Df[n]===t||Df[n]||J_)return;Df[n]=t;function e(N){return`__firebase__banner__${N}`}const r="__firebase__banner",o=zN().prod.length>0;function u(){const N=document.getElementById(r);N&&N.remove()}function h(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function f(N,b){N.setAttribute("width","24"),N.setAttribute("id",b),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{J_=!0,u()},N}function v(N,b){N.setAttribute("id",b),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=HN(r),b=e("text"),V=document.getElementById(b)||document.createElement("span"),B=e("learnmore"),z=document.getElementById(B)||document.createElement("a"),U=e("preprendIcon"),rt=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const tt=N.element;h(tt),v(z,B);const J=p();f(rt,U),tt.append(rt,V,z,J),document.body.appendChild(tt)}o?(V.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gs())}function YN(){const n=c1()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WN(){const n=gs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $N(){return!YN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JN(){try{return typeof indexedDB=="object"}catch{return!1}}function ZN(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="FirebaseError";class $o extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=t8,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jf.prototype.create)}}class Jf{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],u=o?e8(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new $o(a,h,r)}}function e8(n,t){return n.replace(n8,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const n8=/\{\$([^}]+)}/g;function i8(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function hc(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const o=n[a],u=t[a];if(Z_(o)&&Z_(u)){if(!hc(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function Z_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nf(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function If(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function r8(n,t){const e=new s8(n,t);return e.subscribe.bind(e)}class s8{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");a8(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=jm),a.error===void 0&&(a.error=jm),a.complete===void 0&&(a.complete=jm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a8(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(n){return n&&n._delegate?n._delegate:n}class Nu{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new qN;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u8(t))try{this.getOrInitializeService({instanceIdentifier:ic})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(t=ic){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ic){return this.instances.has(t)}getOptions(t=ic){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l8(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ic){return this.component?this.component.multipleInstances?t:ic:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l8(n){return n===ic?void 0:n}function u8(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o8(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(vn||(vn={}));const h8={debug:vn.DEBUG,verbose:vn.VERBOSE,info:vn.INFO,warn:vn.WARN,error:vn.ERROR,silent:vn.SILENT},f8=vn.INFO,d8={[vn.DEBUG]:"log",[vn.VERBOSE]:"log",[vn.INFO]:"info",[vn.WARN]:"warn",[vn.ERROR]:"error"},p8=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=d8[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class G0{constructor(t){this.name=t,this._logLevel=f8,this._logHandler=p8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?h8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vn.DEBUG,...t),this._logHandler(this,vn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vn.VERBOSE,...t),this._logHandler(this,vn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vn.INFO,...t),this._logHandler(this,vn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vn.WARN,...t),this._logHandler(this,vn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vn.ERROR,...t),this._logHandler(this,vn.ERROR,...t)}}const g8=(n,t)=>t.some(e=>n instanceof e);let tb,eb;function m8(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y8(){return eb||(eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D4=new WeakMap,c0=new WeakMap,P4=new WeakMap,Fm=new WeakMap,Y0=new WeakMap;function v8(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(wu(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&D4.set(e,n)}).catch(()=>{}),Y0.set(t,n),t}function _8(n){if(c0.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});c0.set(n,t)}let h0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return c0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||P4.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return wu(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function b8(n){h0=n(h0)}function w8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(qm(this),t,...e);return P4.set(r,t.sort?t.sort():[t]),wu(r)}:y8().includes(n)?function(...t){return n.apply(qm(this),t),wu(D4.get(this))}:function(...t){return wu(n.apply(qm(this),t))}}function A8(n){return typeof n=="function"?w8(n):(n instanceof IDBTransaction&&_8(n),g8(n,m8())?new Proxy(n,h0):n)}function wu(n){if(n instanceof IDBRequest)return v8(n);if(Fm.has(n))return Fm.get(n);const t=A8(n);return t!==n&&(Fm.set(n,t),Y0.set(t,n)),t}const qm=n=>Y0.get(n);function E8(n,t,{blocked:e,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,t),h=wu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(wu(u.result),f.oldVersion,f.newVersion,wu(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const S8=["get","getKey","getAll","getAllKeys","count"],T8=["put","add","delete","clear"],zm=new Map;function nb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(zm.get(t))return zm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=T8.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||S8.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[e](...h),a&&f.done]))[0]};return zm.set(t,o),o}b8(n=>({...n,get:(t,e,r)=>nb(t,e)||n.get(t,e,r),has:(t,e)=>!!nb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(I8(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function I8(n){return n.getComponent()?.type==="VERSION"}const f0="@firebase/app",ib="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new G0("@firebase/app"),C8="@firebase/app-compat",R8="@firebase/analytics-compat",x8="@firebase/analytics",L8="@firebase/app-check-compat",k8="@firebase/app-check",O8="@firebase/auth",D8="@firebase/auth-compat",P8="@firebase/database",M8="@firebase/data-connect",U8="@firebase/database-compat",V8="@firebase/functions",B8="@firebase/functions-compat",j8="@firebase/installations",F8="@firebase/installations-compat",q8="@firebase/messaging",z8="@firebase/messaging-compat",H8="@firebase/performance",G8="@firebase/performance-compat",Y8="@firebase/remote-config",K8="@firebase/remote-config-compat",Q8="@firebase/storage",X8="@firebase/storage-compat",W8="@firebase/firestore",$8="@firebase/ai",J8="@firebase/firestore-compat",Z8="firebase",tI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="[DEFAULT]",eI={[f0]:"fire-core",[C8]:"fire-core-compat",[x8]:"fire-analytics",[R8]:"fire-analytics-compat",[k8]:"fire-app-check",[L8]:"fire-app-check-compat",[O8]:"fire-auth",[D8]:"fire-auth-compat",[P8]:"fire-rtdb",[M8]:"fire-data-connect",[U8]:"fire-rtdb-compat",[V8]:"fire-fn",[B8]:"fire-fn-compat",[j8]:"fire-iid",[F8]:"fire-iid-compat",[q8]:"fire-fcm",[z8]:"fire-fcm-compat",[H8]:"fire-perf",[G8]:"fire-perf-compat",[Y8]:"fire-rc",[K8]:"fire-rc-compat",[Q8]:"fire-gcs",[X8]:"fire-gcs-compat",[W8]:"fire-fst",[J8]:"fire-fst-compat",[$8]:"fire-vertex","fire-js":"fire-js",[Z8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Map,nI=new Map,p0=new Map;function rb(n,t){try{n.container.addComponent(t)}catch(e){Ol.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function fc(n){const t=n.name;if(p0.has(t))return Ol.debug(`There were multiple attempts to register component ${t}.`),!1;p0.set(t,n);for(const e of jp.values())rb(e,n);for(const e of nI.values())rb(e,n);return!0}function h1(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Js(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Au=new Jf("app","Firebase",iI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Au.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=tI;function M4(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:d0,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Au.create("bad-app-name",{appName:String(a)});if(e||(e=L4()),!e)throw Au.create("no-options");const o=jp.get(a);if(o){if(hc(e,o.options)&&hc(r,o.config))return o;throw Au.create("duplicate-app",{appName:a})}const u=new c8(a);for(const f of p0.values())u.addComponent(f);const h=new rI(e,r,u);return jp.set(a,h),h}function K0(n=d0){const t=jp.get(n);if(!t&&n===d0&&L4())return M4();if(!t)throw Au.create("no-app",{appName:n});return t}function jo(n,t,e){let r=eI[n]??n;e&&(r+=`-${e}`);const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${t}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ol.warn(u.join(" "));return}fc(new Nu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebase-heartbeat-database",aI=1,qf="firebase-heartbeat-store";let Hm=null;function U4(){return Hm||(Hm=E8(sI,aI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(qf)}catch(e){console.warn(e)}}}}).catch(n=>{throw Au.create("idb-open",{originalErrorMessage:n.message})})),Hm}async function oI(n){try{const e=(await U4()).transaction(qf),r=await e.objectStore(qf).get(V4(n));return await e.done,r}catch(t){if(t instanceof $o)Ol.warn(t.message);else{const e=Au.create("idb-get",{originalErrorMessage:t?.message});Ol.warn(e.message)}}}async function sb(n,t){try{const r=(await U4()).transaction(qf,"readwrite");await r.objectStore(qf).put(t,V4(n)),await r.done}catch(e){if(e instanceof $o)Ol.warn(e.message);else{const r=Au.create("idb-set",{originalErrorMessage:e?.message});Ol.warn(r.message)}}}function V4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1024,uI=30;class cI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new fI(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ab();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>uI){const a=dI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ol.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ab(),{heartbeatsToSend:e,unsentEntries:r}=hI(this._heartbeatsCache.heartbeats),a=Bp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ol.warn(t),""}}}function ab(){return new Date().toISOString().substring(0,10)}function hI(n,t=lI){const e=[];let r=n.slice();for(const a of n){const o=e.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),ob(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),ob(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class fI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JN()?ZN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await oI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return sb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return sb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ob(n){return Bp(JSON.stringify({version:2,heartbeats:n})).length}function dI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n){fc(new Nu("platform-logger",t=>new N8(t),"PRIVATE")),fc(new Nu("heartbeat",t=>new cI(t),"PRIVATE")),jo(f0,ib,n),jo(f0,ib,"esm2020"),jo("fire-js","")}pI("");var gI="firebase",mI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo(gI,mI,"app");function B4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yI=B4,j4=new Jf("auth","Firebase",B4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new G0("@firebase/auth");function vI(n,...t){Fp.logLevel<=vn.WARN&&Fp.warn(`Auth (${Ac}): ${n}`,...t)}function Tp(n,...t){Fp.logLevel<=vn.ERROR&&Fp.error(`Auth (${Ac}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n,...t){throw X0(n,...t)}function oo(n,...t){return X0(n,...t)}function Q0(n,t,e){const r={...yI(),[t]:e};return new Jf("auth","Firebase",r).create(t,{appName:n.name})}function Ll(n){return Q0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _I(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ua(n,"argument-error"),Q0(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function X0(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return j4.create(n,...t)}function je(n,t,...e){if(!n)throw X0(t,...e)}function Rl(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Tp(t),new Error(t)}function Dl(n,t){n||Rl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){return typeof self<"u"&&self.location?.href||""}function bI(){return lb()==="http:"||lb()==="https:"}function lb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bI()||QN()||"connection"in navigator)?navigator.onLine:!0}function AI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,e){this.shortDelay=t,this.longDelay=e,Dl(e>t,"Short delay should be less than long delay!"),this.isMobile=GN()||XN()}get(){return wI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n,t){Dl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TI=new td(3e4,6e4);function Du(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Pu(n,t,e,r,a={}){return q4(n,a,async()=>{let o={},u={};r&&(t==="GET"?u=r:o={body:JSON.stringify(r)});const h=Zf({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:f,...o};return KN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&wc(n.emulatorConfig.host)&&(p.credentials="include"),F4.fetch()(await z4(n,n.config.apiHost,e,h),p)})}async function q4(n,t,e){n._canInitEmulator=!1;const r={...EI,...t};try{const a=new II(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw fp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw fp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw fp(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Q0(n,v,p);Ua(n,v)}}catch(a){if(a instanceof $o)throw a;Ua(n,"network-request-failed",{message:String(a)})}}async function ed(n,t,e,r,a={}){const o=await Pu(n,t,e,r,a);return"mfaPendingCredential"in o&&Ua(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function z4(n,t,e,r){const a=`${t}${e}?${r}`,o=n,u=o.config.emulator?W0(n.config,a):`${n.config.apiScheme}://${a}`;return SI.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function NI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class II{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(oo(this.auth,"network-request-failed")),TI.get())})}}function fp(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=oo(n,t,r);return a.customData._tokenResponse=e,a}function ub(n){return n!==void 0&&n.enterprise!==void 0}class CI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return NI(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RI(n,t){return Pu(n,"GET","/v2/recaptchaConfig",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(n,t){return Pu(n,"POST","/v1/accounts:delete",t)}async function qp(n,t){return Pu(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function LI(n,t=!1){const e=Zr(n),r=await e.getIdToken(t),a=$0(r);je(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:Pf(Gm(a.auth_time)),issuedAtTime:Pf(Gm(a.iat)),expirationTime:Pf(Gm(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Gm(n){return Number(n)*1e3}function $0(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const a=C4(e);return a?JSON.parse(a):(Tp("Failed to decode base64 JWT payload"),null)}catch(a){return Tp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cb(n){const t=$0(n);return je(t,"internal-error"),je(typeof t.exp<"u","internal-error"),je(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof $o&&kI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function kI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(n){const t=n.auth,e=await n.getIdToken(),r=await zf(n,qp(t,{idToken:e}));je(r?.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?H4(a.providerUserInfo):[],u=PI(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!u?.length,p=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new m0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function DI(n){const t=Zr(n);await zp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PI(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function H4(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(n,t){const e=await q4(n,{},async()=>{const r=Zf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await z4(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&wc(n.emulatorConfig.host)&&(f.credentials="include"),F4.fetch()(u,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function UI(n,t){return Pu(n,"POST","/v2/accounts:revokeToken",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){je(t.idToken,"internal-error"),je(typeof t.idToken<"u","internal-error"),je(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){je(t.length!==0,"internal-error");const e=cb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:o}=await MI(t,e);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:o}=e,u=new bh;return r&&(je(typeof r=="string","internal-error",{appName:t}),u.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),o&&(je(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bh,this.toJSON())}_performRefresh(){return Rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n,t){je(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class so{constructor({uid:t,auth:e,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new OI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new m0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await zf(this,this.stsTokenManager.getToken(this.auth,t));return je(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return LI(this,t)}reload(){return DI(this)}_assign(t){this!==t&&(je(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new so({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await zp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Js(this.auth.app))return Promise.reject(Ll(this.auth));const t=await this.getIdToken();return await zf(this,xI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,p=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:b,providerData:V,stsTokenManager:B}=e;je(A&&B,t,"internal-error");const z=bh.fromJSON(this.name,B);je(typeof A=="string",t,"internal-error"),gu(r,t.name),gu(a,t.name),je(typeof N=="boolean",t,"internal-error"),je(typeof b=="boolean",t,"internal-error"),gu(o,t.name),gu(u,t.name),gu(h,t.name),gu(f,t.name),gu(p,t.name),gu(v,t.name);const U=new so({uid:A,auth:t,email:a,emailVerified:N,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:z,createdAt:p,lastLoginAt:v});return V&&Array.isArray(V)&&(U.providerData=V.map(rt=>({...rt}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(t,e,r=!1){const a=new bh;a.updateFromServerResponse(e);const o=new so({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await zp(o),o}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];je(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?H4(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new bh;h.updateFromIdToken(r);const f=new so({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new m0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map;function xl(n){Dl(n instanceof Function,"Expected a class definition");let t=hb.get(n);return t?(Dl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,hb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}G4.type="NONE";const fb=G4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,t,e){return`firebase:${n}:${t}:${e}`}class wh{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Np(this.userKey,a.apiKey,o),this.fullPersistenceKey=Np("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await qp(this.auth,{idToken:t}).catch(()=>{});return e?so._fromGetAccountInfoResponse(this.auth,e,t):null}return so._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new wh(xl(fb),t,r);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||xl(fb);const u=Np(r,t.config.apiKey,t.name);let h=null;for(const p of e)try{const v=await p._get(u);if(v){let A;if(typeof v=="string"){const N=await qp(t,{idToken:v}).catch(()=>{});if(!N)break;A=await so._fromGetAccountInfoResponse(t,N,v)}else A=so._fromJSON(t,v);p!==o&&(h=A),o=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new wh(o,t,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new wh(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(X4(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Y4(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($4(t))return"Blackberry";if(J4(t))return"Webos";if(K4(t))return"Safari";if((t.includes("chrome/")||Q4(t))&&!t.includes("edge/"))return"Chrome";if(W4(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function Y4(n=gs()){return/firefox\//i.test(n)}function K4(n=gs()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Q4(n=gs()){return/crios\//i.test(n)}function X4(n=gs()){return/iemobile/i.test(n)}function W4(n=gs()){return/android/i.test(n)}function $4(n=gs()){return/blackberry/i.test(n)}function J4(n=gs()){return/webos/i.test(n)}function J0(n=gs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VI(n=gs()){return J0(n)&&!!window.navigator?.standalone}function BI(){return WN()&&document.documentMode===10}function Z4(n=gs()){return J0(n)||W4(n)||J4(n)||$4(n)||/windows phone/i.test(n)||X4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(n,t=[]){let e;switch(n){case"Browser":e=db(gs());break;case"Worker":e=`${db(gs())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ac}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=o=>new Promise((u,h)=>{try{const f=t(o);u(f)}catch(f){h(f)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(n,t={}){return Pu(n,"GET","/v2/passwordPolicy",Du(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=6;class zI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??qI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pb(this),this.idTokenSubscription=new pb(this),this.beforeStateQueue=new jI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=xl(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wh.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await qp(this,{idToken:t}),r=await so._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Js(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await zp(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Js(this.app))return Promise.reject(Ll(this));const e=t?Zr(t):null;return e&&je(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&je(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Js(this.app)?Promise.reject(Ll(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Js(this.app)?Promise.reject(Ll(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await FI(this),e=new zI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jf("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await UI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&xl(t)||this._popupRedirectResolver;je(e,this,"argument-error"),this.redirectPersistenceManager=await wh.create(this,[xl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,r,a);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=t3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Js(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Mu(n){return Zr(n)}class pb{constructor(t){this.auth=t,this.observer=null,this.addObserver=r8(e=>this.observer=e)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GI(n){f1=n}function e3(n){return f1.loadJS(n)}function YI(){return f1.recaptchaEnterpriseScript}function KI(){return f1.gapiScript}function QI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XI{constructor(){this.enterprise=new WI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class WI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const $I="recaptcha-enterprise",n3="NO_RECAPTCHA";class JI{constructor(t){this.type=$I,this.auth=Mu(t)}async verify(t="verify",e=!1){async function r(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{RI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new CI(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;ub(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(p=>{u(p)}).catch(()=>{u(n3)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XI().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!e&&ub(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=YI();f.length!==0&&(f+=h),e3(f).then(()=>{a(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function gb(n,t,e,r=!1,a=!1){const o=new JI(n);let u;if(a)u=n3;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function y0(n,t,e,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gb(n,t,e,e==="getOobCode");return r(n,o)}else return r(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gb(n,t,e,e==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n,t){const e=h1(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(hc(o,t??{}))return a;Ua(a,"already-initialized")}return e.initialize({options:t})}function tC(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(xl);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function eC(n,t,e){const r=Mu(n);je(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,o=i3(t),{host:u,port:h}=nC(t),f=h===null?"":`:${h}`,p={url:`${o}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(hc(p,r.config.emulator)&&hc(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,wc(u)?(z0(`${o}//${u}${f}`),H0("Auth",!0)):iC()}function i3(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function nC(n){const t=i3(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:mb(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:mb(u)}}}function mb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function iC(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Rl("not implemented")}_getIdTokenResponse(t){return Rl("not implemented")}_linkToIdToken(t,e){return Rl("not implemented")}_getReauthenticationResolver(t){return Rl("not implemented")}}async function rC(n,t){return Pu(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(n,t){return ed(n,"POST","/v1/accounts:signInWithPassword",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n,t){return ed(n,"POST","/v1/accounts:signInWithEmailLink",Du(n,t))}async function oC(n,t){return ed(n,"POST","/v1/accounts:signInWithEmailLink",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends Z0{constructor(t,e,r,a=null){super("password",r),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Hf(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Hf(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(t,e,"signInWithPassword",sC);case"emailLink":return aC(t,{email:this._email,oobCode:this._password});default:Ua(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(t,r,"signUpPassword",rC);case"emailLink":return oC(t,{idToken:e,email:this._email,oobCode:this._password});default:Ua(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(n,t){return ed(n,"POST","/v1/accounts:signInWithIdp",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="http://localhost";class dc extends Z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new dc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ua("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...o}=e;if(!r||!a)return null;const u=new dc(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Ah(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Ah(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ah(t,e)}buildRequest(){const t={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Zf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cC(n){const t=Nf(If(n)).link,e=t?Nf(If(t)).deep_link_id:null,r=Nf(If(n)).deep_link_id;return(r?Nf(If(r)).link:null)||r||e||t||n}class t2{constructor(t){const e=Nf(If(t)),r=e.apiKey??null,a=e.oobCode??null,o=uC(e.mode??null);je(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=cC(t);try{return new t2(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this.providerId=Oh.PROVIDER_ID}static credential(t,e){return Hf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=t2.parseLink(e);return je(r,"argument-error"),Hf._fromEmailAndCode(t,r.code,r.tenantId)}}Oh.PROVIDER_ID="password";Oh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends e2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends nd{constructor(){super("facebook.com")}static credential(t){return dc._fromParams({providerId:mu.PROVIDER_ID,signInMethod:mu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mu.credentialFromTaggedObject(t)}static credentialFromError(t){return mu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mu.credential(t.oauthAccessToken)}catch{return null}}}mu.FACEBOOK_SIGN_IN_METHOD="facebook.com";mu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return dc._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Cl.credentialFromTaggedObject(t)}static credentialFromError(t){return Cl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Cl.credential(e,r)}catch{return null}}}Cl.GOOGLE_SIGN_IN_METHOD="google.com";Cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends nd{constructor(){super("github.com")}static credential(t){return dc._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yu.credentialFromTaggedObject(t)}static credentialFromError(t){return yu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yu.credential(t.oauthAccessToken)}catch{return null}}}yu.GITHUB_SIGN_IN_METHOD="github.com";yu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends nd{constructor(){super("twitter.com")}static credential(t,e){return dc._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return vu.credentialFromTaggedObject(t)}static credentialFromError(t){return vu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return vu.credential(e,r)}catch{return null}}}vu.TWITTER_SIGN_IN_METHOD="twitter.com";vu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(n,t){return ed(n,"POST","/v1/accounts:signUp",Du(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const o=await so._fromIdTokenResponse(t,r,a),u=yb(r);return new pc({user:o,providerId:u,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=yb(r);return new pc({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function yb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends $o{constructor(t,e,r,a){super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Hp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new Hp(t,e,r,a)}}function r3(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hp._fromErrorAndOperation(n,o,t,r):o})}async function fC(n,t,e=!1){const r=await zf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return pc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(n,t,e=!1){const{auth:r}=n;if(Js(r.app))return Promise.reject(Ll(r));const a="reauthenticate";try{const o=await zf(n,r3(r,a,t,n),e);je(o.idToken,r,"internal-error");const u=$0(o.idToken);je(u,r,"internal-error");const{sub:h}=u;return je(n.uid===h,r,"user-mismatch"),pc._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ua(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(n,t,e=!1){if(Js(n.app))return Promise.reject(Ll(n));const r="signIn",a=await r3(n,r,t),o=await pc._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(o.user),o}async function pC(n,t){return s3(Mu(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(n){const t=Mu(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function gC(n,t,e){if(Js(n.app))return Promise.reject(Ll(n));const r=Mu(n),u=await y0(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&a3(n),f}),h=await pc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function mC(n,t,e){return Js(n.app)?Promise.reject(Ll(n)):pC(Zr(n),Oh.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&a3(n),r})}function yC(n,t,e,r){return Zr(n).onIdTokenChanged(t,e,r)}function vC(n,t,e){return Zr(n).beforeAuthStateChanged(t,e)}function _C(n,t,e,r){return Zr(n).onAuthStateChanged(t,e,r)}const Gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=1e3,wC=10;class l3 extends o3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z4(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!e&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);BI()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,wC):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}l3.type="LOCAL";const AC=l3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3 extends o3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}u3.type="SESSION";const c3=u3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new d1(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:o}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(e.origin,o)),f=await EC(h);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}d1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const p=n2("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(A){const N=A;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(N.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(){return window}function TC(n){Fo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){return typeof Fo().WorkerGlobalScope<"u"&&typeof Fo().importScripts=="function"}async function NC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IC(){return navigator?.serviceWorker?.controller||null}function CC(){return h3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="firebaseLocalStorageDb",RC=1,Yp="firebaseLocalStorage",d3="fbase_key";class id{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function p1(n,t){return n.transaction([Yp],t?"readwrite":"readonly").objectStore(Yp)}function xC(){const n=indexedDB.deleteDatabase(f3);return new id(n).toPromise()}function v0(){const n=indexedDB.open(f3,RC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Yp,{keyPath:d3})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Yp)?t(r):(r.close(),await xC(),t(await v0()))})})}async function vb(n,t,e){const r=p1(n,!0).put({[d3]:t,value:e});return new id(r).toPromise()}async function LC(n,t){const e=p1(n,!1).get(t),r=await new id(e).toPromise();return r===void 0?null:r.value}function _b(n,t){const e=p1(n,!0).delete(t);return new id(e).toPromise()}const kC=800,OC=3;class p3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>OC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=d1._getInstance(CC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NC(),!this.activeServiceWorker)return;this.sender=new SC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||IC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await v0();return await vb(t,Gp,"1"),await _b(t,Gp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>vb(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>LC(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>_b(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=p1(a,!1).getAll();return new id(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p3.type="LOCAL";const DC=p3;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(n,t){return t?xl(t):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends Z0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ah(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ah(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ah(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function PC(n){return s3(n.auth,new i2(n),n.bypassAuthState)}function MC(n){const{auth:t,user:e}=n;return je(e,t,"internal-error"),dC(e,new i2(n),n.bypassAuthState)}async function UC(n){const{auth:t,user:e}=n;return je(e,t,"internal-error"),fC(e,new i2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(t,e,r,a,o=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return UC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:Ua(this.auth,"internal-error")}}resolve(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new td(2e3,1e4);async function BC(n,t,e){if(Js(n.app))return Promise.reject(oo(n,"operation-not-supported-in-this-environment"));const r=Mu(n);_I(n,t,e2);const a=g3(r,e);return new sc(r,"signInViaPopup",t,a).executeNotNull()}class sc extends m3{constructor(t,e,r,a,o){super(t,e,a,o),this.provider=r,this.authWindow=null,this.pollId=null,sc.currentPopupAction&&sc.currentPopupAction.cancel(),sc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return je(t,this.auth,"internal-error"),t}async onExecution(){Dl(this.filter.length===1,"Popup operations only handle one event");const t=n2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(oo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,VC.get())};t()}}sc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="pendingRedirect",Ip=new Map;class FC extends m3{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Ip.get(this.auth._key());if(!t){try{const r=await qC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Ip.set(this.auth._key(),t)}return this.bypassAuthState||Ip.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(n,t){const e=GC(t),r=HC(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function zC(n,t){Ip.set(n._key(),t)}function HC(n){return xl(n._redirectPersistence)}function GC(n){return Np(jC,n.config.apiKey,n.name)}async function YC(n,t,e=!1){if(Js(n.app))return Promise.reject(Ll(n));const r=Mu(n),a=g3(r,t),u=await new FC(r,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=600*1e3;class QC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!XC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!y3(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(oo(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KC&&this.cachedEventUids.clear(),this.cachedEventUids.has(bb(t))}saveEventToCache(t){this.cachedEventUids.add(bb(t)),this.lastProcessedEventTime=Date.now()}}function bb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function y3({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function XC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,t={}){return Pu(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JC=/^https?/;async function ZC(n){if(n.config.emulator)return;const{authorizedDomains:t}=await WC(n);for(const e of t)try{if(tR(e))return}catch{}Ua(n,"unauthorized-domain")}function tR(n){const t=g0(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===r}if(!JC.test(e))return!1;if($C.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new td(3e4,6e4);function wb(){const n=Fo().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function nR(n){return new Promise((t,e)=>{function r(){wb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wb(),e(oo(n,"network-request-failed"))},timeout:eR.get()})}if(Fo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Fo().gapi?.load)r();else{const a=QI("iframefcb");return Fo()[a]=()=>{gapi.load?r():e(oo(n,"network-request-failed"))},e3(`${KI()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw Cp=null,t})}let Cp=null;function iR(n){return Cp=Cp||nR(n),Cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new td(5e3,15e3),sR="__/auth/iframe",aR="emulator/auth/iframe",oR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uR(n){const t=n.config;je(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?W0(t,aR):`https://${n.config.authDomain}/${sR}`,r={apiKey:t.apiKey,appName:n.name,v:Ac},a=lR.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${e}?${Zf(r).slice(1)}`}async function cR(n){const t=await iR(n),e=Fo().gapi;return je(e,n,"internal-error"),t.open({where:document.body,url:uR(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oR,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=oo(n,"network-request-failed"),h=Fo().setTimeout(()=>{o(u)},rR.get());function f(){Fo().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fR=500,dR=600,pR="_blank",gR="http://localhost";class Ab{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mR(n,t,e,r=fR,a=dR){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...hR,width:r.toString(),height:a.toString(),top:o,left:u},p=gs().toLowerCase();e&&(h=Q4(p)?pR:e),Y4(p)&&(t=t||gR,f.scrollbars="yes");const v=Object.entries(f).reduce((N,[b,V])=>`${N}${b}=${V},`,"");if(VI(p)&&h!=="_self")return yR(t||"",h),new Ab(null);const A=window.open(t||"",h,v);je(A,n,"popup-blocked");try{A.focus()}catch{}return new Ab(A)}function yR(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="__/auth/handler",_R="emulator/auth/handler",bR=encodeURIComponent("fac");async function Eb(n,t,e,r,a,o){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Ac,eventId:a};if(t instanceof e2){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",i8(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,A]of Object.entries({}))u[v]=A}if(t instanceof nd){const v=t.getScopes().filter(A=>A!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${bR}=${encodeURIComponent(f)}`:"";return`${wR(n)}?${Zf(h).slice(1)}${p}`}function wR({config:n}){return n.emulator?W0(n,_R):`https://${n.authDomain}/${vR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class AR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c3,this._completeRedirectFn=YC,this._overrideRedirectResult=zC}async _openPopup(t,e,r,a){Dl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Eb(t,e,r,g0(),a);return mR(t,o,n2())}async _openRedirect(t,e,r,a){await this._originValidation(t);const o=await Eb(t,e,r,g0(),a);return TC(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Dl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await cR(t),r=new QC(t);return e.register("authEvent",a=>(je(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ym,{type:Ym},a=>{const o=a?.[0]?.[Ym];o!==void 0&&e(!!o),Ua(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ZC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Z4()||K4()||J0()}}const ER=AR;var Sb="@firebase/auth",Tb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NR(n){fc(new Nu("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;je(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t3(n)},p=new HI(r,a,o,f);return tC(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),fc(new Nu("auth-internal",t=>{const e=Mu(t.getProvider("auth").getImmediate());return(r=>new SR(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),jo(Sb,Tb,TR(n)),jo(Sb,Tb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=300,CR=k4("authIdTokenMaxAge")||IR;let Nb=null;const RR=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>CR)return;const a=e?.token;Nb!==a&&(Nb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xR(n=K0()){const t=h1(n,"auth");if(t.isInitialized())return t.getImmediate();const e=ZI(n,{popupRedirectResolver:ER,persistence:[DC,AC,c3]}),r=k4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=RR(o.toString());vC(e,u,()=>u(e.currentUser)),yC(e,h=>u(h))}}const a=R4("auth");return a&&eC(e,`http://${a}`),e}function LR(){return document.getElementsByTagName("head")?.[0]??document}GI({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const o=oo("internal-error");o.customData=a,e(o)},r.type="text/javascript",r.charset="UTF-8",LR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NR("Browser");var Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eu,v3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(j,O){function R(){}R.prototype=O.prototype,j.F=O.prototype,j.prototype=new R,j.prototype.constructor=j,j.D=function(F,S,C){for(var L=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)L[Z-2]=arguments[Z];return O.prototype[S].apply(F,L)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,O,R){R||(R=0);const F=Array(16);if(typeof O=="string")for(var S=0;S<16;++S)F[S]=O.charCodeAt(R++)|O.charCodeAt(R++)<<8|O.charCodeAt(R++)<<16|O.charCodeAt(R++)<<24;else for(S=0;S<16;++S)F[S]=O[R++]|O[R++]<<8|O[R++]<<16|O[R++]<<24;O=j.g[0],R=j.g[1],S=j.g[2];let C=j.g[3],L;L=O+(C^R&(S^C))+F[0]+3614090360&4294967295,O=R+(L<<7&4294967295|L>>>25),L=C+(S^O&(R^S))+F[1]+3905402710&4294967295,C=O+(L<<12&4294967295|L>>>20),L=S+(R^C&(O^R))+F[2]+606105819&4294967295,S=C+(L<<17&4294967295|L>>>15),L=R+(O^S&(C^O))+F[3]+3250441966&4294967295,R=S+(L<<22&4294967295|L>>>10),L=O+(C^R&(S^C))+F[4]+4118548399&4294967295,O=R+(L<<7&4294967295|L>>>25),L=C+(S^O&(R^S))+F[5]+1200080426&4294967295,C=O+(L<<12&4294967295|L>>>20),L=S+(R^C&(O^R))+F[6]+2821735955&4294967295,S=C+(L<<17&4294967295|L>>>15),L=R+(O^S&(C^O))+F[7]+4249261313&4294967295,R=S+(L<<22&4294967295|L>>>10),L=O+(C^R&(S^C))+F[8]+1770035416&4294967295,O=R+(L<<7&4294967295|L>>>25),L=C+(S^O&(R^S))+F[9]+2336552879&4294967295,C=O+(L<<12&4294967295|L>>>20),L=S+(R^C&(O^R))+F[10]+4294925233&4294967295,S=C+(L<<17&4294967295|L>>>15),L=R+(O^S&(C^O))+F[11]+2304563134&4294967295,R=S+(L<<22&4294967295|L>>>10),L=O+(C^R&(S^C))+F[12]+1804603682&4294967295,O=R+(L<<7&4294967295|L>>>25),L=C+(S^O&(R^S))+F[13]+4254626195&4294967295,C=O+(L<<12&4294967295|L>>>20),L=S+(R^C&(O^R))+F[14]+2792965006&4294967295,S=C+(L<<17&4294967295|L>>>15),L=R+(O^S&(C^O))+F[15]+1236535329&4294967295,R=S+(L<<22&4294967295|L>>>10),L=O+(S^C&(R^S))+F[1]+4129170786&4294967295,O=R+(L<<5&4294967295|L>>>27),L=C+(R^S&(O^R))+F[6]+3225465664&4294967295,C=O+(L<<9&4294967295|L>>>23),L=S+(O^R&(C^O))+F[11]+643717713&4294967295,S=C+(L<<14&4294967295|L>>>18),L=R+(C^O&(S^C))+F[0]+3921069994&4294967295,R=S+(L<<20&4294967295|L>>>12),L=O+(S^C&(R^S))+F[5]+3593408605&4294967295,O=R+(L<<5&4294967295|L>>>27),L=C+(R^S&(O^R))+F[10]+38016083&4294967295,C=O+(L<<9&4294967295|L>>>23),L=S+(O^R&(C^O))+F[15]+3634488961&4294967295,S=C+(L<<14&4294967295|L>>>18),L=R+(C^O&(S^C))+F[4]+3889429448&4294967295,R=S+(L<<20&4294967295|L>>>12),L=O+(S^C&(R^S))+F[9]+568446438&4294967295,O=R+(L<<5&4294967295|L>>>27),L=C+(R^S&(O^R))+F[14]+3275163606&4294967295,C=O+(L<<9&4294967295|L>>>23),L=S+(O^R&(C^O))+F[3]+4107603335&4294967295,S=C+(L<<14&4294967295|L>>>18),L=R+(C^O&(S^C))+F[8]+1163531501&4294967295,R=S+(L<<20&4294967295|L>>>12),L=O+(S^C&(R^S))+F[13]+2850285829&4294967295,O=R+(L<<5&4294967295|L>>>27),L=C+(R^S&(O^R))+F[2]+4243563512&4294967295,C=O+(L<<9&4294967295|L>>>23),L=S+(O^R&(C^O))+F[7]+1735328473&4294967295,S=C+(L<<14&4294967295|L>>>18),L=R+(C^O&(S^C))+F[12]+2368359562&4294967295,R=S+(L<<20&4294967295|L>>>12),L=O+(R^S^C)+F[5]+4294588738&4294967295,O=R+(L<<4&4294967295|L>>>28),L=C+(O^R^S)+F[8]+2272392833&4294967295,C=O+(L<<11&4294967295|L>>>21),L=S+(C^O^R)+F[11]+1839030562&4294967295,S=C+(L<<16&4294967295|L>>>16),L=R+(S^C^O)+F[14]+4259657740&4294967295,R=S+(L<<23&4294967295|L>>>9),L=O+(R^S^C)+F[1]+2763975236&4294967295,O=R+(L<<4&4294967295|L>>>28),L=C+(O^R^S)+F[4]+1272893353&4294967295,C=O+(L<<11&4294967295|L>>>21),L=S+(C^O^R)+F[7]+4139469664&4294967295,S=C+(L<<16&4294967295|L>>>16),L=R+(S^C^O)+F[10]+3200236656&4294967295,R=S+(L<<23&4294967295|L>>>9),L=O+(R^S^C)+F[13]+681279174&4294967295,O=R+(L<<4&4294967295|L>>>28),L=C+(O^R^S)+F[0]+3936430074&4294967295,C=O+(L<<11&4294967295|L>>>21),L=S+(C^O^R)+F[3]+3572445317&4294967295,S=C+(L<<16&4294967295|L>>>16),L=R+(S^C^O)+F[6]+76029189&4294967295,R=S+(L<<23&4294967295|L>>>9),L=O+(R^S^C)+F[9]+3654602809&4294967295,O=R+(L<<4&4294967295|L>>>28),L=C+(O^R^S)+F[12]+3873151461&4294967295,C=O+(L<<11&4294967295|L>>>21),L=S+(C^O^R)+F[15]+530742520&4294967295,S=C+(L<<16&4294967295|L>>>16),L=R+(S^C^O)+F[2]+3299628645&4294967295,R=S+(L<<23&4294967295|L>>>9),L=O+(S^(R|~C))+F[0]+4096336452&4294967295,O=R+(L<<6&4294967295|L>>>26),L=C+(R^(O|~S))+F[7]+1126891415&4294967295,C=O+(L<<10&4294967295|L>>>22),L=S+(O^(C|~R))+F[14]+2878612391&4294967295,S=C+(L<<15&4294967295|L>>>17),L=R+(C^(S|~O))+F[5]+4237533241&4294967295,R=S+(L<<21&4294967295|L>>>11),L=O+(S^(R|~C))+F[12]+1700485571&4294967295,O=R+(L<<6&4294967295|L>>>26),L=C+(R^(O|~S))+F[3]+2399980690&4294967295,C=O+(L<<10&4294967295|L>>>22),L=S+(O^(C|~R))+F[10]+4293915773&4294967295,S=C+(L<<15&4294967295|L>>>17),L=R+(C^(S|~O))+F[1]+2240044497&4294967295,R=S+(L<<21&4294967295|L>>>11),L=O+(S^(R|~C))+F[8]+1873313359&4294967295,O=R+(L<<6&4294967295|L>>>26),L=C+(R^(O|~S))+F[15]+4264355552&4294967295,C=O+(L<<10&4294967295|L>>>22),L=S+(O^(C|~R))+F[6]+2734768916&4294967295,S=C+(L<<15&4294967295|L>>>17),L=R+(C^(S|~O))+F[13]+1309151649&4294967295,R=S+(L<<21&4294967295|L>>>11),L=O+(S^(R|~C))+F[4]+4149444226&4294967295,O=R+(L<<6&4294967295|L>>>26),L=C+(R^(O|~S))+F[11]+3174756917&4294967295,C=O+(L<<10&4294967295|L>>>22),L=S+(O^(C|~R))+F[2]+718787259&4294967295,S=C+(L<<15&4294967295|L>>>17),L=R+(C^(S|~O))+F[9]+3951481745&4294967295,j.g[0]=j.g[0]+O&4294967295,j.g[1]=j.g[1]+(S+(L<<21&4294967295|L>>>11))&4294967295,j.g[2]=j.g[2]+S&4294967295,j.g[3]=j.g[3]+C&4294967295}r.prototype.v=function(j,O){O===void 0&&(O=j.length);const R=O-this.blockSize,F=this.C;let S=this.h,C=0;for(;C<O;){if(S==0)for(;C<=R;)a(this,j,C),C+=this.blockSize;if(typeof j=="string"){for(;C<O;)if(F[S++]=j.charCodeAt(C++),S==this.blockSize){a(this,F),S=0;break}}else for(;C<O;)if(F[S++]=j[C++],S==this.blockSize){a(this,F),S=0;break}}this.h=S,this.o+=O},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var O=1;O<j.length-8;++O)j[O]=0;O=this.o*8;for(var R=j.length-8;R<j.length;++R)j[R]=O&255,O/=256;for(this.v(j),j=Array(16),O=0,R=0;R<4;++R)for(let F=0;F<32;F+=8)j[O++]=this.g[R]>>>F&255;return j};function o(j,O){var R=h;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=O(j)}function u(j,O){this.h=O;const R=[];let F=!0;for(let S=j.length-1;S>=0;S--){const C=j[S]|0;F&&C==O||(R[S]=C,F=!1)}this.g=R}var h={};function f(j){return-128<=j&&j<128?o(j,function(O){return new u([O|0],O<0?-1:0)}):new u([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return A;if(j<0)return z(p(-j));const O=[];let R=1;for(let F=0;j>=R;F++)O[F]=j/R|0,R*=4294967296;return new u(O,0)}function v(j,O){if(j.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(j.charAt(0)=="-")return z(v(j.substring(1),O));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(O,8));let F=A;for(let C=0;C<j.length;C+=8){var S=Math.min(8,j.length-C);const L=parseInt(j.substring(C,C+S),O);S<8?(S=p(Math.pow(O,S)),F=F.j(S).add(p(L))):(F=F.j(R),F=F.add(p(L)))}return F}var A=f(0),N=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(B(this))return-z(this).m();let j=0,O=1;for(let R=0;R<this.g.length;R++){const F=this.i(R);j+=(F>=0?F:4294967296+F)*O,O*=4294967296}return j},n.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(V(this))return"0";if(B(this))return"-"+z(this).toString(j);const O=p(Math.pow(j,6));var R=this;let F="";for(;;){const S=J(R,O).g;R=U(R,S.j(O));let C=((R.g.length>0?R.g[0]:R.h)>>>0).toString(j);if(R=S,V(R))return C+F;for(;C.length<6;)C="0"+C;F=C+F}},n.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function V(j){if(j.h!=0)return!1;for(let O=0;O<j.g.length;O++)if(j.g[O]!=0)return!1;return!0}function B(j){return j.h==-1}n.l=function(j){return j=U(this,j),B(j)?-1:V(j)?0:1};function z(j){const O=j.g.length,R=[];for(let F=0;F<O;F++)R[F]=~j.g[F];return new u(R,~j.h).add(N)}n.abs=function(){return B(this)?z(this):this},n.add=function(j){const O=Math.max(this.g.length,j.g.length),R=[];let F=0;for(let S=0;S<=O;S++){let C=F+(this.i(S)&65535)+(j.i(S)&65535),L=(C>>>16)+(this.i(S)>>>16)+(j.i(S)>>>16);F=L>>>16,C&=65535,L&=65535,R[S]=L<<16|C}return new u(R,R[R.length-1]&-2147483648?-1:0)};function U(j,O){return j.add(z(O))}n.j=function(j){if(V(this)||V(j))return A;if(B(this))return B(j)?z(this).j(z(j)):z(z(this).j(j));if(B(j))return z(this.j(z(j)));if(this.l(b)<0&&j.l(b)<0)return p(this.m()*j.m());const O=this.g.length+j.g.length,R=[];for(var F=0;F<2*O;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(let S=0;S<j.g.length;S++){const C=this.i(F)>>>16,L=this.i(F)&65535,Z=j.i(S)>>>16,bt=j.i(S)&65535;R[2*F+2*S]+=L*bt,rt(R,2*F+2*S),R[2*F+2*S+1]+=C*bt,rt(R,2*F+2*S+1),R[2*F+2*S+1]+=L*Z,rt(R,2*F+2*S+1),R[2*F+2*S+2]+=C*Z,rt(R,2*F+2*S+2)}for(j=0;j<O;j++)R[j]=R[2*j+1]<<16|R[2*j];for(j=O;j<2*O;j++)R[j]=0;return new u(R,0)};function rt(j,O){for(;(j[O]&65535)!=j[O];)j[O+1]+=j[O]>>>16,j[O]&=65535,O++}function tt(j,O){this.g=j,this.h=O}function J(j,O){if(V(O))throw Error("division by zero");if(V(j))return new tt(A,A);if(B(j))return O=J(z(j),O),new tt(z(O.g),z(O.h));if(B(O))return O=J(j,z(O)),new tt(z(O.g),O.h);if(j.g.length>30){if(B(j)||B(O))throw Error("slowDivide_ only works with positive integers.");for(var R=N,F=O;F.l(j)<=0;)R=vt(R),F=vt(F);var S=pt(R,1),C=pt(F,1);for(F=pt(F,2),R=pt(R,2);!V(F);){var L=C.add(F);L.l(j)<=0&&(S=S.add(R),C=L),F=pt(F,1),R=pt(R,1)}return O=U(j,S.j(O)),new tt(S,O)}for(S=A;j.l(O)>=0;){for(R=Math.max(1,Math.floor(j.m()/O.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),C=p(R),L=C.j(O);B(L)||L.l(j)>0;)R-=F,C=p(R),L=C.j(O);V(C)&&(C=N),S=S.add(C),j=U(j,L)}return new tt(S,j)}n.B=function(j){return J(this,j).h},n.and=function(j){const O=Math.max(this.g.length,j.g.length),R=[];for(let F=0;F<O;F++)R[F]=this.i(F)&j.i(F);return new u(R,this.h&j.h)},n.or=function(j){const O=Math.max(this.g.length,j.g.length),R=[];for(let F=0;F<O;F++)R[F]=this.i(F)|j.i(F);return new u(R,this.h|j.h)},n.xor=function(j){const O=Math.max(this.g.length,j.g.length),R=[];for(let F=0;F<O;F++)R[F]=this.i(F)^j.i(F);return new u(R,this.h^j.h)};function vt(j){const O=j.g.length+1,R=[];for(let F=0;F<O;F++)R[F]=j.i(F)<<1|j.i(F-1)>>>31;return new u(R,j.h)}function pt(j,O){const R=O>>5;O%=32;const F=j.g.length-R,S=[];for(let C=0;C<F;C++)S[C]=O>0?j.i(C+R)>>>O|j.i(C+R+1)<<32-O:j.i(C+R);return new u(S,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,v3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Eu=u}).apply(typeof Ib<"u"?Ib:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _3,Cf,b3,Rp,_0,w3,A3,E3;(function(){var n,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var T=0;T<g.length;++T){var k=g[T];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=e(this);function a(g,T){if(T)t:{var k=r;g=g.split(".");for(var Q=0;Q<g.length-1;Q++){var At=g[Q];if(!(At in k))break t;k=k[At]}g=g[g.length-1],Q=k[g],T=T(Q),T!=Q&&T!=null&&t(k,g,{configurable:!0,writable:!0,value:T})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(T){var k=[],Q;for(Q in T)Object.prototype.hasOwnProperty.call(T,Q)&&k.push([Q,T[Q]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function f(g,T,k){return g.call.apply(g.bind,arguments)}function p(g,T,k){return p=f,p.apply(null,arguments)}function v(g,T){var k=Array.prototype.slice.call(arguments,1);return function(){var Q=k.slice();return Q.push.apply(Q,arguments),g.apply(this,Q)}}function A(g,T){function k(){}k.prototype=T.prototype,g.Z=T.prototype,g.prototype=new k,g.prototype.constructor=g,g.Ob=function(Q,At,xt){for(var Jt=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)Jt[Be-2]=arguments[Be];return T.prototype[At].apply(Q,Jt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const T=g.length;if(T>0){const k=Array(T);for(let Q=0;Q<T;Q++)k[Q]=g[Q];return k}return[]}function V(g,T){for(let Q=1;Q<arguments.length;Q++){const At=arguments[Q];var k=typeof At;if(k=k!="object"?k:At?Array.isArray(At)?"array":k:"null",k=="array"||k=="object"&&typeof At.length=="number"){k=g.length||0;const xt=At.length||0;g.length=k+xt;for(let Jt=0;Jt<xt;Jt++)g[k+Jt]=At[Jt]}else g.push(At)}}class B{constructor(T,k){this.i=T,this.j=k,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function z(g){u.setTimeout(()=>{throw g},0)}function U(){var g=j;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class rt{constructor(){this.h=this.g=null}add(T,k){const Q=tt.get();Q.set(T,k),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var tt=new B(()=>new J,g=>g.reset());class J{constructor(){this.next=this.g=this.h=null}set(T,k){this.h=T,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,pt=!1,j=new rt,O=()=>{const g=Promise.resolve(void 0);vt=()=>{g.then(R)}};function R(){for(var g;g=U();){try{g.h.call(g.g)}catch(k){z(k)}var T=tt;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}pt=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};u.addEventListener("test",k,T),u.removeEventListener("test",k,T)}catch{}return g})();function L(g){return/^[\s\xa0]*$/.test(g)}function Z(g,T){S.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}A(Z,S),Z.prototype.init=function(g,T){const k=this.type=g.type,Q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(k=="mouseover"?T=g.fromElement:k=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),st=0;function dt(g,T,k,Q,At){this.listener=g,this.proxy=null,this.src=T,this.type=k,this.capture=!!Q,this.ha=At,this.key=++st,this.da=this.fa=!1}function ht(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ct(g,T,k){for(const Q in g)T.call(k,g[Q],Q,g)}function Ft(g,T){for(const k in g)T.call(void 0,g[k],k,g)}function W(g){const T={};for(const k in g)T[k]=g[k];return T}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(g,T){let k,Q;for(let At=1;At<arguments.length;At++){Q=arguments[At];for(k in Q)g[k]=Q[k];for(let xt=0;xt<D.length;xt++)k=D[xt],Object.prototype.hasOwnProperty.call(Q,k)&&(g[k]=Q[k])}}function $(g){this.src=g,this.g={},this.h=0}$.prototype.add=function(g,T,k,Q,At){const xt=g.toString();g=this.g[xt],g||(g=this.g[xt]=[],this.h++);const Jt=ut(g,T,Q,At);return Jt>-1?(T=g[Jt],k||(T.fa=!1)):(T=new dt(T,this.src,xt,!!Q,At),T.fa=k,g.push(T)),T};function ot(g,T){const k=T.type;if(k in g.g){var Q=g.g[k],At=Array.prototype.indexOf.call(Q,T,void 0),xt;(xt=At>=0)&&Array.prototype.splice.call(Q,At,1),xt&&(ht(T),g.g[k].length==0&&(delete g.g[k],g.h--))}}function ut(g,T,k,Q){for(let At=0;At<g.length;++At){const xt=g[At];if(!xt.da&&xt.listener==T&&xt.capture==!!k&&xt.ha==Q)return At}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),Nt={};function St(g,T,k,Q,At){if(Array.isArray(T)){for(let xt=0;xt<T.length;xt++)St(g,T[xt],k,Q,At);return null}return k=be(k),g&&g[bt]?g.J(T,k,h(Q)?!!Q.capture:!1,At):Ut(g,T,k,!1,Q,At)}function Ut(g,T,k,Q,At,xt){if(!T)throw Error("Invalid event type");const Jt=h(At)?!!At.capture:!!At;let Be=We(g);if(Be||(g[mt]=Be=new $(g)),k=Be.add(T,k,Q,Jt,xt),k.proxy)return k;if(Q=Wt(),k.proxy=Q,Q.src=g,Q.listener=k,g.addEventListener)C||(At=Jt),At===void 0&&(At=!1),g.addEventListener(T.toString(),Q,At);else if(g.attachEvent)g.attachEvent(Dt(T.toString()),Q);else if(g.addListener&&g.removeListener)g.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Wt(){function g(k){return T.call(g.src,g.listener,k)}const T=at;return g}function ee(g,T,k,Q,At){if(Array.isArray(T))for(var xt=0;xt<T.length;xt++)ee(g,T[xt],k,Q,At);else Q=h(Q)?!!Q.capture:!!Q,k=be(k),g&&g[bt]?(g=g.i,xt=String(T).toString(),xt in g.g&&(T=g.g[xt],k=ut(T,k,Q,At),k>-1&&(ht(T[k]),Array.prototype.splice.call(T,k,1),T.length==0&&(delete g.g[xt],g.h--)))):g&&(g=We(g))&&(T=g.g[T.toString()],g=-1,T&&(g=ut(T,k,Q,At)),(k=g>-1?T[g]:null)&&ne(k))}function ne(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[bt])ot(T.i,g);else{var k=g.type,Q=g.proxy;T.removeEventListener?T.removeEventListener(k,Q,g.capture):T.detachEvent?T.detachEvent(Dt(k),Q):T.addListener&&T.removeListener&&T.removeListener(Q),(k=We(T))?(ot(k,g),k.h==0&&(k.src=null,T[mt]=null)):ht(g)}}}function Dt(g){return g in Nt?Nt[g]:Nt[g]="on"+g}function at(g,T){if(g.da)g=!0;else{T=new Z(T,this);const k=g.listener,Q=g.ha||g.src;g.fa&&ne(g),g=k.call(Q,T)}return g}function We(g){return g=g[mt],g instanceof $?g:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function be(g){return typeof g=="function"?g:(g[qe]||(g[qe]=function(T){return g.handleEvent(T)}),g[qe])}function Gt(){F.call(this),this.i=new $(this),this.M=this,this.G=null}A(Gt,F),Gt.prototype[bt]=!0,Gt.prototype.removeEventListener=function(g,T,k,Q){ee(this,g,T,k,Q)};function ie(g,T){var k,Q=g.G;if(Q)for(k=[];Q;Q=Q.G)k.push(Q);if(g=g.M,Q=T.type||T,typeof T=="string")T=new S(T,g);else if(T instanceof S)T.target=T.target||g;else{var At=T;T=new S(Q,g),Y(T,At)}At=!0;let xt,Jt;if(k)for(Jt=k.length-1;Jt>=0;Jt--)xt=T.g=k[Jt],At=te(xt,Q,!0,T)&&At;if(xt=T.g=g,At=te(xt,Q,!0,T)&&At,At=te(xt,Q,!1,T)&&At,k)for(Jt=0;Jt<k.length;Jt++)xt=T.g=k[Jt],At=te(xt,Q,!1,T)&&At}Gt.prototype.N=function(){if(Gt.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const k=g.g[T];for(let Q=0;Q<k.length;Q++)ht(k[Q]);delete g.g[T],g.h--}}this.G=null},Gt.prototype.J=function(g,T,k,Q){return this.i.add(String(g),T,!1,k,Q)},Gt.prototype.K=function(g,T,k,Q){return this.i.add(String(g),T,!0,k,Q)};function te(g,T,k,Q){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let At=!0;for(let xt=0;xt<T.length;++xt){const Jt=T[xt];if(Jt&&!Jt.da&&Jt.capture==k){const Be=Jt.listener,Gn=Jt.ha||Jt.src;Jt.fa&&ot(g.i,Jt),At=Be.call(Gn,Q)!==!1&&At}}return At&&!Q.defaultPrevented}function Qe(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:u.setTimeout(g,T||0)}function ve(g){g.g=Qe(()=>{g.g=null,g.i&&(g.i=!1,ve(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Ge extends F{constructor(T,k){super(),this.m=T,this.l=k,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ve(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(g){F.call(this),this.h=g,this.g={}}A(De,F);var Ue=[];function En(g){Ct(g.g,function(T,k){this.g.hasOwnProperty(k)&&ne(T)},g),g.g={}}De.prototype.N=function(){De.Z.N.call(this),En(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=u.JSON.stringify,_e=u.JSON.parse,ke=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function me(){}function Mn(){}var en={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function re(){S.call(this,"d")}A(re,S);function Ee(){S.call(this,"c")}A(Ee,S);var Ve={},Ne=null;function rn(){return Ne=Ne||new Gt}Ve.Ia="serverreachability";function ze(g){S.call(this,Ve.Ia,g)}A(ze,S);function xn(g){const T=rn();ie(T,new ze(T))}Ve.STAT_EVENT="statevent";function ri(g,T){S.call(this,Ve.STAT_EVENT,g),this.stat=T}A(ri,S);function He(g){const T=rn();ie(T,new ri(T,g))}Ve.Ja="timingevent";function Se(g,T){S.call(this,Ve.Ja,g),this.size=T}A(Se,S);function sn(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},T)}function sr(){this.g=!0}sr.prototype.ua=function(){this.g=!1};function Wi(g,T,k,Q,At,xt){g.info(function(){if(g.g)if(xt){var Jt="",Be=xt.split("&");for(let ln=0;ln<Be.length;ln++){var Gn=Be[ln].split("=");if(Gn.length>1){const On=Gn[0];Gn=Gn[1];const Zi=On.split("_");Jt=Zi.length>=2&&Zi[1]=="type"?Jt+(On+"="+Gn+"&"):Jt+(On+"=redacted&")}}}else Jt=null;else Jt=xt;return"XMLHTTP REQ ("+Q+") [attempt "+At+"]: "+T+`
`+k+`
`+Jt})}function xs(g,T,k,Q,At,xt,Jt){g.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+At+"]: "+T+`
`+k+`
`+xt+" "+Jt})}function qi(g,T,k,Q){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+ea(g,k)+(Q?" "+Q:"")})}function we(g,T){g.info(function(){return"TIMEOUT: "+T})}sr.prototype.info=function(){};function ea(g,T){if(!g.g)return T;if(!T)return null;try{const xt=JSON.parse(T);if(xt){for(g=0;g<xt.length;g++)if(Array.isArray(xt[g])){var k=xt[g];if(!(k.length<2)){var Q=k[1];if(Array.isArray(Q)&&!(Q.length<1)){var At=Q[0];if(At!="noop"&&At!="stop"&&At!="close")for(let Jt=1;Jt<Q.length;Jt++)Q[Jt]=""}}}}return Pe(xt)}catch{return T}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function jn(){}A(jn,me),jn.prototype.g=function(){return new XMLHttpRequest},Ar=new jn;function Wn(g){return encodeURIComponent(String(g))}function ki(g){var T=1;g=g.split(":");const k=[];for(;T>0&&g.length;)k.push(g.shift()),T--;return g.length&&k.push(g.join(":")),k}function ar(g,T,k,Q){this.j=g,this.i=T,this.l=k,this.S=Q||1,this.V=new De(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}var Ln={},zn={};function Oi(g,T,k){g.M=1,g.A=lr(an(T)),g.u=k,g.R=!0,Er(g,null)}function Er(g,T){g.F=Date.now(),Sr(g),g.B=an(g.A);var k=g.B,Q=g.S;Array.isArray(Q)||(Q=[String(Q)]),yo(k.i,"t",Q),g.C=0,k=g.j.L,g.h=new $i,g.g=oe(g.j,k?T:null,!g.u),g.P>0&&(g.O=new Ge(p(g.Y,g,g.g),g.P)),T=g.V,k=g.g,Q=g.ba;var At="readystatechange";Array.isArray(At)||(At&&(Ue[0]=At.toString()),At=Ue);for(let xt=0;xt<At.length;xt++){const Jt=St(k,At[xt],Q||T.handleEvent,!1,T.h||T);if(!Jt)break;T.g[Jt.key]=Jt}T=g.J?W(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),xn(),Wi(g.i,g.v,g.B,g.l,g.S,g.u)}ar.prototype.ba=function(g){g=g.target;const T=this.O;T&&zr(g)==3?T.j():this.Y(g)},ar.prototype.Y=function(g){try{if(g==this.g)t:{const Be=zr(this.g),Gn=this.g.ya(),ln=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Ni(this.g)))){this.K||Be!=4||Gn==7||(Gn==8||ln<=0?xn(3):xn(2)),Br(this);var T=this.g.ca();this.X=T;var k=es(this);if(this.o=T==200,xs(this.i,this.v,this.B,this.l,this.S,Be,T),this.o){if(this.U&&!this.L){e:{if(this.g){var Q,At=this.g;if((Q=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Q)){var xt=Q;break e}}xt=null}if(g=xt)qi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ns(this,g);else{this.o=!1,this.m=3,He(12),jr(this),or(this);break t}}if(this.R){g=!0;let On;for(;!this.K&&this.C<k.length;)if(On=ms(this,k),On==zn){Be==4&&(this.m=4,He(14),g=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Ln){this.m=4,He(15),qi(this.i,this.l,k,"[Invalid Chunk]"),g=!1;break}else qi(this.i,this.l,On,null),ns(this,On);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||k.length!=0||this.h.h||(this.m=1,He(16),g=!1),this.o=this.o&&g,!g)qi(this.i,this.l,k,"[Invalid Chunked Response]"),jr(this),or(this);else if(k.length>0&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.aa&&!Jt.P&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),bo(Jt),Jt.P=!0,He(11))}}else qi(this.i,this.l,k,null),ns(this,k);Be==4&&jr(this),this.o&&!this.K&&(Be==4?nt(this.j,this):(this.o=!1,Sr(this)))}else Hr(this.g),T==400&&k.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),jr(this),or(this)}}}catch{}finally{}};function es(g){if(!va(g))return g.g.la();const T=Ni(g.g);if(T==="")return"";let k="";const Q=T.length,At=zr(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return jr(g),or(g),"";g.h.i=new u.TextDecoder}for(let xt=0;xt<Q;xt++)g.h.h=!0,k+=g.h.i.decode(T[xt],{stream:!(At&&xt==Q-1)});return T.length=0,g.h.g+=k,g.C=0,g.h.g}function va(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ms(g,T){var k=g.C,Q=T.indexOf(`
`,k);return Q==-1?zn:(k=Number(T.substring(k,Q)),isNaN(k)?Ln:(Q+=1,Q+k>T.length?zn:(T=T.slice(Q,Q+k),g.C=Q+k,T)))}ar.prototype.cancel=function(){this.K=!0,jr(this)};function Sr(g){g.T=Date.now()+g.H,na(g,g.H)}function na(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=sn(p(g.aa,g),T)}function Br(g){g.D&&(u.clearTimeout(g.D),g.D=null)}ar.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(we(this.i,this.B),this.M!=2&&(xn(),He(17)),jr(this),this.m=2,or(this)):na(this,this.T-g)};function or(g){g.j.I==0||g.K||nt(g.j,g)}function jr(g){Br(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,En(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function ns(g,T){try{var k=g.j;if(k.I!=0&&(k.g==g||ys(k.h,g))){if(!g.L&&ys(k.h,g)&&k.I==3){try{var Q=k.Ba.g.parse(T)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var At=Q;if(At[0]==0){t:if(!k.v){if(k.g)if(k.g.F+3e3<g.F)P(k),Ds(k);else break t;Ss(k),He(18)}}else k.xa=At[1],0<k.xa-k.K&&At[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=sn(p(k.Va,k),6e3));is(k.h)<=1&&k.ta&&(k.ta=void 0)}else _t(k,11)}else if((g.L||k.g==g)&&P(k),!L(T))for(At=k.Ba.g.parse(T),T=0;T<At.length;T++){let ln=At[T];const On=ln[0];if(!(On<=k.K))if(k.K=On,ln=ln[1],k.I==2)if(ln[0]=="c"){k.M=ln[1],k.ba=ln[2];const Zi=ln[3];Zi!=null&&(k.ka=Zi,k.j.info("VER="+k.ka));const Rr=ln[4];Rr!=null&&(k.za=Rr,k.j.info("SVER="+k.za));const Jn=ln[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(Q=1.5*Jn,k.O=Q,k.j.info("backChannelRequestTimeoutMs_="+Q)),Q=k;const cr=g.g;if(cr){const Ts=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var xt=Q.h;xt.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(xt.j=xt.l,xt.g=new Set,xt.h&&(Va(xt,xt.h),xt.h=null))}if(Q.G){const Aa=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(Q.wa=Aa,hn(Q.J,Q.G,Aa))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-g.F,k.j.info("Handshake RTT: "+k.T+"ms")),Q=k;var Jt=g;if(Q.na=Qt(Q,Q.L?Q.ba:null,Q.W),Jt.L){fo(Q.h,Jt);var Be=Jt,Gn=Q.O;Gn&&(Be.H=Gn),Be.D&&(Br(Be),Sr(Be)),Q.g=Jt}else sl(Q);k.i.length>0&&As(k)}else ln[0]!="stop"&&ln[0]!="close"||_t(k,7);else k.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?_t(k,7):wa(k):ln[0]!="noop"&&k.l&&k.l.qa(ln),k.A=0)}}xn(4)}catch{}}var ci=class{constructor(g,T){this.g=g,this.map=T}};function ho(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tr(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function is(g){return g.h?1:g.g?g.g.size:0}function ys(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Va(g,T){g.g?g.g.add(T):g.h=T}function fo(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}ho.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function po(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const k of g.g.values())T=T.concat(k.G);return T}return b(g.i)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(g,T){if(g){g=g.split("&");for(let k=0;k<g.length;k++){const Q=g[k].indexOf("=");let At,xt=null;Q>=0?(At=g[k].substring(0,Q),xt=g[k].substring(Q+1)):At=g[k],T(At,xt?decodeURIComponent(xt.replace(/\+/g," ")):"")}}}function Fr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof Fr?(this.l=g.l,Si(this,g.j),this.o=g.o,this.g=g.g,ra(this,g.u),this.h=g.h,vs(this,vo(g.i)),this.m=g.m):g&&(T=String(g).match(Zo))?(this.l=!1,Si(this,T[1]||"",!0),this.o=Nr(T[2]||""),this.g=Nr(T[3]||"",!0),ra(this,T[4]),this.h=Nr(T[5]||"",!0),vs(this,T[6]||"",!0),this.m=Nr(T[7]||"")):(this.l=!1,this.i=new sa(null,this.l))}Fr.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Hn(T,go,!0),":");var k=this.g;return(k||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Hn(T,go,!0),"@"),g.push(Wn(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&g.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(Hn(k,k.charAt(0)=="/"?tl:Ul,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",Hn(k,el)),g.join("")},Fr.prototype.resolve=function(g){const T=an(this);let k=!!g.j;k?Si(T,g.j):k=!!g.o,k?T.o=g.o:k=!!g.g,k?T.g=g.g:k=g.u!=null;var Q=g.h;if(k)ra(T,g.u);else if(k=!!g.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var At=T.h.lastIndexOf("/");At!=-1&&(Q=T.h.slice(0,At+1)+Q)}if(At=Q,At==".."||At==".")Q="";else if(At.indexOf("./")!=-1||At.indexOf("/.")!=-1){Q=At.lastIndexOf("/",0)==0,At=At.split("/");const xt=[];for(let Jt=0;Jt<At.length;){const Be=At[Jt++];Be=="."?Q&&Jt==At.length&&xt.push(""):Be==".."?((xt.length>1||xt.length==1&&xt[0]!="")&&xt.pop(),Q&&Jt==At.length&&xt.push("")):(xt.push(Be),Q=!0)}Q=xt.join("/")}else Q=At}return k?T.h=Q:k=g.i.toString()!=="",k?vs(T,vo(g.i)):k=!!g.m,k&&(T.m=g.m),T};function an(g){return new Fr(g)}function Si(g,T,k){g.j=k?Nr(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function ra(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function vs(g,T,k){T instanceof sa?(g.i=T,_s(g.i,g.l)):(k||(T=Hn(T,ur)),g.i=new sa(T,g.l))}function hn(g,T,k){g.i.set(T,k)}function lr(g){return hn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Nr(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Hn(g,T,k){return typeof g=="string"?(g=encodeURI(g).replace(T,Ji),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ji(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var go=/[#\/\?@]/g,Ul=/[#\?:]/g,tl=/[#\?]/g,ur=/[#\?@]/g,el=/#/g;function sa(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Ti(g){g.g||(g.g=new Map,g.h=0,g.i&&ia(g.i,function(T,k){g.add(decodeURIComponent(T.replace(/\+/g," ")),k)}))}n=sa.prototype,n.add=function(g,T){Ti(this),this.i=null,g=rs(this,g);let k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(T),this.h+=1,this};function mo(g,T){Ti(g),T=rs(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function nl(g,T){return Ti(g),T=rs(g,T),g.g.has(T)}n.forEach=function(g,T){Ti(this),this.g.forEach(function(k,Q){k.forEach(function(At){g.call(T,At,Q,this)},this)},this)};function il(g,T){Ti(g);let k=[];if(typeof T=="string")nl(g,T)&&(k=k.concat(g.g.get(rs(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)k=k.concat(g[T]);return k}n.set=function(g,T){return Ti(this),this.i=null,g=rs(this,g),nl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},n.get=function(g,T){return g?(g=il(this,g),g.length>0?String(g[0]):T):T};function yo(g,T,k){mo(g,T),k.length>0&&(g.i=null,g.g.set(rs(g,T),b(k)),g.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let Q=0;Q<T.length;Q++){var k=T[Q];const At=Wn(k);k=il(this,k);for(let xt=0;xt<k.length;xt++){let Jt=At;k[xt]!==""&&(Jt+="="+Wn(k[xt])),g.push(Jt)}}return this.i=g.join("&")};function vo(g){const T=new sa;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function rs(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function _s(g,T){T&&!g.j&&(Ti(g),g.i=null,g.g.forEach(function(k,Q){const At=Q.toLowerCase();Q!=At&&(mo(this,Q),yo(this,At,k))},g)),g.j=T}function bs(g,T){const k=new sr;if(u.Image){const Q=new Image;Q.onload=v(Ir,k,"TestLoadImage: loaded",!0,T,Q),Q.onerror=v(Ir,k,"TestLoadImage: error",!1,T,Q),Q.onabort=v(Ir,k,"TestLoadImage: abort",!1,T,Q),Q.ontimeout=v(Ir,k,"TestLoadImage: timeout",!1,T,Q),u.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=g}else T(!1)}function aa(g,T){const k=new sr,Q=new AbortController,At=setTimeout(()=>{Q.abort(),Ir(k,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:Q.signal}).then(xt=>{clearTimeout(At),xt.ok?Ir(k,"TestPingServer: ok",!0,T):Ir(k,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(At),Ir(k,"TestPingServer: error",!1,T)})}function Ir(g,T,k,Q,At){try{At&&(At.onload=null,At.onerror=null,At.onabort=null,At.ontimeout=null),Q(k)}catch{}}function xe(){this.g=new ke}function Ls(g){this.i=g.Sb||null,this.h=g.ab||!1}A(Ls,me),Ls.prototype.g=function(){return new Ba(this.i,this.h)};function Ba(g,T){Gt.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ba,Gt),n=Ba.prototype,n.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,zi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||u).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_o(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function _o(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?_a(this):zi(this),this.readyState==3&&_o(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,_a(this))},n.Na=function(g){this.g&&(this.response=g,_a(this))},n.ga=function(){this.g&&_a(this)};function _a(g){g.readyState=4,g.l=null,g.j=null,g.B=null,zi(g)}n.setRequestHeader=function(g,T){this.A.append(g,T)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var k=T.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=T.next();return g.join(`\r
`)};function zi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Di(g){let T="";return Ct(g,function(k,Q){T+=Q,T+=":",T+=k,T+=`\r
`}),T}function ja(g,T,k){t:{for(Q in k){var Q=!1;break t}Q=!0}Q||(k=Di(k),typeof g=="string"?k!=null&&Wn(k):hn(g,T,k))}function kn(g){Gt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(kn,Gt);var qr=/^https?$/i,Fa=["POST","PUT"];n=kn.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,T,k,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(xt){ws(this,xt);return}if(g=k||"",k=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var At in Q)k.set(At,Q[At]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const xt of Q.keys())k.set(xt,Q.get(xt));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(k.keys()).find(xt=>xt.toLowerCase()=="content-type"),At=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(Fa,T,void 0)>=0)||Q||At||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xt,Jt]of k)this.g.setRequestHeader(xt,Jt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(xt){ws(this,xt)}};function ws(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,ba(g),oa(g)}function ba(g){g.A||(g.A=!0,ie(g,"complete"),ie(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,ie(this,"complete"),ie(this,"abort"),oa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oa(this,!0)),kn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},n.Xa=function(){ks(this)};function ks(g){if(g.h&&typeof o<"u"){if(g.v&&zr(g)==4)setTimeout(g.Ca.bind(g),0);else if(ie(g,"readystatechange"),zr(g)==4){g.h=!1;try{const xt=g.ca();t:switch(xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var k;if(!(k=T)){var Q;if(Q=xt===0){let Jt=String(g.D).match(Zo)[1]||null;!Jt&&u.self&&u.self.location&&(Jt=u.self.location.protocol.slice(0,-1)),Q=!qr.test(Jt?Jt.toLowerCase():"")}k=Q}if(k)ie(g,"complete"),ie(g,"success");else{g.o=6;try{var At=zr(g)>2?g.g.statusText:""}catch{At=""}g.l=At+" ["+g.ca()+"]",ba(g)}}finally{oa(g)}}}}function oa(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const k=g.g;g.g=null,T||ie(g,"ready");try{k.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function zr(g){return g.g?g.g.readyState:0}n.ca=function(){try{return zr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),_e(T)}};function Ni(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Hr(g){const T={};g=(g.g&&zr(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<g.length;Q++){if(L(g[Q]))continue;var k=ki(g[Q]);const At=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const xt=T[At]||[];T[At]=xt,xt.push(k)}Ft(T,function(Q){return Q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(g,T,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||T}function Os(g){this.za=0,this.i=[],this.j=new sr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cr("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cr("baseRetryDelayMs",5e3,g),this.Za=Cr("retryDelaySeedMs",1e4,g),this.Ta=Cr("forwardChannelMaxRetries",2,g),this.va=Cr("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new ho(g&&g.concurrentRequestLimit),this.Ba=new xe,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Os.prototype,n.ka=8,n.I=1,n.connect=function(g,T,k,Q){He(0),this.W=g,this.H=T||{},k&&Q!==void 0&&(this.H.OSID=k,this.H.OAID=Q),this.F=this.X,this.J=Qt(this,null,this.W),As(this)};function wa(g){if(Ps(g),g.I==3){var T=g.V++,k=an(g.J);if(hn(k,"SID",g.M),hn(k,"RID",T),hn(k,"TYPE","terminate"),Gr(g,k),T=new ar(g,g.j,T),T.M=2,T.A=lr(an(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(T.A.toString(),"")}catch{}!k&&u.Image&&(new Image().src=T.A,k=!0),k||(T.g=oe(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Sr(T)}Vt(g)}function Ds(g){g.g&&(bo(g),g.g.cancel(),g.g=null)}function Ps(g){Ds(g),g.v&&(u.clearTimeout(g.v),g.v=null),P(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function As(g){if(!Tr(g.h)&&!g.m){g.m=!0;var T=g.Ea;vt||O(),pt||(vt(),pt=!0),j.add(T,g),g.D=0}}function qa(g,T){return is(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=sn(p(g.Ea,g,T),ct(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const At=new ar(this,this.j,g);let xt=this.o;if(this.U&&(xt?(xt=W(xt),Y(xt,this.U)):xt=this.U),this.u!==null||this.R||(At.J=xt,xt=null),this.S)t:{for(var T=0,k=0;k<this.i.length;k++){e:{var Q=this.i[k];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break e}Q=void 0}if(Q===void 0)break;if(T+=Q,T>4096){T=k;break t}if(T===4096||k===this.i.length-1){T=k+1;break t}}T=1e3}else T=1e3;T=rl(this,At,T),k=an(this.J),hn(k,"RID",g),hn(k,"CVER",22),this.G&&hn(k,"X-HTTP-Session-Id",this.G),Gr(this,k),xt&&(this.R?T="headers="+Wn(Di(xt))+"&"+T:this.u&&ja(k,this.u,xt)),Va(this.h,At),this.Ra&&hn(k,"TYPE","init"),this.S?(hn(k,"$req",T),hn(k,"SID","null"),At.U=!0,Oi(At,k,null)):Oi(At,k,T),this.I=2}}else this.I==3&&(g?Es(this,g):this.i.length==0||Tr(this.h)||Es(this))};function Es(g,T){var k;T?k=T.l:k=g.V++;const Q=an(g.J);hn(Q,"SID",g.M),hn(Q,"RID",k),hn(Q,"AID",g.K),Gr(g,Q),g.u&&g.o&&ja(Q,g.u,g.o),k=new ar(g,g.j,k,g.D+1),g.u===null&&(k.J=g.o),T&&(g.i=T.G.concat(g.i)),T=rl(g,k,1e3),k.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Va(g.h,k),Oi(k,Q,T)}function Gr(g,T){g.H&&Ct(g.H,function(k,Q){hn(T,Q,k)}),g.l&&Ct({},function(k,Q){hn(T,Q,k)})}function rl(g,T,k){k=Math.min(g.i.length,k);const Q=g.l?p(g.l.Ka,g.l,g):null;t:{var At=g.i;let Be=-1;for(;;){const Gn=["count="+k];Be==-1?k>0?(Be=At[0].g,Gn.push("ofs="+Be)):Be=0:Gn.push("ofs="+Be);let ln=!0;for(let On=0;On<k;On++){var xt=At[On].g;const Zi=At[On].map;if(xt-=Be,xt<0)Be=Math.max(0,At[On].g-100),ln=!1;else try{xt="req"+xt+"_"||"";try{var Jt=Zi instanceof Map?Zi:Object.entries(Zi);for(const[Rr,Jn]of Jt){let cr=Jn;h(Jn)&&(cr=Pe(Jn)),Gn.push(xt+Rr+"="+encodeURIComponent(cr))}}catch(Rr){throw Gn.push(xt+"type="+encodeURIComponent("_badmap")),Rr}}catch{Q&&Q(Zi)}}if(ln){Jt=Gn.join("&");break t}}Jt=void 0}return g=g.i.splice(0,k),T.G=g,Jt}function sl(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;vt||O(),pt||(vt(),pt=!0),j.add(T,g),g.A=0}}function Ss(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=sn(p(g.Da,g),ct(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,w(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=sn(p(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),Ds(this),w(this))};function bo(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function w(g){g.g=new ar(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=an(g.na);hn(T,"RID","rpc"),hn(T,"SID",g.M),hn(T,"AID",g.K),hn(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&hn(T,"TO",g.ia),hn(T,"TYPE","xmlhttp"),Gr(g,T),g.u&&g.o&&ja(T,g.u,g.o),g.O&&(g.g.H=g.O);var k=g.g;g=g.ba,k.M=1,k.A=lr(an(T)),k.u=null,k.R=!0,Er(k,g)}n.Va=function(){this.C!=null&&(this.C=null,Ds(this),Ss(this),He(19))};function P(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function nt(g,T){var k=null;if(g.g==T){P(g),bo(g),g.g=null;var Q=2}else if(ys(g.h,T))k=T.G,fo(g.h,T),Q=1;else return;if(g.I!=0){if(T.o)if(Q==1){k=T.u?T.u.length:0,T=Date.now()-T.F;var At=g.D;Q=rn(),ie(Q,new Se(Q,k)),As(g)}else sl(g);else if(At=T.m,At==3||At==0&&T.X>0||!(Q==1&&qa(g,T)||Q==2&&Ss(g)))switch(k&&k.length>0&&(T=g.h,T.i=T.i.concat(k)),At){case 1:_t(g,5);break;case 4:_t(g,10);break;case 3:_t(g,6);break;default:_t(g,2)}}}function ct(g,T){let k=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(k*=2),k*T}function _t(g,T){if(g.j.info("Error code "+T),T==2){var k=p(g.bb,g),Q=g.Ua;const At=!Q;Q=new Fr(Q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Si(Q,"https"),lr(Q),At?bs(Q.toString(),k):aa(Q.toString(),k)}else He(2);g.I=0,g.l&&g.l.pa(T),Vt(g),Ps(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function Vt(g){if(g.I=0,g.ja=[],g.l){const T=po(g.h);(T.length!=0||g.i.length!=0)&&(V(g.ja,T),V(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function Qt(g,T,k){var Q=k instanceof Fr?an(k):new Fr(k);if(Q.g!="")T&&(Q.g=T+"."+Q.g),ra(Q,Q.u);else{var At=u.location;Q=At.protocol,T=T?T+"."+At.hostname:At.hostname,At=+At.port;const xt=new Fr(null);Q&&Si(xt,Q),T&&(xt.g=T),At&&ra(xt,At),k&&(xt.h=k),Q=xt}return k=g.G,T=g.wa,k&&T&&hn(Q,k,T),hn(Q,"VER",g.ka),Gr(g,Q),Q}function oe(g,T,k){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new kn(new Ls({ab:k})):new kn(g.ma),T.Fa(g.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function he(){}n=he.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ie(){}Ie.prototype.g=function(g,T){return new ye(g,T)};function ye(g,T){Gt.call(this),this.g=new Os(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!L(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!L(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Fn(this)}A(ye,Gt),ye.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ye.prototype.close=function(){wa(this.g)},ye.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.v&&(k={},k.__data__=Pe(g),g=k);T.i.push(new ci(T.Ya++,g)),T.I==3&&As(T)},ye.prototype.N=function(){this.g.l=null,delete this.j,wa(this.g),delete this.g,ye.Z.N.call(this)};function gn(g){re.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){t:{for(const k in T){g=k;break t}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}A(gn,re);function $n(){Ee.call(this),this.status=1}A($n,Ee);function Fn(g){this.g=g}A(Fn,he),Fn.prototype.ra=function(){ie(this.g,"a")},Fn.prototype.qa=function(g){ie(this.g,new gn(g))},Fn.prototype.pa=function(g){ie(this.g,new $n)},Fn.prototype.oa=function(){ie(this.g,"b")},Ie.prototype.createWebChannel=Ie.prototype.g,ye.prototype.send=ye.prototype.o,ye.prototype.open=ye.prototype.m,ye.prototype.close=ye.prototype.close,E3=function(){return new Ie},A3=function(){return rn()},w3=Ve,_0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Rp=Vr,wr.COMPLETE="complete",b3=wr,Mn.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",Gt.prototype.listen=Gt.prototype.J,Cf=Mn,kn.prototype.listenOnce=kn.prototype.K,kn.prototype.getLastError=kn.prototype.Ha,kn.prototype.getLastErrorCode=kn.prototype.ya,kn.prototype.getStatus=kn.prototype.ca,kn.prototype.getResponseJson=kn.prototype.La,kn.prototype.getResponseText=kn.prototype.la,kn.prototype.send=kn.prototype.ea,kn.prototype.setWithCredentials=kn.prototype.Fa,_3=kn}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});const Cb="@firebase/firestore",Rb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ds.UNAUTHENTICATED=new ds(null),ds.GOOGLE_CREDENTIALS=new ds("google-credentials-uid"),ds.FIRST_PARTY=new ds("first-party-uid"),ds.MOCK_USER=new ds("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new G0("@firebase/firestore");function hh(){return gc.logLevel}function le(n,...t){if(gc.logLevel<=vn.DEBUG){const e=t.map(r2);gc.debug(`Firestore (${Dh}): ${n}`,...e)}}function Pl(n,...t){if(gc.logLevel<=vn.ERROR){const e=t.map(r2);gc.error(`Firestore (${Dh}): ${n}`,...e)}}function Nh(n,...t){if(gc.logLevel<=vn.WARN){const e=t.map(r2);gc.warn(`Firestore (${Dh}): ${n}`,...e)}}function r2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,S3(n,r,e)}function S3(n,t,e){let r=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Pl(r),new Error(r)}function qn(n,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,n||S3(t,a,r)}function tn(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends $o{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ds.UNAUTHENTICATED)))}shutdown(){}}class OR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class DR{constructor(t){this.t=t,this.currentUser=ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){qn(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new kl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kl,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kl)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string",31837,{l:r}),new T3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qn(t===null||typeof t=="string",2055,{h:t}),new ds(t)}}class PR{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ds.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MR{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new PR(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ds.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UR{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Js(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){qn(this.o===void 0,3512);const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const a=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(qn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new xb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=VR(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<e&&(r+=t.charAt(a[o]%62))}return r}}function _n(n,t){return n<t?-1:n>t?1:0}function b0(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const a=n.charAt(r),o=t.charAt(r);if(a!==o)return Km(a)===Km(o)?_n(a,o):Km(a)?1:-1}return _n(n.length,t.length)}const BR=55296,jR=57343;function Km(n){const t=n.charCodeAt(0);return t>=BR&&t<=jR}function Ih(n,t,e){return n.length===t.length&&n.every(((r,a)=>e(r,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="__name__";class Vo{constructor(t,e,r){e===void 0?e=0:e>t.length&&Fe(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Fe(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Vo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vo?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const o=Vo.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return _n(t.length,e.length)}static compareSegments(t,e){const r=Vo.isNumericId(t),a=Vo.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Vo.extractNumericId(t).compare(Vo.extractNumericId(e)):b0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Eu.fromString(t.substring(4,t.length-2))}}class gi extends Vo{construct(t,e,r){return new gi(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new pe(Xt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((a=>a.length>0)))}return new gi(e)}static emptyPath(){return new gi([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends Vo{construct(t,e,r){return new Jr(t,e,r)}static isValidIdentifier(t){return FR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lb}static keyField(){return new Jr([Lb])}static fromServerFormat(t){const e=[];let r="",a=0;const o=()=>{if(r.length===0)throw new pe(Xt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new pe(Xt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(Xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new pe(Xt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Jr(e)}static emptyPath(){return new Jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.path=t}static fromPath(t){return new Le(gi.fromString(t))}static fromName(t){return new Le(gi.fromString(t).popFirst(5))}static empty(){return new Le(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&gi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return gi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Le(new gi(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(n,t,e){if(!e)throw new pe(Xt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function qR(n,t,e,r){if(t===!0&&r===!0)throw new pe(Xt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function kb(n){if(!Le.isDocumentKey(n))throw new pe(Xt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ob(n){if(Le.isDocumentKey(n))throw new pe(Xt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function I3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function a2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function Iu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pe(Xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=a2(n);throw new pe(Xt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,t){const e={typeString:n};return t&&(e.value=t),e}function rd(n,t){if(!I3(n))throw new pe(Xt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new pe(Xt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=-62135596800,Pb=1e6;class mi{static now(){return mi.fromMillis(Date.now())}static fromDate(t){return mi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Pb);return new mi(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pe(Xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pe(Xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Db)throw new pe(Xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pe(Xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pb}_compareTo(t){return this.seconds===t.seconds?_n(this.nanoseconds,t.nanoseconds):_n(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(rd(t,mi._jsonSchema))return new mi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Db;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mi._jsonSchemaVersion="firestore/timestamp/1.0",mi._jsonSchema={type:rr("string",mi._jsonSchemaVersion),seconds:rr("number"),nanoseconds:rr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(t){return new Xe(t)}static min(){return new Xe(new mi(0,0))}static max(){return new Xe(new mi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=-1;function zR(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Xe.fromTimestamp(r===1e9?new mi(e+1,0):new mi(e,r));return new Cu(a,Le.empty(),t)}function HR(n){return new Cu(n.readTime,n.key,Gf)}class Cu{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Cu(Xe.min(),Le.empty(),Gf)}static max(){return new Cu(Xe.max(),Le.empty(),Gf)}}function GR(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Le.comparator(n.documentKey,t.documentKey),e!==0?e:_n(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(n){if(n.code!==Xt.FAILED_PRECONDITION||n.message!==YR)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Kt(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Kt?e:Kt.resolve(e)}catch(e){return Kt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Kt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Kt.reject(e)}static resolve(t){return new Kt(((e,r)=>{e(t)}))}static reject(t){return new Kt(((e,r)=>{r(t)}))}static waitFor(t){return new Kt(((e,r)=>{let a=0,o=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&e()}),(f=>r(f)))})),u=!0,o===a&&e()}))}static or(t){let e=Kt.resolve(!1);for(const r of t)e=e.next((a=>a?Kt.resolve(a):r()));return e}static forEach(t,e){const r=[];return t.forEach(((a,o)=>{r.push(e.call(this,a,o))})),this.waitFor(r)}static mapArray(t,e){return new Kt(((r,a)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const p=f;e(t[p]).next((v=>{u[p]=v,++h,h===o&&r(u)}),(v=>a(v)))}}))}static doWhile(t,e){return new Kt(((r,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):r()};o()}))}}function QR(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Mh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}g1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=-1;function m1(n){return n==null}function Kp(n){return n===0&&1/n==-1/0}function XR(n){return typeof n=="number"&&Number.isInteger(n)&&!Kp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="";function WR(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Mb(t)),t=$R(n.get(e),t);return Mb(t)}function $R(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case C3:e+="";break;default:e+=o}}return e}function Mb(n){return n+C3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Uu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function R3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t,e){this.comparator=t,this.root=e||$r.EMPTY}insert(t,e){return new Li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(t){return new Li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$r.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pp(this.root,t,this.comparator,!1)}getReverseIterator(){return new pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pp(this.root,t,this.comparator,!0)}}class pp{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $r{constructor(t,e,r,a,o){this.key=t,this.value=e,this.color=r??$r.RED,this.left=a??$r.EMPTY,this.right=o??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,o){return new $r(t??this.key,e??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const o=r(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,r),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return $r.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Fe(27949);return t+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(t,e,r,a,o){return this}insert(t,e,r){return new $r(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t){this.comparator=t,this.data=new Li(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(t){return new Vb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof br)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new br(this.comparator);return e.data=t,e}}class Vb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t){this.fields=t,t.sort(Jr.comparator)}static empty(){return new ya([])}unionWith(t){let e=new br(Jr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ya(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ih(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new x3("Invalid base64 string: "+o):o}})(t);return new ts(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(t);return new ts(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _n(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const JR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(n){if(qn(!!n,39018),typeof n=="string"){let t=0;const e=JR.exec(n);if(qn(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yi(n.seconds),nanos:Yi(n.nanos)}}function Yi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xu(n){return typeof n=="string"?ts.fromBase64String(n):ts.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="server_timestamp",k3="__type__",O3="__previous_value__",D3="__local_write_time__";function l2(n){return(n?.mapValue?.fields||{})[k3]?.stringValue===L3}function y1(n){const t=n.mapValue.fields[O3];return l2(t)?y1(t):t}function Yf(n){const t=Ru(n.mapValue.fields[D3].timestampValue);return new mi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,e,r,a,o,u,h,f,p,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const Qp="(default)";class Kf{constructor(t,e){this.projectId=t,this.database=e||Qp}static empty(){return new Kf("","")}get isDefaultDatabase(){return this.database===Qp}isEqual(t){return t instanceof Kf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__type__",tx="__max__",gp={mapValue:{}},M3="__vector__",Xp="value";function Lu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?l2(n)?4:nx(n)?9007199254740991:ex(n)?10:11:Fe(28295,{value:n})}function Ko(n,t){if(n===t)return!0;const e=Lu(n);if(e!==Lu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Yf(n).isEqual(Yf(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ru(a.timestampValue),h=Ru(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return xu(a.bytesValue).isEqual(xu(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Yi(a.geoPointValue.latitude)===Yi(o.geoPointValue.latitude)&&Yi(a.geoPointValue.longitude)===Yi(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Yi(a.integerValue)===Yi(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Yi(a.doubleValue),h=Yi(o.doubleValue);return u===h?Kp(u)===Kp(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return Ih(n.arrayValue.values||[],t.arrayValue.values||[],Ko);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Ub(u)!==Ub(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ko(u[f],h[f])))return!1;return!0})(n,t);default:return Fe(52216,{left:n})}}function Qf(n,t){return(n.values||[]).find((e=>Ko(e,t)))!==void 0}function Ch(n,t){if(n===t)return 0;const e=Lu(n),r=Lu(t);if(e!==r)return _n(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,t.booleanValue);case 2:return(function(o,u){const h=Yi(o.integerValue||o.doubleValue),f=Yi(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return Bb(n.timestampValue,t.timestampValue);case 4:return Bb(Yf(n),Yf(t));case 5:return b0(n.stringValue,t.stringValue);case 6:return(function(o,u){const h=xu(o),f=xu(u);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=_n(h[p],f[p]);if(v!==0)return v}return _n(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,u){const h=_n(Yi(o.latitude),Yi(u.latitude));return h!==0?h:_n(Yi(o.longitude),Yi(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return jb(n.arrayValue,t.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},p=h[Xp]?.arrayValue,v=f[Xp]?.arrayValue,A=_n(p?.values?.length||0,v?.values?.length||0);return A!==0?A:jb(p,v)})(n.mapValue,t.mapValue);case 11:return(function(o,u){if(o===gp.mapValue&&u===gp.mapValue)return 0;if(o===gp.mapValue)return 1;if(u===gp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const N=b0(f[A],v[A]);if(N!==0)return N;const b=Ch(h[f[A]],p[v[A]]);if(b!==0)return b}return _n(f.length,v.length)})(n.mapValue,t.mapValue);default:throw Fe(23264,{he:e})}}function Bb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return _n(n,t);const e=Ru(n),r=Ru(t),a=_n(e.seconds,r.seconds);return a!==0?a:_n(e.nanos,r.nanos)}function jb(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const o=Ch(e[a],r[a]);if(o)return o}return _n(e.length,r.length)}function Rh(n){return w0(n)}function w0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Ru(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return xu(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Le.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",a=!0;for(const o of e.values||[])a?a=!1:r+=",",r+=w0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${w0(e.fields[u])}`;return a+"}"})(n.mapValue):Fe(61005,{value:n})}function xp(n){switch(Lu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=y1(n);return t?16+xp(t):16;case 5:return 2*n.stringValue.length;case 6:return xu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+xp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Uu(r.fields,((o,u)=>{a+=o.length+xp(u)})),a})(n.mapValue);default:throw Fe(13486,{value:n})}}function A0(n){return!!n&&"integerValue"in n}function u2(n){return!!n&&"arrayValue"in n}function Fb(n){return!!n&&"nullValue"in n}function qb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lp(n){return!!n&&"mapValue"in n}function ex(n){return(n?.mapValue?.fields||{})[P3]?.stringValue===M3}function Mf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Uu(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Mf(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Mf(n.arrayValue.values[e]);return t}return{...n}}function nx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this.value=t}static empty(){return new Zs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Lp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mf(e)}setAll(t){let e=Jr.emptyPath(),r={},a=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,r,a),r={},a=[],e=h.popLast()}u?r[h.lastSegment()]=Mf(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,a)}delete(t){const e=this.field(t.popLast());Lp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ko(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];Lp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){Uu(e,((a,o)=>t[a]=o));for(const a of r)delete t[a]}clone(){return new Zs(Mf(this.value))}}function U3(n){const t=[];return Uu(n.fields,((e,r)=>{const a=new Jr([e]);if(Lp(r)){const o=U3(r.mapValue).fields;if(o.length===0)t.push(a);else for(const u of o)t.push(a.child(u))}else t.push(a)})),new ya(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,e,r,a,o,u,h){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new ps(t,0,Xe.min(),Xe.min(),Xe.min(),Zs.empty(),0)}static newFoundDocument(t,e,r,a){return new ps(t,1,e,Xe.min(),r,a,0)}static newNoDocument(t,e){return new ps(t,2,e,Xe.min(),Xe.min(),Zs.empty(),0)}static newUnknownDocument(t,e){return new ps(t,3,e,Xe.min(),Xe.min(),Zs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ps&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ps(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,e){this.position=t,this.inclusive=e}}function zb(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const o=t[a],u=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),e.key):r=Ch(u,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ko(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t,e="asc"){this.field=t,this.dir=e}}function ix(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{}class vr extends V3{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new sx(t,e,r):e==="array-contains"?new lx(t,r):e==="in"?new ux(t,r):e==="not-in"?new cx(t,r):e==="array-contains-any"?new hx(t,r):new vr(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new ax(t,r):new ox(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ch(e,this.value)):e!==null&&Lu(this.value)===Lu(e)&&this.matchesComparison(Ch(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qo extends V3{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Qo(t,e)}matches(t){return B3(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B3(n){return n.op==="and"}function j3(n){return rx(n)&&B3(n)}function rx(n){for(const t of n.filters)if(t instanceof Qo)return!1;return!0}function E0(n){if(n instanceof vr)return n.field.canonicalString()+n.op.toString()+Rh(n.value);if(j3(n))return n.filters.map((t=>E0(t))).join(",");{const t=n.filters.map((e=>E0(e))).join(",");return`${n.op}(${t})`}}function F3(n,t){return n instanceof vr?(function(r,a){return a instanceof vr&&r.op===a.op&&r.field.isEqual(a.field)&&Ko(r.value,a.value)})(n,t):n instanceof Qo?(function(r,a){return a instanceof Qo&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&F3(u,a.filters[h])),!0):!1})(n,t):void Fe(19439)}function q3(n){return n instanceof vr?(function(e){return`${e.field.canonicalString()} ${e.op} ${Rh(e.value)}`})(n):n instanceof Qo?(function(e){return e.op.toString()+" {"+e.getFilters().map(q3).join(" ,")+"}"})(n):"Filter"}class sx extends vr{constructor(t,e,r){super(t,e,r),this.key=Le.fromName(r.referenceValue)}matches(t){const e=Le.comparator(t.key,this.key);return this.matchesComparison(e)}}class ax extends vr{constructor(t,e){super(t,"in",e),this.keys=z3("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class ox extends vr{constructor(t,e){super(t,"not-in",e),this.keys=z3("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function z3(n,t){return(t.arrayValue?.values||[]).map((e=>Le.fromName(e.referenceValue)))}class lx extends vr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return u2(e)&&Qf(e.arrayValue,this.value)}}class ux extends vr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Qf(this.value.arrayValue,e)}}class cx extends vr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Qf(this.value.arrayValue,e)}}class hx extends vr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!u2(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Qf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,e=null,r=[],a=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Gb(n,t=null,e=[],r=[],a=null,o=null,u=null){return new fx(n,t,e,r,a,o,u)}function c2(n){const t=tn(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>E0(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),m1(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Rh(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Rh(r))).join(",")),t.Te=e}return t.Te}function h2(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ix(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!F3(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Hb(n.startAt,t.startAt)&&Hb(n.endAt,t.endAt)}function S0(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,e=null,r=[],a=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dx(n,t,e,r,a,o,u,h){return new v1(n,t,e,r,a,o,u,h)}function f2(n){return new v1(n)}function Yb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function px(n){return n.collectionGroup!==null}function Uf(n){const t=tn(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new br(Jr.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new $p(o,r))})),e.has(Jr.keyField().canonicalString())||t.Ie.push(new $p(Jr.keyField(),r))}return t.Ie}function qo(n){const t=tn(n);return t.Ee||(t.Ee=gx(t,Uf(n))),t.Ee}function gx(n,t){if(n.limitType==="F")return Gb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new $p(a.field,o)}));const e=n.endAt?new Wp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wp(n.startAt.position,n.startAt.inclusive):null;return Gb(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function T0(n,t,e){return new v1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function _1(n,t){return h2(qo(n),qo(t))&&n.limitType===t.limitType}function H3(n){return`${c2(qo(n))}|lt:${n.limitType}`}function fh(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>q3(a))).join(", ")}]`),m1(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Rh(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Rh(a))).join(",")),`Target(${r})`})(qo(n))}; limitType=${n.limitType})`}function b1(n,t){return t.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,a){for(const o of Uf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(r,a){return!(r.startAt&&!(function(u,h,f){const p=zb(u,h,f);return u.inclusive?p<=0:p<0})(r.startAt,Uf(r),a)||r.endAt&&!(function(u,h,f){const p=zb(u,h,f);return u.inclusive?p>=0:p>0})(r.endAt,Uf(r),a))})(n,t)}function mx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G3(n){return(t,e)=>{let r=!1;for(const a of Uf(n)){const o=yx(a,t,e);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function yx(n,t,e){const r=n.field.isKeyField()?Le.comparator(t.key,e.key):(function(o,u,h){const f=u.data.field(o),p=h.data.field(o);return f!==null&&p!==null?Ch(f,p):Fe(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Uu(this.inner,((e,r)=>{for(const[a,o]of r)t(a,o)}))}isEmpty(){return R3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Li(Le.comparator);function Ml(){return vx}const Y3=new Li(Le.comparator);function Rf(...n){let t=Y3;for(const e of n)t=t.insert(e.key,e);return t}function K3(n){let t=Y3;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ac(){return Vf()}function Q3(){return Vf()}function Vf(){return new Ec((n=>n.toString()),((n,t)=>n.isEqual(t)))}const _x=new Li(Le.comparator),bx=new br(Le.comparator);function bn(...n){let t=bx;for(const e of n)t=t.add(e);return t}const wx=new br(_n);function Ax(){return wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kp(t)?"-0":t}}function X3(n){return{integerValue:""+n}}function Ex(n,t){return XR(t)?X3(t):d2(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this._=void 0}}function Sx(n,t,e){return n instanceof Jp?(function(a,o){const u={fields:{[k3]:{stringValue:L3},[D3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&l2(o)&&(o=y1(o)),o&&(u.fields[O3]=o),{mapValue:u}})(e,t):n instanceof Xf?$3(n,t):n instanceof Wf?J3(n,t):(function(a,o){const u=W3(a,o),h=Kb(u)+Kb(a.Ae);return A0(u)&&A0(a.Ae)?X3(h):d2(a.serializer,h)})(n,t)}function Tx(n,t,e){return n instanceof Xf?$3(n,t):n instanceof Wf?J3(n,t):e}function W3(n,t){return n instanceof Zp?(function(r){return A0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class Jp extends w1{}class Xf extends w1{constructor(t){super(),this.elements=t}}function $3(n,t){const e=Z3(t);for(const r of n.elements)e.some((a=>Ko(a,r)))||e.push(r);return{arrayValue:{values:e}}}class Wf extends w1{constructor(t){super(),this.elements=t}}function J3(n,t){let e=Z3(t);for(const r of n.elements)e=e.filter((a=>!Ko(a,r)));return{arrayValue:{values:e}}}class Zp extends w1{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Kb(n){return Yi(n.integerValue||n.doubleValue)}function Z3(n){return u2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Nx(n,t){return n.field.isEqual(t.field)&&(function(r,a){return r instanceof Xf&&a instanceof Xf||r instanceof Wf&&a instanceof Wf?Ih(r.elements,a.elements,Ko):r instanceof Zp&&a instanceof Zp?Ko(r.Ae,a.Ae):r instanceof Jp&&a instanceof Jp})(n.transform,t.transform)}class Ix{constructor(t,e){this.version=t,this.transformResults=e}}class zo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new zo}static exists(t){return new zo(void 0,t)}static updateTime(t){return new zo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kp(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class A1{}function tA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new nA(n.key,zo.none()):new sd(n.key,n.data,zo.none());{const e=n.data,r=Zs.empty();let a=new br(Jr.comparator);for(let o of t.fields)if(!a.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Vu(n.key,r,new ya(a.toArray()),zo.none())}}function Cx(n,t,e){n instanceof sd?(function(a,o,u){const h=a.value.clone(),f=Xb(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Vu?(function(a,o,u){if(!kp(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Xb(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(eA(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Bf(n,t,e,r){return n instanceof sd?(function(o,u,h,f){if(!kp(o.precondition,u))return h;const p=o.value.clone(),v=Wb(o.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,r):n instanceof Vu?(function(o,u,h,f){if(!kp(o.precondition,u))return h;const p=Wb(o.fieldTransforms,f,u),v=u.data;return v.setAll(eA(o)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,t,e,r):(function(o,u,h){return kp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function Rx(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),o=W3(r.transform,a||null);o!=null&&(e===null&&(e=Zs.empty()),e.set(r.field,o))}return e||null}function Qb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ih(r,a,((o,u)=>Nx(o,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class sd extends A1{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vu extends A1{constructor(t,e,r,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function eA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function Xb(n,t,e){const r=new Map;qn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],u=o.transform,h=t.data.field(o.field);r.set(o.field,Tx(u,h,e[a]))}return r}function Wb(n,t,e){const r=new Map;for(const a of n){const o=a.transform,u=e.data.field(a.field);r.set(a.field,Sx(o,u,t))}return r}class nA extends A1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xx extends A1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&Cx(o,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Bf(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Bf(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Q3();return this.mutations.forEach((a=>{const o=t.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(a.key)?null:h;const f=tA(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),bn())}isEqual(t){return this.batchId===t.batchId&&Ih(this.mutations,t.mutations,((e,r)=>Qb(e,r)))&&Ih(this.baseMutations,t.baseMutations,((e,r)=>Qb(e,r)))}}class p2{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){qn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return _x})();const o=t.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new p2(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,In;function Dx(n){switch(n){case Xt.OK:return Fe(64938);case Xt.CANCELLED:case Xt.UNKNOWN:case Xt.DEADLINE_EXCEEDED:case Xt.RESOURCE_EXHAUSTED:case Xt.INTERNAL:case Xt.UNAVAILABLE:case Xt.UNAUTHENTICATED:return!1;case Xt.INVALID_ARGUMENT:case Xt.NOT_FOUND:case Xt.ALREADY_EXISTS:case Xt.PERMISSION_DENIED:case Xt.FAILED_PRECONDITION:case Xt.ABORTED:case Xt.OUT_OF_RANGE:case Xt.UNIMPLEMENTED:case Xt.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function iA(n){if(n===void 0)return Pl("GRPC error has no .code"),Xt.UNKNOWN;switch(n){case ir.OK:return Xt.OK;case ir.CANCELLED:return Xt.CANCELLED;case ir.UNKNOWN:return Xt.UNKNOWN;case ir.DEADLINE_EXCEEDED:return Xt.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return Xt.RESOURCE_EXHAUSTED;case ir.INTERNAL:return Xt.INTERNAL;case ir.UNAVAILABLE:return Xt.UNAVAILABLE;case ir.UNAUTHENTICATED:return Xt.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return Xt.INVALID_ARGUMENT;case ir.NOT_FOUND:return Xt.NOT_FOUND;case ir.ALREADY_EXISTS:return Xt.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return Xt.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return Xt.FAILED_PRECONDITION;case ir.ABORTED:return Xt.ABORTED;case ir.OUT_OF_RANGE:return Xt.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return Xt.UNIMPLEMENTED;case ir.DATA_LOSS:return Xt.DATA_LOSS;default:return Fe(39323,{code:n})}}(In=ir||(ir={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Eu([4294967295,4294967295],0);function $b(n){const t=Px().encode(n),e=new v3;return e.update(t),new Uint8Array(e.digest())}function Jb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Eu([e,r],0),new Eu([a,o],0)]}class g2{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new xf(`Invalid padding: ${e}`);if(r<0)throw new xf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xf(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new xf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Eu.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(Eu.fromNumber(r)));return a.compare(Mx)===1&&(a=new Eu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=$b(t),[r,a]=Jb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new g2(o,a,e);return r.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=$b(t),[r,a]=Jb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class xf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,e,r,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,ad.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new E1(Xe.min(),a,new Li(_n),Ml(),bn())}}class ad{constructor(t,e,r,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new ad(r,e,bn(),bn(),bn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,e,r,a){this.be=t,this.removedTargetIds=e,this.key=r,this.De=a}}class rA{constructor(t,e){this.targetId=t,this.Ce=e}}class sA{constructor(t,e,r=ts.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class Zb{constructor(){this.ve=0,this.Fe=tw(),this.Me=ts.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=bn(),e=bn(),r=bn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:Fe(38017,{changeType:o})}})),new ad(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=tw()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ux{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ml(),this.Je=mp(),this.He=mp(),this.Ye=new Li(_n)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Fe(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(S0(o))if(r===0){const u=new Le(o.path);this.et(e,u,ps.newNoDocument(u,Xe.min()))}else qn(r===1,20013,{expectedCount:r});else{const u=this._t(e);if(u!==r){const h=this.ut(t),f=h?this.ct(h,t,u):1;if(f!==0){this.it(e);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=e;let u,h;try{u=xu(r).toUint8Array()}catch(f){if(f instanceof x3)return Nh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new g2(u,a,o)}catch(f){return Nh(f instanceof xf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&S0(h.target)){const f=new Le(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,ps.newNoDocument(f,t))}o.Be&&(e.set(u,o.ke()),o.qe())}}));let r=bn();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const a=new E1(t,e,this.Ye,this.je,r);return this.je=Ml(),this.Je=mp(),this.He=mp(),this.Ye=new Li(_n),a}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Zb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new br(_n),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new br(_n),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||le("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Zb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function mp(){return new Li(Le.comparator)}function tw(){return new Li(Le.comparator)}const Vx={asc:"ASCENDING",desc:"DESCENDING"},Bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx={and:"AND",or:"OR"};class Fx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function N0(n,t){return n.useProto3Json||m1(t)?t:{value:t}}function t1(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function qx(n,t){return t1(n,t.toTimestamp())}function Ho(n){return qn(!!n,49232),Xe.fromTimestamp((function(e){const r=Ru(e);return new mi(r.seconds,r.nanos)})(n))}function m2(n,t){return I0(n,t).canonicalString()}function I0(n,t){const e=(function(a){return new gi(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function oA(n){const t=gi.fromString(n);return qn(fA(t),10190,{key:t.toString()}),t}function C0(n,t){return m2(n.databaseId,t.path)}function Qm(n,t){const e=oA(t);if(e.get(1)!==n.databaseId.projectId)throw new pe(Xt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new pe(Xt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Le(uA(e))}function lA(n,t){return m2(n.databaseId,t)}function zx(n){const t=oA(n);return t.length===4?gi.emptyPath():uA(t)}function R0(n){return new gi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uA(n){return qn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ew(n,t,e){return{name:C0(n,t),fields:e.value.mapValue.fields}}function Hx(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Fe(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(p,v){return p.useProto3Json?(qn(v===void 0||typeof v=="string",58123),ts.fromBase64String(v||"")):(qn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ts.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?Xt.UNKNOWN:iA(p.code);return new pe(v,p.message||"")})(u);e=new sA(r,a,o,h||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Qm(n,r.document.name),o=Ho(r.document.updateTime),u=r.document.createTime?Ho(r.document.createTime):Xe.min(),h=new Zs({mapValue:{fields:r.document.fields}}),f=ps.newFoundDocument(a,o,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];e=new Op(p,v,f.key,f)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Qm(n,r.document),o=r.readTime?Ho(r.readTime):Xe.min(),u=ps.newNoDocument(a,o),h=r.removedTargetIds||[];e=new Op([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Qm(n,r.document),o=r.removedTargetIds||[];e=new Op([],o,a,null)}else{if(!("filter"in t))return Fe(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new Ox(a,o),h=r.targetId;e=new rA(h,u)}}return e}function Gx(n,t){let e;if(t instanceof sd)e={update:ew(n,t.key,t.value)};else if(t instanceof nA)e={delete:C0(n,t.key)};else if(t instanceof Vu)e={update:ew(n,t.key,t.data),updateMask:t7(t.fieldMask)};else{if(!(t instanceof xx))return Fe(16599,{Vt:t.type});e={verify:C0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof Jp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Wf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zp)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Fe(20930,{transform:u.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:qx(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)})(n,t.precondition)),e}function Yx(n,t){return n&&n.length>0?(qn(t!==void 0,14353),n.map((e=>(function(a,o){let u=a.updateTime?Ho(a.updateTime):Ho(o);return u.isEqual(Xe.min())&&(u=Ho(o)),new Ix(u,a.transformResults||[])})(e,t)))):[]}function Kx(n,t){return{documents:[lA(n,t.path)]}}function Qx(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=lA(n,a);const o=(function(p){if(p.length!==0)return hA(Qo.create(p,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((v=>(function(N){return{field:dh(N.field),direction:$x(N.dir)}})(v)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=N0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function Xx(n){let t=zx(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){qn(r===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=(function(A){const N=cA(A);return N instanceof Qo&&j3(N)?N.getFilters():[N]})(e.where));let u=[];e.orderBy&&(u=(function(A){return A.map((N=>(function(V){return new $p(ph(V.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(N)))})(e.orderBy));let h=null;e.limit&&(h=(function(A){let N;return N=typeof A=="object"?A.value:A,m1(N)?null:N})(e.limit));let f=null;e.startAt&&(f=(function(A){const N=!!A.before,b=A.values||[];return new Wp(b,N)})(e.startAt));let p=null;return e.endAt&&(p=(function(A){const N=!A.before,b=A.values||[];return new Wp(b,N)})(e.endAt)),dx(t,a,u,o,h,"F",f,p)}function Wx(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function cA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=ph(e.unaryFilter.field);return vr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ph(e.unaryFilter.field);return vr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ph(e.unaryFilter.field);return vr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ph(e.unaryFilter.field);return vr.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(e){return vr.create(ph(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Qo.create(e.compositeFilter.filters.map((r=>cA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(e.compositeFilter.op))})(n):Fe(30097,{filter:n})}function $x(n){return Vx[n]}function Jx(n){return Bx[n]}function Zx(n){return jx[n]}function dh(n){return{fieldPath:n.canonicalString()}}function ph(n){return Jr.fromServerFormat(n.fieldPath)}function hA(n){return n instanceof vr?(function(e){if(e.op==="=="){if(qb(e.value))return{unaryFilter:{field:dh(e.field),op:"IS_NAN"}};if(Fb(e.value))return{unaryFilter:{field:dh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qb(e.value))return{unaryFilter:{field:dh(e.field),op:"IS_NOT_NAN"}};if(Fb(e.value))return{unaryFilter:{field:dh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dh(e.field),op:Jx(e.op),value:e.value}}})(n):n instanceof Qo?(function(e){const r=e.getFilters().map((a=>hA(a)));return r.length===1?r[0]:{compositeFilter:{op:Zx(e.op),filters:r}}})(n):Fe(54877,{filter:n})}function t7(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function fA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,e,r,a,o=Xe.min(),u=Xe.min(),h=ts.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new bu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(t){this.yt=t}}function n7(n){const t=Xx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?T0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.Cn=new r7}addToCollectionParentIndex(t,e){return this.Cn.add(e),Kt.resolve()}getCollectionParents(t,e){return Kt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Kt.resolve()}deleteFieldIndex(t,e){return Kt.resolve()}deleteAllFieldIndexes(t){return Kt.resolve()}createTargetIndexes(t,e){return Kt.resolve()}getDocumentsMatchingTarget(t,e){return Kt.resolve(null)}getIndexType(t,e){return Kt.resolve(0)}getFieldIndexes(t,e){return Kt.resolve([])}getNextCollectionGroupToUpdate(t){return Kt.resolve(null)}getMinOffset(t,e){return Kt.resolve(Cu.min())}getMinOffsetFromCollectionGroup(t,e){return Kt.resolve(Cu.min())}updateCollectionGroup(t,e,r){return Kt.resolve()}updateIndexEntries(t,e){return Kt.resolve()}}class r7{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new br(gi.comparator),o=!a.has(r);return this.index[e]=a.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new br(gi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dA=41943040;class $s{static withCacheSize(t){return new $s(t,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(dA,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xh(0)}static cr(){return new xh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="LruGarbageCollector",s7=1048576;function rw([n,t],[e,r]){const a=_n(n,e);return a===0?_n(t,r):a}class a7{constructor(t){this.Ir=t,this.buffer=new br(rw),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();rw(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class o7{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){le(iw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Mh(e)?le(iw,"Ignoring IndexedDB error during garbage collection: ",e):await Ph(e)}await this.Vr(3e5)}))}}class l7{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return Kt.resolve(g1.ce);const r=new a7(e);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Kt.resolve(nw)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nw):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,a,o,u,h,f,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,u=Date.now(),this.nthSequenceNumber(t,a)))).next((A=>(r=A,h=Date.now(),this.removeTargets(t,r,e)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(p=Date.now(),hh()<=vn.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),Kt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:A}))))}}function u7(n,t){return new l7(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(){this.changes=new Ec((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ps.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Kt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(r!==null&&Bf(r.mutation,a,ya.empty(),mi.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,bn()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=bn()){const a=ac();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,r).next((o=>{let u=Rf();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const r=ac();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,bn())))}populateOverlays(t,e,r){const a=[];return r.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,r,a){let o=Ml();const u=Vf(),h=(function(){return Vf()})();return e.forEach(((f,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Vu)?o=o.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Bf(v.mutation,p,v.mutation.getFieldMask(),mi.now())):u.set(p.key,ya.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((p,v)=>u.set(p,v))),e.forEach(((p,v)=>h.set(p,new h7(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,e){const r=Vf();let a=new Li(((u,h)=>u-h)),o=bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((f=>{const p=e.get(f);if(p===null)return;let v=r.get(f)||ya.empty();v=h.applyToLocalView(p,v),r.set(f,v);const A=(a.get(h.batchId)||bn()).add(f);a=a.insert(h.batchId,A)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,A=Q3();v.forEach((N=>{if(!o.has(N)){const b=tA(e.get(N),r.get(N));b!==null&&A.set(N,b),o=o.add(N)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,A))}return Kt.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,a){return(function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):px(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-o.size):Kt.resolve(ac());let h=Gf,f=o;return u.next((p=>Kt.forEach(p,((v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(v)?Kt.resolve():this.remoteDocumentCache.getEntry(t,v).next((N=>{f=f.insert(v,N)}))))).next((()=>this.populateOverlays(t,p,o))).next((()=>this.computeViews(t,f,p,bn()))).next((v=>({batchId:h,changes:K3(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Le(e)).next((r=>{let a=Rf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const o=e.collectionGroup;let u=Rf();return this.indexManager.getCollectionParents(t,o).next((h=>Kt.forEach(h,(f=>{const p=(function(A,N){return new v1(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next((v=>{v.forEach(((A,N)=>{u=u.insert(A,N)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,a)))).next((u=>{o.forEach(((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,ps.newInvalidDocument(v)))}));let h=Rf();return u.forEach(((f,p)=>{const v=o.get(f);v!==void 0&&Bf(v.mutation,p,ya.empty(),mi.now()),b1(e,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Kt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Ho(a.createTime)}})(e)),Kt.resolve()}getNamedQuery(t,e){return Kt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:n7(a.bundledQuery),readTime:Ho(a.readTime)}})(e)),Kt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.overlays=new Li(Le.comparator),this.qr=new Map}getOverlay(t,e){return Kt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ac();return Kt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((a,o)=>{this.St(t,e,o)})),Kt.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Kt.resolve()}getOverlaysForCollection(t,e,r){const a=ac(),o=e.length+1,u=new Le(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Kt.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let o=new Li(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=ac(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=ac(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return Kt.resolve(h)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kx(e,r));let o=this.qr.get(e);o===void 0&&(o=bn(),this.qr.set(e,o)),this.qr.set(e,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.sessionToken=ts.EMPTY_BYTE_STRING}getSessionToken(t){return Kt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Kt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Qr=new br(Mr.$r),this.Ur=new br(Mr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Mr(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Mr(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Le(new gi([])),r=new Mr(e,t),a=new Mr(e,t+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Le(new gi([])),r=new Mr(e,t),a=new Mr(e,t+1);let o=bn();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new Mr(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Mr{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Le.comparator(t.key,e.key)||_n(t.Yr,e.Yr)}static Kr(t,e){return _n(t.Yr,e.Yr)||Le.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new br(Mr.$r)}checkEmpty(t){return Kt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Lx(o,e,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Mr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Kt.resolve(u)}lookupMutationBatch(t,e){return Kt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.ei(r),o=a<0?0:a;return Kt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Kt.resolve(this.mutationQueue.length===0?o2:this.tr-1)}getAllMutationBatches(t){return Kt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Mr(e,0),a=new Mr(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),Kt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new br(_n);return e.forEach((a=>{const o=new Mr(a,0),u=new Mr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),Kt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new Mr(new Le(o),0);let h=new br(_n);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Yr)),!0)}),u),Kt.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){qn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Kt.forEach(e.mutations,(a=>{const o=new Mr(a.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Mr(e,0),a=this.Zr.firstAfterOrEqual(r);return Kt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Kt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t){this.ri=t,this.docs=(function(){return new Li(Le.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Kt.resolve(r?r.document.mutableCopy():ps.newInvalidDocument(e))}getEntries(t,e){let r=Ml();return e.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():ps.newInvalidDocument(a))})),Kt.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let o=Ml();const u=e.path,h=new Le(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||GR(HR(v),r)<=0||(a.has(v.key)||b1(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Kt.resolve(o)}getAllFromCollectionGroup(t,e,r,a){Fe(9500)}ii(t,e){return Kt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new v7(this)}getSize(t){return Kt.resolve(this.size)}}class v7 extends c7{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),Kt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(t){this.persistence=t,this.si=new Ec((e=>c2(e)),h2),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new y2,this.targetCount=0,this.ai=xh.ur()}forEachTarget(t,e){return this.si.forEach(((r,a)=>e(a))),Kt.resolve()}getLastRemoteSnapshotVersion(t){return Kt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Kt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Kt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),Kt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new xh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Kt.resolve()}updateTargetData(t,e){return this.Pr(e),Kt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Kt.resolve()}removeTargets(t,e,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=e&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),Kt.waitFor(o).next((()=>a))}getTargetCount(t){return Kt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return Kt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),Kt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((u=>{o.push(a.markPotentiallyOrphaned(t,u))})),Kt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Kt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return Kt.resolve(r)}containsKey(t,e){return Kt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,e){this.ui={},this.overlays={},this.ci=new g1(0),this.li=!1,this.li=!0,this.hi=new g7,this.referenceDelegate=t(this),this.Pi=new _7(this),this.indexManager=new i7,this.remoteDocumentCache=(function(a){return new y7(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new e7(e),this.Ii=new d7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new p7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new m7(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){le("MemoryPersistence","Starting transaction:",t);const a=new b7(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return Kt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class b7 extends KR{constructor(t){super(),this.currentSequenceNumber=t}}class v2{constructor(t){this.persistence=t,this.Ri=new y2,this.Vi=null}static mi(t){return new v2(t)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),Kt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),Kt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Kt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kt.forEach(this.fi,(r=>{const a=Le.fromPath(r);return this.gi(t,a).next((o=>{o||e.removeEntry(a,Xe.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Kt.or([()=>Kt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class e1{constructor(t,e){this.persistence=t,this.pi=new Ec((r=>WR(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=u7(this,e)}static mi(t,e){return new e1(t,e)}Ei(){}di(t){return Kt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return Kt.forEach(this.pi,((r,a)=>this.br(t,r,a).next((o=>o?Kt.resolve():e(a)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(u=>this.br(t,u,e).next((h=>{h||(r++,o.removeEntry(u,Xe.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Kt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Kt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Kt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Kt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=xp(t.data.value)),e}br(t,e,r){return Kt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return Kt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=a}static As(t,e){let r=bn(),a=bn();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new _2(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $N()?8:QR(gs())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new w7;return this.Ss(t,e,u).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,u,h.size)}))})).next((()=>o.result))}bs(t,e,r,a){return r.documentReadCount<this.fs?(hh()<=vn.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Kt.resolve()):(hh()<=vn.DEBUG&&le("QueryEngine","Query:",fh(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(hh()<=vn.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qo(e))):Kt.resolve())}ys(t,e){if(Yb(e))return Kt.resolve(null);let r=qo(e);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=T0(e,null,"F"),r=qo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const u=bn(...o);return this.ps.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,r).next((f=>{const p=this.Ds(e,h);return this.Cs(e,p,u,f.readTime)?this.ys(t,T0(e,null,"F")):this.vs(t,p,e,f)}))))})))))}ws(t,e,r,a){return Yb(e)||a.isEqual(Xe.min())?Kt.resolve(null):this.ps.getDocuments(t,r).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,r,a)?Kt.resolve(null):(hh()<=vn.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fh(e)),this.vs(t,u,e,zR(a,Gf)).next((h=>h)))}))}Ds(t,e){let r=new br(G3(t));return e.forEach(((a,o)=>{b1(t,o)&&(r=r.add(o))})),r}Cs(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,r){return hh()<=vn.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fh(e)),this.ps.getDocumentsMatchingQuery(t,e,Cu.min(),r)}vs(t,e,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="LocalStore",E7=3e8;class S7{constructor(t,e,r,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Li(_n),this.xs=new Ec((o=>c2(o)),h2),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new f7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function T7(n,t,e,r){return new S7(n,t,e,r)}async function gA(n,t){const e=tn(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let f=bn();for(const p of a){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of o){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function N7(n,t){const e=tn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,v){const A=p.batch,N=A.keys();let b=Kt.resolve();return N.forEach((V=>{b=b.next((()=>v.getEntry(f,V))).next((B=>{const z=p.docVersions.get(V);qn(z!==null,48541),B.version.compareTo(z)<0&&(A.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),v.addEntry(B)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=bn();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(r,a)))}))}function mA(n){const t=tn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function I7(n,t){const e=tn(n),r=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((v,A)=>{const N=a.get(A);if(!N)return;h.push(e.Pi.removeMatchingKeys(o,v.removedDocuments,A).next((()=>e.Pi.addMatchingKeys(o,v.addedDocuments,A))));let b=N.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(A)!==null?b=b.withResumeToken(ts.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),a=a.insert(A,b),(function(B,z,U){return B.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=E7?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(N,b,v)&&h.push(e.Pi.updateTargetData(o,b))}));let f=Ml(),p=bn();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(C7(o,u,t.documentUpdates).next((v=>{f=v.ks,p=v.qs}))),!r.isEqual(Xe.min())){const v=e.Pi.getLastRemoteSnapshotVersion(o).next((A=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return Kt.waitFor(h).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,p))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function C7(n,t,e){let r=bn(),a=bn();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let u=Ml();return e.forEach(((h,f)=>{const p=o.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):le(b2,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function R7(n,t){const e=tn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=o2),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function x7(n,t){const e=tn(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return e.Pi.getTargetData(r,t).next((o=>o?(a=o,Kt.resolve(a)):e.Pi.allocateTargetId(r).next((u=>(a=new bu(t,u,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=e.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function x0(n,t,e){const r=tn(n),a=r.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Mh(u))throw u;le(b2,`Failed to update sequence numbers for target ${t}: ${u}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function sw(n,t,e){const r=tn(n);let a=Xe.min(),o=bn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,v){const A=tn(f),N=A.xs.get(v);return N!==void 0?Kt.resolve(A.Ms.get(N)):A.Pi.getTargetData(p,v)})(r,u,qo(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,t,e?a:Xe.min(),e?o:bn()))).next((h=>(L7(r,mx(t),h),{documents:h,Qs:o})))))}function L7(n,t,e){let r=n.Os.get(t)||Xe.min();e.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(t,r)}class aw{constructor(){this.activeTargetIds=Ax()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class k7{constructor(){this.Mo=new aw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new aw,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="ConnectivityMonitor";class lw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(ow,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){le(ow,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp=null;function L0(){return yp===null?yp=(function(){return 268435456+Math.round(2147483648*Math.random())})():yp++,"0x"+yp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",D7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P7{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Qp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,e,r,a,o){const u=L0(),h=this.zo(t,e.toUriEncodedString());le(Xm,`Sending RPC '${t}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:p}=new URL(h),v=wc(p);return this.Jo(t,h,f,r,v).then((A=>(le(Xm,`Received RPC '${t}' ${u}: `,A),A)),(A=>{throw Nh(Xm,`RPC '${t}' ${u} failed with error: `,A,"url: ",h,"request:",r),A}))}Ho(t,e,r,a,o,u){return this.Go(t,e,r,a,o)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),r&&r.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const r=D7[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="WebChannelConnection";class U7 extends P7{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,a,o){const u=L0();return new Promise(((h,f)=>{const p=new _3;p.setWithCredentials(!0),p.listenOnce(b3.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Rp.NO_ERROR:const A=p.getResponseJson();le(fs,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),h(A);break;case Rp.TIMEOUT:le(fs,`RPC '${t}' ${u} timed out`),f(new pe(Xt.DEADLINE_EXCEEDED,"Request time out"));break;case Rp.HTTP_ERROR:const N=p.getStatus();if(le(fs,`RPC '${t}' ${u} failed with status:`,N,"response text:",p.getResponseText()),N>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b?.error;if(V&&V.status&&V.message){const B=(function(U){const rt=U.toLowerCase().replace(/_/g,"-");return Object.values(Xt).indexOf(rt)>=0?rt:Xt.UNKNOWN})(V.status);f(new pe(B,V.message))}else f(new pe(Xt.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(Xt.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(fs,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(a);le(fs,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",v,r,15)}))}T_(t,e,r){const a=L0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=E3(),h=A3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,r),f.encodeInitMessageHeaders=!0;const v=o.join("");le(fs,`Creating RPC '${t}' stream ${a}: ${v}`,f);const A=u.createWebChannel(v,f);this.I_(A);let N=!1,b=!1;const V=new M7({Yo:z=>{b?le(fs,`Not sending because RPC '${t}' stream ${a} is closed:`,z):(N||(le(fs,`Opening RPC '${t}' stream ${a} transport.`),A.open(),N=!0),le(fs,`RPC '${t}' stream ${a} sending:`,z),A.send(z))},Zo:()=>A.close()}),B=(z,U,rt)=>{z.listen(U,(tt=>{try{rt(tt)}catch(J){setTimeout((()=>{throw J}),0)}}))};return B(A,Cf.EventType.OPEN,(()=>{b||(le(fs,`RPC '${t}' stream ${a} transport opened.`),V.o_())})),B(A,Cf.EventType.CLOSE,(()=>{b||(b=!0,le(fs,`RPC '${t}' stream ${a} transport closed`),V.a_(),this.E_(A))})),B(A,Cf.EventType.ERROR,(z=>{b||(b=!0,Nh(fs,`RPC '${t}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),V.a_(new pe(Xt.UNAVAILABLE,"The operation could not be completed")))})),B(A,Cf.EventType.MESSAGE,(z=>{if(!b){const U=z.data[0];qn(!!U,16349);const rt=U,tt=rt?.error||rt[0]?.error;if(tt){le(fs,`RPC '${t}' stream ${a} received error:`,tt);const J=tt.status;let vt=(function(O){const R=ir[O];if(R!==void 0)return iA(R)})(J),pt=tt.message;vt===void 0&&(vt=Xt.INTERNAL,pt="Unknown error status: "+J+" with message "+tt.message),b=!0,V.a_(new pe(vt,pt)),A.close()}else le(fs,`RPC '${t}' stream ${a} received:`,U),V.u_(U)}})),B(h,w3.STAT_EVENT,(z=>{z.stat===_0.PROXY?le(fs,`RPC '${t}' stream ${a} detected buffering proxy`):z.stat===_0.NOPROXY&&le(fs,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n){return new Fx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,e,r=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="PersistentStream";class vA{constructor(t,e,r,a,o,u,h,f){this.Mi=t,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Xt.RESOURCE_EXHAUSTED?(Pl(e.toString()),Pl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Xt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===e&&this.G_(r,a)}),(r=>{t((()=>{const a=new pe(Xt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return le(uw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(le(uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class V7 extends vA{constructor(t,e,r,a,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Hx(this.serializer,t),r=(function(o){if(!("targetChange"in o))return Xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?Ho(u.readTime):Xe.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=R0(this.serializer),e.addTarget=(function(o,u){let h;const f=u.target;if(h=S0(f)?{documents:Kx(o,f)}:{query:Qx(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=aA(o,u.resumeToken);const p=N0(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Xe.min())>0){h.readTime=t1(o,u.snapshotVersion.toTimestamp());const p=N0(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const r=Wx(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=R0(this.serializer),e.removeTarget=t,this.q_(e)}}class B7 extends vA{constructor(t,e,r,a,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return qn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Yx(t.writeResults,t.commitTime),r=Ho(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=R0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>Gx(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{}class F7 extends j7{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(Xt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,I0(e,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(Xt.UNKNOWN,o.toString())}))}Ho(t,e,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(t,I0(e,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(Xt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pl(e),this.aa=!1):le("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="RemoteStore";class z7{constructor(t,e,r,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Sc(this)&&(le(mc,"Restarting streams for network reachability change."),await(async function(f){const p=tn(f);p.Ea.add(4),await od(p),p.Ra.set("Unknown"),p.Ea.delete(4),await T1(p)})(this))}))})),this.Ra=new q7(r,a)}}async function T1(n){if(Sc(n))for(const t of n.da)await t(!0)}async function od(n){for(const t of n.da)await t(!1)}function _A(n,t){const e=tn(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),S2(e)?E2(e):Uh(e).O_()&&A2(e,t))}function w2(n,t){const e=tn(n),r=Uh(e);e.Ia.delete(t),r.O_()&&bA(e,t),e.Ia.size===0&&(r.O_()?r.L_():Sc(e)&&e.Ra.set("Unknown"))}function A2(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xe.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Uh(n).Y_(t)}function bA(n,t){n.Va.Ue(t),Uh(n).Z_(t)}function E2(n){n.Va=new Ux({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Uh(n).start(),n.Ra.ua()}function S2(n){return Sc(n)&&!Uh(n).x_()&&n.Ia.size>0}function Sc(n){return tn(n).Ea.size===0}function wA(n){n.Va=void 0}async function H7(n){n.Ra.set("Online")}async function G7(n){n.Ia.forEach(((t,e)=>{A2(n,t)}))}async function Y7(n,t){wA(n),S2(n)?(n.Ra.ha(t),E2(n)):n.Ra.set("Unknown")}async function K7(n,t,e){if(n.Ra.set("Online"),t instanceof sA&&t.state===2&&t.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(r){le(mc,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await n1(n,r)}else if(t instanceof Op?n.Va.Ze(t):t instanceof rA?n.Va.st(t):n.Va.tt(t),!e.isEqual(Xe.min()))try{const r=await mA(n.localStore);e.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(p);v&&o.Ia.set(p,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,p)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(ts.EMPTY_BYTE_STRING,v.snapshotVersion)),bA(o,f);const A=new bu(v.target,f,p,v.sequenceNumber);A2(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(r){le(mc,"Failed to raise snapshot:",r),await n1(n,r)}}async function n1(n,t,e){if(!Mh(t))throw t;n.Ea.add(1),await od(n),n.Ra.set("Offline"),e||(e=()=>mA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(mc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await T1(n)}))}function AA(n,t){return t().catch((e=>n1(n,e,t)))}async function N1(n){const t=tn(n),e=ku(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:o2;for(;Q7(t);)try{const a=await R7(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,X7(t,a)}catch(a){await n1(t,a)}EA(t)&&SA(t)}function Q7(n){return Sc(n)&&n.Ta.length<10}function X7(n,t){n.Ta.push(t);const e=ku(n);e.O_()&&e.X_&&e.ea(t.mutations)}function EA(n){return Sc(n)&&!ku(n).x_()&&n.Ta.length>0}function SA(n){ku(n).start()}async function W7(n){ku(n).ra()}async function $7(n){const t=ku(n);for(const e of n.Ta)t.ea(e.mutations)}async function J7(n,t,e){const r=n.Ta.shift(),a=p2.from(r,t,e);await AA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await N1(n)}async function Z7(n,t){t&&ku(n).X_&&await(async function(r,a){if((function(u){return Dx(u)&&u!==Xt.ABORTED})(a.code)){const o=r.Ta.shift();ku(r).B_(),await AA(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await N1(r)}})(n,t),EA(n)&&SA(n)}async function cw(n,t){const e=tn(n);e.asyncQueue.verifyOperationInProgress(),le(mc,"RemoteStore received new credentials");const r=Sc(e);e.Ea.add(3),await od(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await T1(e)}async function tL(n,t){const e=tn(n);t?(e.Ea.delete(2),await T1(e)):t||(e.Ea.add(2),await od(e),e.Ra.set("Unknown"))}function Uh(n){return n.ma||(n.ma=(function(e,r,a){const o=tn(e);return o.sa(),new V7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:H7.bind(null,n),t_:G7.bind(null,n),r_:Y7.bind(null,n),H_:K7.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),S2(n)?E2(n):n.Ra.set("Unknown")):(await n.ma.stop(),wA(n))}))),n.ma}function ku(n){return n.fa||(n.fa=(function(e,r,a){const o=tn(e);return o.sa(),new B7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:W7.bind(null,n),r_:Z7.bind(null,n),ta:$7.bind(null,n),na:J7.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await N1(n)):(await n.fa.stop(),n.Ta.length>0&&(le(mc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,e,r,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new kl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,o){const u=Date.now()+r,h=new T2(t,e,u,a,o);return h.start(r),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Xt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N2(n,t){if(Pl("AsyncQueue",`${t}: ${n}`),Mh(n))return new pe(Xt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{static emptySet(t){return new Eh(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Le.comparator(e.key,r.key):(e,r)=>Le.comparator(e.key,r.key),this.keyedMap=Rf(),this.sortedSet=new Li(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Eh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Eh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.ga=new Li(Le.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Fe(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Lh{constructor(t,e,r,a,o,u,h,f,p){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(t,e,r,a,o){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Lh(t,e,Eh.emptySet(e),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nL{constructor(){this.queries=fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=tn(e),o=a.queries;a.queries=fw(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new pe(Xt.ABORTED,"Firestore shutting down"))}}function fw(){return new Ec((n=>H3(n)),_1)}async function TA(n,t){const e=tn(n);let r=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(r=2):(o=new eL,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=N2(u,`Initialization of query '${fh(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&I2(e)}async function NA(n,t){const e=tn(n),r=t.query;let a=3;const o=e.queries.get(r);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function iL(n,t){const e=tn(n);let r=!1;for(const a of t){const o=a.query,u=e.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&I2(e)}function rL(n,t,e){const r=tn(n),a=r.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);r.queries.delete(t)}function I2(n){n.Ca.forEach((t=>{t.next()}))}var k0,dw;(dw=k0||(k0={})).Ma="default",dw.Cache="cache";class IA{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Lh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Lh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==k0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t){this.key=t}}class RA{constructor(t){this.key=t}}class sL{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=bn(),this.mutatedKeys=bn(),this.eu=G3(t),this.tu=new Eh(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new hw,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((v,A)=>{const N=a.get(v),b=b1(this.query,A)?A:null,V=!!N&&this.mutatedKeys.has(N.key),B=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let z=!1;N&&b?N.data.isEqual(b.data)?V!==B&&(r.track({type:3,doc:b}),z=!0):this.su(N,b)||(r.track({type:2,doc:b}),z=!0,(f&&this.eu(b,f)>0||p&&this.eu(b,p)<0)&&(h=!0)):!N&&b?(r.track({type:0,doc:b}),z=!0):N&&!b&&(r.track({type:1,doc:N}),z=!0,(f||p)&&(h=!0)),z&&(b?(u=u.add(b),o=B?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((v,A)=>(function(b,V){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:z})}};return B(b)-B(V)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(r),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Lh(this.query,t.tu,o,u,t.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=bn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new RA(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new CA(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=bn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Lh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const C2="SyncEngine";class aL{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class oL{constructor(t){this.key=t,this.hu=!1}}class lL{constructor(t,e,r,a,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ec((h=>H3(h)),_1),this.Iu=new Map,this.Eu=new Set,this.du=new Li(Le.comparator),this.Au=new Map,this.Ru=new y2,this.Vu={},this.mu=new Map,this.fu=xh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uL(n,t,e=!0){const r=PA(n);let a;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await xA(r,t,e,!0),a}async function cL(n,t){const e=PA(n);await xA(e,t,!0,!1)}async function xA(n,t,e,r){const a=await x7(n.localStore,qo(t)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return r&&(h=await hL(n,t,o,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&_A(n.remoteStore,a),h}async function hL(n,t,e,r,a){n.pu=(A,N,b)=>(async function(B,z,U,rt){let tt=z.view.ru(U);tt.Cs&&(tt=await sw(B.localStore,z.query,!1).then((({documents:j})=>z.view.ru(j,tt))));const J=rt&&rt.targetChanges.get(z.targetId),vt=rt&&rt.targetMismatches.get(z.targetId)!=null,pt=z.view.applyChanges(tt,B.isPrimaryClient,J,vt);return gw(B,z.targetId,pt.au),pt.snapshot})(n,A,N,b);const o=await sw(n.localStore,t,!0),u=new sL(t,o.Qs),h=u.ru(o.documents),f=ad.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,f);gw(n,e,p.au);const v=new aL(t,e,u);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function fL(n,t,e){const r=tn(n),a=r.Tu.get(t),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!_1(u,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await x0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),e&&w2(r.remoteStore,a.targetId),O0(r,a.targetId)})).catch(Ph)):(O0(r,a.targetId),await x0(r.localStore,a.targetId,!0))}async function dL(n,t){const e=tn(n),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),w2(e.remoteStore,r.targetId))}async function pL(n,t,e){const r=wL(n);try{const a=await(function(u,h){const f=tn(u),p=mi.now(),v=h.reduce(((b,V)=>b.add(V.key)),bn());let A,N;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=Ml(),B=bn();return f.Ns.getEntries(b,v).next((z=>{V=z,V.forEach(((U,rt)=>{rt.isValidDocument()||(B=B.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,V))).next((z=>{A=z;const U=[];for(const rt of h){const tt=Rx(rt,A.get(rt.key).overlayedDocument);tt!=null&&U.push(new Vu(rt.key,tt,U3(tt.value.mapValue),zo.exists(!0)))}return f.mutationQueue.addMutationBatch(b,p,U,h)})).next((z=>{N=z;const U=z.applyToLocalDocumentSet(A,B);return f.documentOverlayCache.saveOverlays(b,z.batchId,U)}))})).then((()=>({batchId:N.batchId,changes:K3(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new Li(_n)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,e),await ld(r,a.changes),await N1(r.remoteStore)}catch(a){const o=N2(a,"Failed to persist write");e.reject(o)}}async function LA(n,t){const e=tn(n);try{const r=await I7(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const u=e.Au.get(o);u&&(qn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?qn(u.hu,14607):a.removedDocuments.size>0&&(qn(u.hu,42227),u.hu=!1))})),await ld(e,r,t)}catch(r){await Ph(r)}}function pw(n,t,e){const r=tn(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const f=tn(u);f.onlineState=h;let p=!1;f.queries.forEach(((v,A)=>{for(const N of A.Sa)N.va(h)&&(p=!0)})),p&&I2(f)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gL(n,t,e){const r=tn(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),o=a&&a.key;if(o){let u=new Li(Le.comparator);u=u.insert(o,ps.newNoDocument(o,Xe.min()));const h=bn().add(o),f=new E1(Xe.min(),new Map,new Li(_n),u,h);await LA(r,f),r.du=r.du.remove(o),r.Au.delete(t),R2(r)}else await x0(r.localStore,t,!1).then((()=>O0(r,t,e))).catch(Ph)}async function mL(n,t){const e=tn(n),r=t.batch.batchId;try{const a=await N7(e.localStore,t);OA(e,r,null),kA(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await ld(e,a)}catch(a){await Ph(a)}}async function yL(n,t,e){const r=tn(n);try{const a=await(function(u,h){const f=tn(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next((A=>(qn(A!==null,37113),v=A.keys(),f.mutationQueue.removeMutationBatch(p,A)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(r.localStore,t);OA(r,t,e),kA(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await ld(r,a)}catch(a){await Ph(a)}}function kA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function OA(n,t,e){const r=tn(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function O0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||DA(n,r)}))}function DA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(w2(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),R2(n))}function gw(n,t,e){for(const r of e)r instanceof CA?(n.Ru.addReference(r.key,t),vL(n,r)):r instanceof RA?(le(C2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||DA(n,r.key)):Fe(19791,{wu:r})}function vL(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(le(C2,"New document in limbo: "+e),n.Eu.add(r),R2(n))}function R2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Le(gi.fromString(t)),r=n.fu.next();n.Au.set(r,new oL(e)),n.du=n.du.insert(e,r),_A(n.remoteStore,new bu(qo(f2(e.path)),r,"TargetPurposeLimboResolution",g1.ce))}}async function ld(n,t,e){const r=tn(n),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,t,e).then((p=>{if((p||e)&&r.isPrimaryClient){const v=p?!p.fromCache:e?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){a.push(p);const v=_2.As(f.targetId,p);o.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(f,p){const v=tn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Kt.forEach(p,(N=>Kt.forEach(N.Es,(b=>v.persistence.referenceDelegate.addReference(A,N.targetId,b))).next((()=>Kt.forEach(N.ds,(b=>v.persistence.referenceDelegate.removeReference(A,N.targetId,b)))))))))}catch(A){if(!Mh(A))throw A;le(b2,"Failed to update sequence numbers: "+A)}for(const A of p){const N=A.targetId;if(!A.fromCache){const b=v.Ms.get(N),V=b.snapshotVersion,B=b.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(N,B)}}})(r.localStore,o))}async function _L(n,t){const e=tn(n);if(!e.currentUser.isEqual(t)){le(C2,"User change. New user:",t.toKey());const r=await gA(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new pe(Xt.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ld(e,r.Ls)}}function bL(n,t){const e=tn(n),r=e.Au.get(t);if(r&&r.hu)return bn().add(r.key);{let a=bn();const o=e.Iu.get(t);if(!o)return a;for(const u of o){const h=e.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function PA(n){const t=tn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=LA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gL.bind(null,t),t.Pu.H_=iL.bind(null,t.eventManager),t.Pu.yu=rL.bind(null,t.eventManager),t}function wL(n){const t=tn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yL.bind(null,t),t}class i1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=S1(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return T7(this.persistence,new A7,t.initialUser,this.serializer)}Cu(t){return new pA(v2.mi,this.serializer)}Du(t){return new k7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}i1.provider={build:()=>new i1};class AL extends i1{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){qn(this.persistence.referenceDelegate instanceof e1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new o7(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new pA((r=>e1.mi(r,e)),this.serializer)}}class D0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_L.bind(null,this.syncEngine),await tL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nL})()}createDatastore(t){const e=S1(t.databaseInfo.databaseId),r=(function(o){return new U7(o)})(t.databaseInfo);return(function(o,u,h,f){return new F7(o,u,h,f)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,a,o,u,h){return new z7(r,a,o,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>pw(this.syncEngine,e,0)),(function(){return lw.v()?new lw:new O7})())}createSyncEngine(t,e){return(function(a,o,u,h,f,p,v){const A=new lL(a,o,u,h,f,p);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=tn(e);le(mc,"RemoteStore shutting down."),r.Ea.add(5),await od(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}D0.provider={build:()=>new D0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Pl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="FirestoreClient";class EL{constructor(t,e,r,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=ds.UNAUTHENTICATED,this.clientId=s2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{le(Ou,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(le(Ou,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new kl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=N2(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function $m(n,t){n.asyncQueue.verifyOperationInProgress(),le(Ou,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await gA(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function mw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await SL(n);le(Ou,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>cw(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>cw(t.remoteStore,a))),n._onlineComponents=t}async function SL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Ou,"Using user provided OfflineComponentProvider");try{await $m(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Xt.FAILED_PRECONDITION||a.code===Xt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Nh("Error using user provided cache. Falling back to memory cache: "+e),await $m(n,new i1)}}else le(Ou,"Using default OfflineComponentProvider"),await $m(n,new AL(void 0));return n._offlineComponents}async function UA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Ou,"Using user provided OnlineComponentProvider"),await mw(n,n._uninitializedComponentsProvider._online)):(le(Ou,"Using default OnlineComponentProvider"),await mw(n,new D0))),n._onlineComponents}function TL(n){return UA(n).then((t=>t.syncEngine))}async function VA(n){const t=await UA(n),e=t.eventManager;return e.onListen=uL.bind(null,t.syncEngine),e.onUnlisten=fL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=cL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=dL.bind(null,t.syncEngine),e}function NL(n,t,e={}){const r=new kl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,p){const v=new MA({next:N=>{v.Nu(),u.enqueueAndForget((()=>NA(o,A)));const b=N.docs.has(h);!b&&N.fromCache?p.reject(new pe(Xt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&N.fromCache&&f&&f.source==="server"?p.reject(new pe(Xt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(N)},error:N=>p.reject(N)}),A=new IA(f2(h.path),v,{includeMetadataChanges:!0,qa:!0});return TA(o,A)})(await VA(n),n.asyncQueue,t,e,r))),r.promise}function IL(n,t,e={}){const r=new kl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,p){const v=new MA({next:N=>{v.Nu(),u.enqueueAndForget((()=>NA(o,A))),N.fromCache&&f.source==="server"?p.reject(new pe(Xt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(N)},error:N=>p.reject(N)}),A=new IA(h,v,{includeMetadataChanges:!0,qa:!0});return TA(o,A)})(await VA(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firestore.googleapis.com",vw=!0;class _w{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pe(Xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jA,this.ssl=vw}else this.host=t.host,this.ssl=t.ssl??vw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s7)throw new pe(Xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class I1{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pe(Xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _w(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kR;switch(r.type){case"firstParty":return new MR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=yw.get(e);r&&(le("ComponentProvider","Removing Datastore"),yw.delete(e),r.terminate())})(this),Promise.resolve()}}function CL(n,t,e,r={}){n=Iu(n,I1);const a=wc(t),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(z0(`https://${h}`),H0("Firestore",!0)),o.host!==jA&&o.host!==h&&Nh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:r};if(!hc(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=ds.MOCK_USER;else{p=O4(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new pe(Xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ds(A)}n._authCredentials=new OR(new T3(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new C1(this.firestore,t,this._query)}}class _r{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _r(this.firestore,t,this._key)}toJSON(){return{type:_r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(rd(e,_r._jsonSchema))return new _r(t,r||null,new Le(gi.fromString(e.referencePath)))}}_r._jsonSchemaVersion="firestore/documentReference/1.0",_r._jsonSchema={type:rr("string",_r._jsonSchemaVersion),referencePath:rr("string")};class Su extends C1{constructor(t,e,r){super(t,e,f2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _r(this.firestore,null,new Le(t))}withConverter(t){return new Su(this.firestore,t,this._path)}}function r1(n,t,...e){if(n=Zr(n),N3("collection","path",t),n instanceof I1){const r=gi.fromString(t,...e);return Ob(r),new Su(n,null,r)}{if(!(n instanceof _r||n instanceof Su))throw new pe(Xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gi.fromString(t,...e));return Ob(r),new Su(n.firestore,null,r)}}function x2(n,t,...e){if(n=Zr(n),arguments.length===1&&(t=s2.newId()),N3("doc","path",t),n instanceof I1){const r=gi.fromString(t,...e);return kb(r),new _r(n,null,new Le(r))}{if(!(n instanceof _r||n instanceof Su))throw new pe(Xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gi.fromString(t,...e));return kb(r),new _r(n.firestore,n instanceof Su?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="AsyncQueue";class ww{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yA(this,"async_queue_retry"),this._c=()=>{const r=Wm();r&&le(bw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Wm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Wm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new kl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Mh(t))throw t;le(bw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Pl("INTERNAL UNHANDLED ERROR: ",Aw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=T2.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Fe(47125,{Pc:Aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Aw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class ud extends I1{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new ww,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ww(t),this._firestoreClient=void 0,await t}}}function RL(n,t){const e=typeof n=="object"?n:K0(),r=typeof n=="string"?n:Qp,a=h1(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=x4("firestore");o&&CL(a,...o)}return a}function L2(n){if(n._terminated)throw new pe(Xt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xL(n),n._firestoreClient}function xL(n){const t=n._freezeSettings(),e=(function(a,o,u,h){return new ZR(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new EL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pa(ts.fromBase64String(t))}catch(e){throw new pe(Xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Pa(ts.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(rd(t,Pa._jsonSchema))return Pa.fromBase64String(t.bytes)}}Pa._jsonSchemaVersion="firestore/bytes/1.0",Pa._jsonSchema={type:rr("string",Pa._jsonSchemaVersion),bytes:rr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pe(Xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pe(Xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pe(Xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return _n(this._lat,t._lat)||_n(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Go._jsonSchemaVersion}}static fromJSON(t){if(rd(t,Go._jsonSchema))return new Go(t.latitude,t.longitude)}}Go._jsonSchemaVersion="firestore/geoPoint/1.0",Go._jsonSchema={type:rr("string",Go._jsonSchemaVersion),latitude:rr("number"),longitude:rr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Yo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(rd(t,Yo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Yo(t.vectorValues);throw new pe(Xt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yo._jsonSchemaVersion="firestore/vectorValue/1.0",Yo._jsonSchema={type:rr("string",Yo._jsonSchemaVersion),vectorValues:rr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^__.*__$/;class kL{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Vu(t,this.data,this.fieldMask,e,this.fieldTransforms):new sd(t,this.data,e,this.fieldTransforms)}}class FA{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Vu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function qA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:n})}}class O2{constructor(t,e,r,a,o,u){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new O2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return s1(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(qA(this.Ac)&&LL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OL{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||S1(t)}Cc(t,e,r,a=!1){return new O2({Ac:t,methodName:e,Dc:r,path:Jr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zA(n){const t=n._freezeSettings(),e=S1(n._databaseId);return new OL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function DL(n,t,e,r,a,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);D2("Data must be an object, but it was:",u,r);const h=HA(r,u);let f,p;if(o.merge)f=new ya(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const A of o.mergeFields){const N=P0(t,A,e);if(!u.contains(N))throw new pe(Xt.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);YA(v,N)||v.push(N)}f=new ya(v),p=u.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,p=u.fieldTransforms;return new kL(new Zs(h),f,p)}class x1 extends k2{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof x1}}function PL(n,t,e,r){const a=n.Cc(1,t,e);D2("Data must be an object, but it was:",a,r);const o=[],u=Zs.empty();Uu(r,((f,p)=>{const v=P2(t,f,e);p=Zr(p);const A=a.yc(v);if(p instanceof x1)o.push(v);else{const N=L1(p,A);N!=null&&(o.push(v),u.set(v,N))}}));const h=new ya(o);return new FA(u,h,a.fieldTransforms)}function ML(n,t,e,r,a,o){const u=n.Cc(1,t,e),h=[P0(t,r,e)],f=[a];if(o.length%2!=0)throw new pe(Xt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<o.length;N+=2)h.push(P0(t,o[N])),f.push(o[N+1]);const p=[],v=Zs.empty();for(let N=h.length-1;N>=0;--N)if(!YA(p,h[N])){const b=h[N];let V=f[N];V=Zr(V);const B=u.yc(b);if(V instanceof x1)p.push(b);else{const z=L1(V,B);z!=null&&(p.push(b),v.set(b,z))}}const A=new ya(p);return new FA(v,A,u.fieldTransforms)}function L1(n,t){if(GA(n=Zr(n)))return D2("Unsupported field value:",t,n),HA(n,t);if(n instanceof k2)return(function(r,a){if(!qA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let f=L1(h,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,t)}return(function(r,a){if((r=Zr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ex(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mi.fromDate(r);return{timestampValue:t1(a.serializer,o)}}if(r instanceof mi){const o=new mi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:t1(a.serializer,o)}}if(r instanceof Go)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pa)return{bytesValue:aA(a.serializer,r._byteString)};if(r instanceof _r){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:m2(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Yo)return(function(u,h){return{mapValue:{fields:{[P3]:{stringValue:M3},[Xp]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return d2(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${a2(r)}`)})(n,t)}function HA(n,t){const e={};return R3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uu(n,((r,a)=>{const o=L1(a,t.mc(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function GA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof Go||n instanceof Pa||n instanceof _r||n instanceof k2||n instanceof Yo)}function D2(n,t,e){if(!GA(e)||!I3(e)){const r=a2(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function P0(n,t,e){if((t=Zr(t))instanceof R1)return t._internalPath;if(typeof t=="string")return P2(n,t);throw s1("Field path arguments must be of type string or ",n,!1,void 0,e)}const UL=new RegExp("[~\\*/\\[\\]]");function P2(n,t,e){if(t.search(UL)>=0)throw s1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new R1(...t.split("."))._internalPath}catch{throw s1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function s1(n,t,e,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new pe(Xt.INVALID_ARGUMENT,h+n+f)}function YA(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t,e,r,a,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(QA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class VL extends KA{data(){return super.data()}}function QA(n,t){return typeof t=="string"?P2(n,t):t instanceof R1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(Xt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jL{convertValue(t,e="none"){switch(Lu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Fe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Uu(t,((a,o)=>{r[a]=this.convertValue(o,e)})),r}convertVectorValue(t){const e=t.fields?.[Xp].arrayValue?.values?.map((r=>Yi(r.doubleValue)));return new Yo(e)}convertGeoPoint(t){return new Go(Yi(t.latitude),Yi(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=y1(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Yf(t));default:return null}}convertTimestamp(t){const e=Ru(t);return new mi(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=gi.fromString(t);qn(fA(r),9688,{name:t});const a=new Kf(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(e)||Pl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class Lf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lc extends KA{constructor(t,e,r,a,o,u){super(t,e,r,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(QA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Xt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=lc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}lc._jsonSchemaVersion="firestore/documentSnapshot/1.0",lc._jsonSchema={type:rr("string",lc._jsonSchemaVersion),bundleSource:rr("string","DocumentSnapshot"),bundleName:rr("string"),bundle:rr("string")};class Dp extends lc{data(t={}){return super.data(t)}}class Sh{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Lf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Dp(this._firestore,this._userDataWriter,r.key,r,new Lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pe(Xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const f=new Dp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Lf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Dp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Lf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:qL(h.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Xt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Sh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=s2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(n){n=Iu(n,_r);const t=Iu(n.firestore,ud);return NL(L2(t),n._key).then((e=>GL(t,n,e)))}Sh._jsonSchemaVersion="firestore/querySnapshot/1.0",Sh._jsonSchema={type:rr("string",Sh._jsonSchemaVersion),bundleSource:rr("string","QuerySnapshot"),bundleName:rr("string"),bundle:rr("string")};class XA extends jL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _r(this.firestore,null,e)}}function WA(n){n=Iu(n,C1);const t=Iu(n.firestore,ud),e=L2(t),r=new XA(t);return BL(n._query),IL(e,n._query).then((a=>new Sh(t,r,n,a)))}function HL(n,t,e,...r){n=Iu(n,_r);const a=Iu(n.firestore,ud),o=zA(a);let u;return u=typeof(t=Zr(t))=="string"||t instanceof R1?ML(o,"updateDoc",n._key,t,e,r):PL(o,"updateDoc",n._key,t),JA(a,[u.toMutation(n._key,zo.exists(!0))])}function $A(n,t){const e=Iu(n.firestore,ud),r=x2(n),a=FL(n.converter,t);return JA(e,[DL(zA(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,zo.exists(!1))]).then((()=>r))}function JA(n,t){return(function(r,a){const o=new kl;return r.asyncQueue.enqueueAndForget((async()=>pL(await TL(r),a,o))),o.promise})(L2(n),t)}function GL(n,t,e){const r=e.docs.get(t._key),a=new XA(n);return new lc(n,a,t._key,r,new Lf(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Dh=a})(Ac),fc(new Nu("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new ud(new DR(r.getProvider("auth-internal")),new UR(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(Xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(p.options.projectId,v)})(u,a),u);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),jo(Cb,Rb,t),jo(Cb,Rb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebasestorage.googleapis.com",YL="storageBucket",KL=120*1e3,QL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends $o{constructor(t,e,r=0){super(Jm(t),`Firebase Storage: ${e} (${Jm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jo.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Jm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xo;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xo||(Xo={}));function Jm(n){return"storage/"+n}function XL(){const n="An unknown error occurred, please check the error payload for server response.";return new Jo(Xo.UNKNOWN,n)}function WL(){return new Jo(Xo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $L(){return new Jo(Xo.CANCELED,"User canceled the upload/download.")}function JL(n){return new Jo(Xo.INVALID_URL,"Invalid URL '"+n+"'.")}function ZL(n){return new Jo(Xo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ew(n){return new Jo(Xo.INVALID_ARGUMENT,n)}function tE(){return new Jo(Xo.APP_DELETED,"The Firebase app was deleted.")}function tk(n){return new Jo(Xo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=ao.makeFromUrl(t,e)}catch{return new ao(t,"")}if(r.path==="")return r;throw ZL(t)}static makeFromUrl(t,e){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function p(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",A=e.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",b=new RegExp(`^https?://${A}/${v}/b/${a}/o${N}`,"i"),V={bucket:1,path:3},B=e===ZA?"(?:storage.googleapis.com|storage.cloud.google.com)":e,z="([^?#]*)",U=new RegExp(`^https?://${B}/${a}/${z}`,"i"),tt=[{regex:h,indices:f,postModify:o},{regex:b,indices:V,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let J=0;J<tt.length;J++){const vt=tt[J],pt=vt.regex.exec(t);if(pt){const j=pt[vt.indices.bucket];let O=pt[vt.indices.path];O||(O=""),r=new ao(j,O),vt.postModify(r);break}}if(r==null)throw JL(t);return r}}class ek{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n,t,e){let r=1,a=null,o=null,u=!1,h=0;function f(){return h===2}let p=!1;function v(...z){p||(p=!0,t.apply(null,z))}function A(z){a=setTimeout(()=>{a=null,n(b,f())},z)}function N(){o&&clearTimeout(o)}function b(z,...U){if(p){N();return}if(z){N(),v.call(null,z,...U);return}if(f()||u){N(),v.call(null,z,...U);return}r<64&&(r*=2);let tt;h===1?(h=2,tt=0):tt=(r+Math.random())*1e3,A(tt)}let V=!1;function B(z){V||(V=!0,N(),!p&&(a!==null?(z||(h=2),clearTimeout(a),A(0)):z||(h=1)))}return A(0),o=setTimeout(()=>{u=!0,B(!0)},e),B}function ik(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){return n!==void 0}function Sw(n,t,e,r){if(r<t)throw Ew(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Ew(`Invalid value for '${n}'. Expected ${e} or less.`)}function sk(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const a=t(r)+"="+t(n[r]);e=e+a+"&"}return e=e.slice(0,-1),e}var a1;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(a1||(a1={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,e,r,a,o,u,h,f,p,v,A,N=!0,b=!1){this.url_=t,this.method_=e,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=A,this.retry=N,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,B)=>{this.resolve_=V,this.reject_=B,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new vp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===a1.NO_ERROR,f=o.getStatus();if(!h||ak(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===a1.ABORT;r(!1,new vp(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new vp(p,o))})},e=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());rk(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=XL();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(a.canceled){const f=this.appDelete_?tE():$L();u(f)}else{const f=WL();u(f)}};this.canceled_?e(!1,new vp(!1,null,!0)):this.backoffId_=nk(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ik(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vp{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function lk(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function uk(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ck(n,t){t&&(n["X-Firebase-GMPID"]=t)}function hk(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function fk(n,t,e,r,a,o,u=!0,h=!1){const f=sk(n.urlParams),p=n.url+f,v=Object.assign({},n.headers);return ck(v,t),lk(v,e),uk(v,o),hk(v,r),new ok(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function pk(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,e){this._service=t,e instanceof ao?this._location=e:this._location=ao.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new o1(t,e)}get root(){const t=new ao(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pk(this._location.path)}get storage(){return this._service}get parent(){const t=dk(this._location.path);if(t===null)return null;const e=new ao(this._location.bucket,t);return new o1(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw tk(t)}}function Tw(n,t){const e=t?.[YL];return e==null?null:ao.makeFromBucketSpec(e,n)}function gk(n,t,e,r={}){n.host=`${t}:${e}`;const a=wc(t);a&&(z0(`https://${n.host}/b`),H0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:O4(o,n.app.options.projectId))}class mk{constructor(t,e,r,a,o,u=!1){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=ZA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KL,this._maxUploadRetryTime=QL,this._requests=new Set,a!=null?this._bucket=ao.makeFromBucketSpec(a,this._host):this._bucket=Tw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ao.makeFromBucketSpec(this._url,t):this._bucket=Tw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Sw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Sw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Js(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new o1(this,t)}_makeRequest(t,e,r,a,o=!0){if(this._deleted)return new ek(tE());{const u=fk(t,this._appId,r,a,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,e){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,a).getPromise()}}const Nw="@firebase/storage",Iw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="storage";function yk(n=K0(),t){n=Zr(n);const r=h1(n,eE).getImmediate({identifier:t}),a=x4("storage");return a&&vk(r,...a),r}function vk(n,t,e,r={}){gk(n,t,e,r)}function _k(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new mk(e,r,a,t,Ac)}function bk(){fc(new Nu(eE,_k,"PUBLIC").setMultipleInstances(!0)),jo(Nw,Iw,""),jo(Nw,Iw,"esm2020")}bk();const wk={apiKey:"AIzaSyBcqkX0mesafA3GkLqZEiiB45CUsqsZVps",authDomain:"etegah-4c040.firebaseapp.com",projectId:"etegah-4c040",storageBucket:"etegah-4c040.appspot.com",messagingSenderId:"63353908823",appId:"1:63353908823:web:91297743b7919ca5703d12",measurementId:"G-7CGGRKCP8X"},M2=M4(wk),Tf=xR(M2),Th=RL(M2);yk(M2);const Cw=["admin","editor","viewer"],Ak=()=>{const[n,t]=ui.useState([]),[e,r]=ui.useState(""),[a,o]=ui.useState("viewer"),[u,h]=ui.useState(!1),f=async()=>{h(!0);const A=await WA(r1(Th,"users"));t(A.docs.map(N=>({id:N.id,...N.data()}))),h(!1)};ui.useEffect(()=>{f()},[]);const p=async A=>{A.preventDefault(),await $A(r1(Th,"users"),{email:e,role:a}),r(""),o("viewer"),f()},v=async(A,N)=>{await HL(x2(Th,"users",A),{role:N}),f()};return zt.jsxs("div",{children:[zt.jsxs("form",{onSubmit:p,className:"flex gap-2 mb-4",children:[zt.jsx("input",{value:e,onChange:A=>r(A.target.value),placeholder:"User email",className:"border px-2 py-1 rounded",required:!0}),zt.jsx("select",{value:a,onChange:A=>o(A.target.value),className:"border px-2 py-1 rounded",children:Cw.map(A=>zt.jsx("option",{children:A},A))}),zt.jsx("button",{type:"submit",className:"admin-btn",children:"Add User"})]}),u?zt.jsx("div",{children:"Loading..."}):zt.jsxs("table",{className:"w-full text-sm",children:[zt.jsx("thead",{children:zt.jsxs("tr",{children:[zt.jsx("th",{children:"Email"}),zt.jsx("th",{children:"Role"}),zt.jsx("th",{children:"Change"})]})}),zt.jsx("tbody",{children:n.map(A=>zt.jsxs("tr",{children:[zt.jsx("td",{children:A.email}),zt.jsx("td",{children:A.role}),zt.jsx("td",{children:zt.jsx("select",{value:A.role,onChange:N=>v(A.id,N.target.value),className:"border px-1 py-0.5 rounded",children:Cw.map(N=>zt.jsx("option",{children:N},N))})})]},A.id))})]})]})},Ek=()=>zt.jsxs("div",{className:"flex flex-col gap-4",children:[zt.jsxs("div",{className:"bg-gray-100 rounded p-4",children:[zt.jsx("h3",{className:"font-semibold mb-2",children:"Node Visits"}),zt.jsx("div",{className:"h-24 flex items-center justify-center text-gray-400",children:"(Chart coming soon)"})]}),zt.jsxs("div",{className:"bg-gray-100 rounded p-4",children:[zt.jsx("h3",{className:"font-semibold mb-2",children:"Frequent Paths"}),zt.jsx("div",{className:"h-24 flex items-center justify-center text-gray-400",children:"(Chart coming soon)"})]}),zt.jsxs("div",{className:"bg-gray-100 rounded p-4",children:[zt.jsx("h3",{className:"font-semibold mb-2",children:"QR Scans"}),zt.jsx("div",{className:"h-24 flex items-center justify-center text-gray-400",children:"(Chart coming soon)"})]})]}),Sk=()=>{const[n,t]=ui.useState([]),[e,r]=ui.useState(!1),a=async()=>{r(!0);const h=await WA(r1(Th,"mapVersions"));t(h.docs.map(f=>({id:f.id,...f.data()}))),r(!1)};ui.useEffect(()=>{a()},[]);const o=async()=>{await $A(r1(Th,"mapVersions"),{date:new Date().toISOString(),data:{nodes:[],edges:[]}}),a()},u=async h=>{const f=await zL(x2(Th,"mapVersions",h));alert("Restoring version: "+JSON.stringify(f.data()))};return zt.jsxs("div",{children:[zt.jsx("button",{className:"admin-btn mb-2",onClick:o,children:"Backup Now"}),e?zt.jsx("div",{children:"Loading..."}):zt.jsxs("table",{className:"w-full text-sm",children:[zt.jsx("thead",{children:zt.jsxs("tr",{children:[zt.jsx("th",{children:"Date"}),zt.jsx("th",{children:"Action"})]})}),zt.jsx("tbody",{children:n.map(h=>zt.jsxs("tr",{children:[zt.jsx("td",{children:h.date}),zt.jsx("td",{children:zt.jsx("button",{className:"admin-btn",onClick:()=>u(h.id),children:"Restore"})})]},h.id))})]})]})},Rw=({className:n})=>zt.jsx("img",{src:"/logo_black.png",alt:"Etigah Logo",className:n||"w-16 h-16 mx-auto",style:{display:"block"},draggable:!1}),Tk=()=>{const[n,t]=ui.useState(null),e=ui.useRef(null),[r,a]=ui.useState(!1),[o,u]=ui.useState(""),[h,f]=ui.useState(""),[p,v]=ui.useState("");ui.useEffect(()=>{const V=_C(Tf,B=>t(B));return()=>V()},[]);const A=async V=>{V&&V.preventDefault(),v("");try{r?await gC(Tf,o,h):await mC(Tf,o,h)}catch(B){v(B.message||"Authentication failed")}},N=async()=>{v("");try{await BC(Tf,new Cl)}catch(V){v(V.message||"Google sign-in failed")}},b=async()=>{await Tf.signOut()};return zt.jsxs("div",{className:"admin-root",role:"main","aria-label":"Etigah Admin Dashboard",children:[zt.jsxs("header",{className:"admin-header","aria-label":"Dashboard Header",children:[zt.jsx(Rw,{className:"w-20 h-20 mx-auto mb-2"}),zt.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Etigah Admin Dashboard"}),zt.jsx("p",{className:"text-gray-500 mb-4",children:"Map & Data Management"}),zt.jsx("div",{className:"flex justify-center items-center gap-4",children:n?zt.jsxs(zt.Fragment,{children:[zt.jsx("span",{className:"text-gray-700 font-medium",children:n.displayName||n.email}),zt.jsx("button",{className:"px-4 py-2 rounded bg-gray-900 text-white hover:bg-gray-700 transition",onClick:b,children:"Sign Out"})]}):null})]}),zt.jsx("main",{className:"admin-main",tabIndex:0,"aria-label":"Main Content Area",children:n?zt.jsxs(zt.Fragment,{children:[zt.jsxs("section",{className:"admin-section bg-white rounded-2xl shadow-xl p-8 mt-4",children:[zt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Map Editor"}),zt.jsx(ON,{ref:e})]}),zt.jsxs("section",{className:"admin-section bg-white rounded-2xl shadow-xl p-8 mt-4",children:[zt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"QR Code Management"}),zt.jsxs("div",{className:"flex gap-4 flex-wrap",children:[zt.jsx("button",{className:"admin-btn",onClick:()=>e.current?.handleGenerateQRCodes?.(),children:"Generate All QR Codes"}),zt.jsx("button",{className:"admin-btn",onClick:()=>e.current?.handleExportQRCodesPDF?.(),children:"Export as PDF"})]})]}),zt.jsxs("section",{className:"admin-section bg-white rounded-2xl shadow-xl p-8 mt-4",children:[zt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User & Role Management"}),zt.jsx(Ak,{})]}),zt.jsxs("section",{className:"admin-section bg-white rounded-2xl shadow-xl p-8 mt-4",children:[zt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Analytics Dashboard"}),zt.jsx(Ek,{})]}),zt.jsxs("section",{className:"admin-section bg-white rounded-2xl shadow-xl p-8 mt-4",children:[zt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Version Control & Backup"}),zt.jsx(Sk,{})]})]}):zt.jsxs("div",{className:"admin-auth bg-white rounded-2xl shadow-xl p-8 mt-8 flex flex-col items-center",children:[zt.jsx(Rw,{className:"w-16 h-16 mb-4"}),zt.jsx("h2",{className:"text-2xl font-bold mb-2",children:r?"Sign Up":"Sign In"}),zt.jsxs("form",{className:"w-full flex flex-col gap-3",onSubmit:A,children:[zt.jsx("input",{type:"email",className:"border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Email",value:o,onChange:V=>u(V.target.value),required:!0}),zt.jsx("input",{type:"password",className:"border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Password",value:h,onChange:V=>f(V.target.value),required:!0}),p&&zt.jsx("div",{className:"text-red-500 text-sm mb-2",children:p}),zt.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-semibold hover:bg-blue-700 transition",children:r?"Sign Up":"Sign In"})]}),zt.jsx("button",{className:"w-full mt-3 bg-gray-900 text-white py-2 rounded font-semibold hover:bg-gray-700 transition",onClick:N,children:"Sign in with Google"}),zt.jsx("button",{className:"mt-2 text-blue-600 hover:underline text-sm",onClick:()=>{a(!r),v("")},children:r?"Already have an account? Sign In":"Don't have an account? Sign Up"})]})})]})};_S.createRoot(document.getElementById("root")).render(zt.jsx(Tk,{}));export{Xn as _,Nk as c,xw as g};
